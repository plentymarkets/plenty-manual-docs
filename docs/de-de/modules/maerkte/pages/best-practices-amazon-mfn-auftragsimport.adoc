= Amazon Best Practice: MFN-Auftragsimport
:author: team-plenty-channel
:keywords: Amazon Händlerversand, MFN, Merchant Fulfillment Network, MFN-Auftragsimport
:id: TPQK10E

In diesem Best Practice werden unterschiedliche Lösungswege für Probleme aufgezeigt, welche dazu führen können, dass eure MFN-Aufträge (MFN = merchant fulfillment network, also Händlerversand) nicht importiert werden. Dabei gehen wir davon aus, dass in den Amazon-Grundeinstellungen der Auftragsimport bereits aktiviert wurde.

[#100]
== Autorisierung ist abgelaufen oder fehlt

Damit plentymarkets mit Amazon Daten austauschen kann, müsst ihr plentymarkets erlauben, auf euer Amazon-Konto zuzugreifen. Den Zugriff auf euer Konto erlaubt ihr im Menü *Einrichtung » Märkte » Amazon » Einstellungen* beim Erstellen eines neuen Kontos. Wenn ihr den Zugriff erlaubt habt, ist dies auch im Seller Central unter *Einstellungen » Benutzerberechtigungen* im Bereich *Amazon MWS Entwicklerberechtigungen* sichtbar. Ist die Berechtigung nicht vorhanden, werden Anfragen von Amazon blockiert. plentymarkets kann also weder Daten von Amazon abrufen, noch Daten zu Amazon senden.

[IMPORTANT]
====
Ihr könnt diesen Fall erkennen, indem ihr im Seller Central prüft, ob die Berechtigung vorliegt. Diese Einstellung findet ihr im Menü *Einstellungen » Benutzerberechtigungen* im Bereich *Amazon MWS Entwicklerberechtigungen*.
Ein weiteres Anzeichen dafür ist die Fehlermeldung: _Error:Access to Reports. (GetReportScheduleList) is denied_ die ihr dann bei fast allen Anfragen bekommt. Zu finden ist diese Fehlermeldung in den Logs oder im Menü *Einrichtung » Märkte » Amazon » Datenaustausch » Berichte*, wenn ihr, wie im nächsten Punkt beschrieben, die _scheduled reports_ setzt.
====

In unserem xref:maerkte:amazon-einrichten.adoc#300[Handbuch] wird beschrieben, wie ihr den Zugriff erteilt.

[#200]
== Zugriffsberechtigung abgelaufen

Ihr könnt die Zugriffsberechtigung über den Assistenten *Amazon - Grundeinstellungen* im Menü *Einrichtung » Assistenten » Omni-Channel* aktualisieren. Klickt dazu im Schritt *Zugriff auf Amazon erlauben* auf *Zugriff erlauben*. Ihr werdet zu Amazon weitergeleitet und müsst euch dort mit euren Amazon-Zugangsdaten einloggen. Klickt dort auf *Confirm*, um die Zugriffsberechtigung zu erneuern.

[#300]
== Zugangsdaten nicht korrekt

Selbstverständlich müssen die Zugangsdaten in den Grundeinstellungen korrekt sein, damit plentymarkets Kontakt mit eurem Amazon-Konto aufnehmen kann.

[IMPORTANT]
====
Die Fehlermeldung dazu lautet _ERROR: AuthToken is not valid for SellerId and AWSAccountId_, wenn der Händler-Token in den Grundeinstellungen nicht korrekt eingetragen ist.
====

[TIP]
====
Nachdem ihr den Händler-Token in den Amazon-Grundeinstellungen geändert habt, führt einmal *Einrichtung » Märkte » Amazon » Datenaustausch » Berichte » Tab: Token-Refresh* aus, damit die Änderung direkt greifen kann.
====

[#400]
== Scheduled reports

Sind die oberen Punkte korrekt eingestellt, können die Abgleiche ausgeführt werden. Damit Aufträge importiert werden können, muss Amazon Berichte erzeugen, in denen die Aufträge enthalten sind. Diese Berichte werden von plentymarkets abgerufen.

[IMPORTANT]
====
Die Erzeugung der Berichte ist nicht von Amazon voreingestellt. Eine Handlung von euch ist erforderlich.
====

Unter *Einrichtung » Märkte » Amazon » Datenaustausch » Berichte* könnt ihr die automatische kontinuierliche Erzeugung im *Tab: Geplante Berichte* festlegen. Das Ganze nennt sich Scheduler bzw. in diesem Fall, da es sich um Berichte handelt, *scheduled reports*.

. *Amazon-Konto* wählen.
. Unter *MFN Orders* das Intervall wählen.
. *schedule mfn order report* ausführen (Zahnrad).

[TIP]
====
Wir führen alle 15 Minuten einen Abruf aus, mit dem wir die noch nicht als abgeholt markierten Berichte von Amazon herunterladen. Deshalb empfehlen wir das 15-minütige Intervall.
====

Ob die Ausführung korrekt übernommen wurde, könnt ihr über die Lupe erkennen.

[[scheduledreports]]
.Scheduled Reports einsehen
image::maerkte:bp-amazon-mfn-auftragsimport-Lupe.png[Lupe Scheduled Reports]

Als Ergebnis seht ihr die bisher auf eurem Amazon-Konto aktivierten Scheduler. Für den MFN-Auftragsimport ist der Report Type *Get Orders Data* relevant und sollte auf 15 Minuten eingestellt sein. Diese Einstellung kann auch die Ursache dafür sein, dass Aufträge erst sehr spät importiert werden (hier sind von täglich bis wöchentlich schon alle Intervalle vorgekommen).

[#500]
== Weitere Fehlermeldung

Bei der Fehlermeldung _The seller does not have an eligible Amazon account to call Amazon MWS._ kann es ebenfalls sein, dass keine Berechtigung für den Zugriff von plentymarkets auf Amazon vorliegt. Dazu einmal wie oben beschrieben die Entwicklerberechtigungen prüfen und wenn nicht vorhanden diese über den Assistenten hinzufügen.
Sollte dies nicht helfen, kontaktiere Amazon. Entweder ist euer Seller-Account kein Power-Anbieter oder euer Account ist noch nicht komplett freigeschaltet.
