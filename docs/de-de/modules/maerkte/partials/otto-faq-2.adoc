=== Fragen & Antworten zum Artikeldatenexport

[.collapseBox]
.Meine Artikel werden nicht zu OTTO exportiert / Meine Artikel wurden zu OTTO exportiert, werden im OPC aber nicht angezeigt
--

Es kann durchaus sein, dass der Artikelexport an OTTO Market erfolgreich war, der Artikel aber trotzdem nicht im OPC angezeigt wird. Das könnte daran liegen, dass OTTO die Variante mit dessen Inhalt nicht akzeptiert. Meist liegt dann ein inhaltlicher Fehler innerhalb der Artikeldaten vor.

Damit die Artikel überhaupt zu Otto übertragen werden können, müssen die folgenden Grundvoraussetzungen erfüllt sein:

* Im Tab *Verfügbarkeit* der Variante muss die Verfügbarkeit *OTTO Market* aktiviert sein.
* Im Tab *Eigenschaften* der Variante muss die Eigenschaft *OTTO Kategoriegruppe* verknüpft sein. Als Wert der Eigenschaft wird der *Formatname* des OTTO-Katalogs erwartet. Durch diese Verknüpfung wird die Variante dem OTTO-Katalog zugeordnet. Der Katalog entspricht dabei der OTTO-Kategoriegruppe. Es wird NICHT der von dir vergebene Name des Katalogs erwartet, sondern der Name des Formats.
* Die Variante ist *Aktiv* geschaltet.
* Der Nettowarenbestand der Variante ist in dem Lager positiv, das im Katalog zugeordnet ist.
* Im Katalog sind alle Pflichtfelder zugeordnet. Pflichtfelder sind im Katalog mit einem Sternchen versehen.
--

[[.collapseBox]
.Wie prüfe ich Fehlermeldungen im Log?
--

Wenn deine Artikel nicht übertragen wurden, ist es immer sinnvoll, das Log zu prüfen. Viele Fehlermeldungen kannst du dort finden und die Fehler anschließend selbst bereinigen.

Wie das geht, erfährst du hier.

==== Möglichkeit 1: Fehler mit der Integration \ItemExportService finden

Wenn deine Variante alle Voraussetzungen erfüllt und die Variante trotzdem nicht exportiert wird, prüfe das Log auf Fehler.

. Öffne das Menü *Daten » Log*.
. Filtere deine Suche, indem du für *Integration* das folgende Log wählst:
* Plenty\Modules\Otto\Item\Services\ItemExportService
→ Nun siehst du alle Übertragungsversuche, die stattgefunden haben.
. Anhand des *Level* erfährst du, ob ein Artikel erfolgreich übertragen wurde oder nicht.

[cols="1,3a"]
|===
|Level |Erläuterung

| *info*
| Log-Einträge mit dieser Meldung deuten auf eine erfolgreiche Übertragung hin. Das kann zum Beispiel so aussehen:

image::maerkte:otto-faq-logs-1.png[]

| *error*
| Log-Einträge mit dieser Meldung deuten auf einen Fehler bei der Übertragung hin. In der Regel bedeutet das, dass deine Variante nicht valide ist. Daher wurde die Variante auch nicht exportiert. Das kann zum Beispiel so aussehen:

image::maerkte:otto-faq-logs-2.png[]


Meldungen dieser Art kannst du öffnen und so die Details einblenden:

image::maerkte:otto-faq-logs-3.png[]

Im Screenshot handelt es sich zum Beispiel um einen Fehler in der Varianten-ID *1167*. Bemängelt wird das Feld "productDescription.category".
|===
--


## Möglichkeit 2: Fehlermeldungen mit der Integration \DefaultSkuMutator finden

[details="Wie mache ich das?"]

Sollte deine Variante in keinem dieser Logs angezeigt werden, kannst du zusätzlich das Log mit folgendem Filter öffnen:

***Integration***: Plenty\Modules\Otto\Item\Templates\Mutators\DefaultSkuMutator
***Identifikator***: OTTO Market

[/details]

### *Mögliche Fehlermeldungen:*
[details=""validation error found" bzw. "Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique. ODER "SKU XXXX nicht generiert""]

Bekommst du dort Meldungen dieser Art angezeigt:

![13|690x37](upload://7aecyhOdXig69w9BY8XfaySYVIX.png)

![14|690x219](upload://cgD5yjzwp5Oq3iTKwlkKiYXe4Ny.png)

greift folgendes:


<a name="sku-validation-error"></a>
Der Fehler wird im Log z.B. auch unter "SKU 1234 nicht generiert", oder "0:"sku" angezeigt

Im Katalog wird an erster Stelle definiert, aus welcher Quelle die SKU generiert werden soll. Wir unterscheiden dort zwischen einer "Parent-SKU" und einer "Variation-SKU". Die dort gewählte Quelle sollte sich auf eine Datenzeile beziehen, die einmalig existiert. Es ist also nicht möglich, für unterschiedliche Artikel dieselbe SKU nochmals zu vergeben.


Als Beispiel könnte man also die "Artikel-ID" sowie die "Variation-ID" verwenden. Beide IDs werden vom System beim Erstellen des Artikels vergeben und existieren nur einmal.


Nun könnte jedoch der Fall eintreten, dass der Artikelexport stattgefunden hat und der Export aufgrund einer fehlenden Information im Katalog in einen Fehler gelaufen ist. Die SKU wurde aber trotzdem geschrieben und ist nun in der Variante im Tab "Verfügbarkeit" sichtbar. Beim nächsten Export würde das System wieder versuchen, eine SKU aus den im Katalog gewählten Quellen zu erstellen. Da diese SKU jedoch bereits existiert, kommt es zum Fehler:

> Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique

> SKU 1234 nicht generiert

Aus diesem Grund ist es notwendig, ein Ausweich-Datenfeld im Katalog hinzuzufügen. Das würde dann wie folgt aussehen:
  ![Bildschirmfoto 2020-10-21 um 10.06.28|690x354](upload://1F55Rvrxp1JGA0eIsysmJE8rgXR.png)

**Achtung: es ist zwingend notwendig, dass beim Hinzufügen der weiteren Quelle der (+)Button "Ausweich-Datenfeld hinzufügen" verwendet wird. Bitte nutze NICHT die Option "Datenfeld hinzufügen", da mit dieser deine SKUs doppelt erstellt werden und nicht zur gewünschten Lösung beitragen!**


Es wird hiermit also eine **2. Quelle** hinzugefügt. Beim nächsten Export wird erstmals auf die 1. Quelle zugegriffen. Da in dieser Quelle bereits eine SKU existiert, wird die 2. Quelle ignoriert. Sollte in der 1. Quelle keine SKU existieren, dann wird mittels der 2. Quelle eine neue SKU erstellt.
[/details]

____



## Möglichkeit 3: Fehlermeldungen mit der Integration \ItemReportResultCommand finden
[details="Wie mache ich das?"]
Sollte ein solcher Fall eingetreten sein, findest du dazu aktuelle Log-Einträge in deinem System:

1. Öffne zuerst das Menü unter  ***Daten » Log*** .
2. Filtere deine Suche, indem du unter  ***Integration***  folgendes Log auswählst: Plenty\Modules\Otto\Item\Commands\ItemReportResultCommand

Ein solcher Log-Eintrag deutet auf eine Ablehnung hin:

![Bildschirmfoto 2021-02-03 um 07.40.25|690x20](upload://qKIBmBjj2X3IFwOCNLIcCymv3KN.png)

3. Öffne den Eintrag und lass dir die Details einblenden.
[/details]

 ### *Mögliche Fehlermeldungen:*

[details=" code:"500001 - MANDATORY_LEGAL_ATTRIBUTE_MISSING" title:"Das Attribut 'Materialzusammensetzung' muss aus rechtlichen Gründen bei der Category 'Hoodie' gepflegt sein." "]

In diesem Beispiel wäre das Feld "Materialzusammensetzung" in deinem eingesetzten Katalog betroffen. Überprüfe daher deine Verknüpfung zum Feld "Materialzusammensetzung" des Katalogs mit der Variante gegen. Die Verknüpfung kann am ehesten mit einer Eigenschaft vorgenommen werden.
[/details]

[details="code:"400004 - NORMPRICE_IS_REQUIRED_FOR_CATEGORY" title:"Die von Ihnen gewählte Kategorie muss zwingend mit einem Grundpreis laut PAngV ausgezeichnet werden. Bitte ergänzen Sie diesen.""]
In diesem Fall erwartet OTTO sämtliche Informationen, die zur Berechnung des Grundpreises dienen, von dir. Schaue dir dazu [dieses](#grundpreis) Kapitel an.
[/details]

[details="code:"300001 - IMAGE_TYPE_ELEMENT_MISSING" title:"Es muss mindestens ein Element vom Typ 'IMAGE' vorhanden sein.""]
 In diesem Fall erwartet Otto ein für Otto Market verknüpftes Bild von dir.
Demnach muss am *Artikel, Tab: Bilder* **mind.** ein Bild für Otto Market freigegeben worden sein.
Dies kannst du unter *Verfügbarkeit* prüfen.
![Bildschirmfoto 2022-03-14 um 11.23.24|569x169](upload://2CMim1anzEMRg5I9ghrk7gXMwLS.png)
 [/details]

[details= code:"100005 - INVALID_VALUE_CATEGORY" title:"'LED GartenleuchteLED Gartenleuchte' ist keine gültige Produktkategorie. Bitte wählen Sie nur Kategorien aus, die Sie über den Categories-Endpunkt in der API abfragen können."]

Diese Fehlermeldung deutet auf ein inkorrekt hinterlegtes Kategoriemapping im Katalog hin.
Für die Kategorien sollten Werte nicht nebeneinander gepflegt, sondern bei Bedarf als Fallback (Ausweichfeld, *unter* dem ersten Feld) hinterlegt werden.

Wenn es so aussehen sollte, bitte korrigieren: (da sonst 2x der Kategoriewert übermittelt wird)
![Bildschirmfoto 2022-03-16 um 10.15.32|690x131](upload://eTJ2F4pzxnzCedxww1Y8iiIgNnX.png)
Es sollte dann so aussehen: (dann greift die Kategorie "Aussenleuchten" nur, wenn "LED Aussenleuchten" am Artikel nicht gepflegt wurde)
![Bildschirmfoto 2022-03-16 um 10.36.36|606x257](upload://73NVNNbcsiwvok8OLXKqYGWRmRB.png)

[/details]

____

## Möglichkeit 4: Fehlermeldungen mit der Integration \Plenty\Modules\Otto\Item\Templates\Mutators\MediaAssetsMutator finden

[details="Wie mache ich das?"]
Sollte ein solcher Fall eingetreten sein, findest du dazu aktuelle Log-Einträge in deinem System:

1. Öffne zuerst das Menü unter  ***Daten » Log*** .
2. Filtere deine Suche, indem du unter  ***Integration***  folgendes Log auswählst:
Plenty\Modules\Otto\Item\Templates\Mutators\MediaAssetsMutator


Ein solcher Log-Eintrag deutet auf eine Ablehnung hin:
![Bildschirmfoto 2022-03-24 um 16.49.26|690x54](upload://x8u4TS0tpzGkBWQB8mH1rqnsmzt.png)



3. Öffne den Eintrag und lass dir die Details einblenden.
[/details]

 ### *Mögliche Fehlermeldungen:*


[details=Nachricht: Der Pfad für "media assets" ist ungültig. Gültige URL angeben.]
(möglicher) Inhalt der Meldung:
```
Object
variationId:10792
type:"PRODUCT_DATASHEET"
location:""
Trigger:"cli: artisan catalog:async-export"
```

Dieser Fehler sagt aus, dass die Datei, die im Katalog unter “media assets” (spezifischer, hier: unter dem Produktdatenblatt, siehe `type`) hinterlegt wurde:

* keine URL für die im Katalog verknüpfte Eigenschaft am Artikel besitzt

>Bitte beachte, dass für Media assets *ausschließlich* Dateien in Form einer URL hinterlegt werden können. Eigenschaften, die keine URL enthalten, werden nicht übertragen.

[/details]
___
<a name="grundpreis"></a>
# Fragen zum Preis der Artikel/Varianten
[details="Ich möchte den Grundpreis meiner Varianten an OTTO übermitteln. Wie gehe ich da vor?"]

*Vorweg*: Um den Grundpreis an OTTO zu übermitteln, benötigst du Angaben zum Inhalt der jeweiligen Variante. Diese Angaben sind in der Regel innerhalb der Variante im Bereich Maße hinterlegt:

![Bildschirmfoto 2021-12-29 um 10.39.21|445x108](upload://JYeOlym62KOzFC7XyroDVnnjXw.png)


Folgende Katalogfelder sind zur Übermittlung des Grundpreises notwendig:


[details="1. Verkaufspreismenge"]
Die Verkaufspreismenge bezieht sich auf die reguläre Menge des Inhalts aus der Variante. Dazu benötigst du also (wie bereits weiter oben schon geschildert) den Inhalt der Variante in deinen Maßangaben. Das Datenfeld zum Inhalt findest du im Order "Variante" unter "Inhalt Menge".
[/details]


[details="2. Grundpreismenge"]
Die Grundpreismenge dient als Grundlage zur Berechnung des Grundpreises. Dort stellt uns OTTO die Werte "1", "100", oder "1000" zur Verfügung. Ordne dieses Feld einer Eigenschaft zu, die den Wert "1", "100" oder "1000" beinhaltet. Sollen *alle* Varianten des Katalogs eine Grundpreismenge von "1" erhalten, kannst du dieses Feld unzugeordnet lassen. Wir übergeben dann als Standardwert die "1".
[/details]


[details="3. Grundpreiseinheit"]
Die Grundpreiseinheit bezieht sich auf den Inhalt der Einheit deiner Maßangaben der Varianten. Das Datenfeld zur Einheit findest du im Order "Variante" unter "Inhalt Einheit". Nun musst du zusätzlich einen Vergleichswert hinterlegen. Dabei sucht das System nach den ISO-Werten der Einheiten. Die ISO-Werte findest du unter **Einrichtung > Artikel > Einheiten** in der Spalte **ISO**.

Für die Angabe **Stück** wird z.B. der Wert "C62" erwartet. Für Kilogramm "KGM", für Gramm "GRM" usw.:

![2|539x227](upload://qyqK5eCPia0JTd0l09ceby8jP18.png)

> Bei der Verknüpfung zu einer Eigenschaft wird kein ISO-Wert als Vergleichswert, sondern der hinterlegte Wert der Eigenschaft vorausgesetzt.

[/details]


[details="4. Verkaufspreiseinheit"]
Die Verkaufspreiseinheit bezieht sich auf den Inhalt der Einheit deiner Maßangaben der Varianten. Das Datenfeld zur Einheit findest du im Order "Variante" unter "Inhalt Einheit". Nun musst du zusätzlich einen Vergleichswert hinterlegen. Dabei sucht das System nach den ISO-Werten der Einheiten. Die ISO-Werte findest du unter **Einrichtung > Artikel > Einheiten** in der Spalte **ISO**.

Für die Angabe **Stück** wird z.B. der Wert "C62" erwartet. Für Kilogramm "KGM", für Gramm "GRM" usw.:

![3|549x229](upload://myZ9Nwd3tghQuRQPqpJd0jXzv6U.png)

> Bei der Verknüpfung zu einer Eigenschaft wird kein ISO-Wert als Vergleichswert, sondern der hinterlegte Wert der Eigenschaft vorausgesetzt.

[/details]


Auf Grundlage dieser Daten berechnet OTTO den jeweiligen Grundpreis.

[/details]

[details="Meine Preise werden nicht aktualisiert!"]

Der Preisabgleich erfolgt täglich parallel zum Artikelexport. Dies ist voneinander abhängig.
Das heißt: Wenn Artikel/Varianten Fehler aufweisen, kann der Preis nicht abgeglichen werden und wird bei Otto Market folglich nicht aktualisiert.

*Was mache ich dann?*
Prüfe im Log, ob du Fehlermeldungen finden kannst.
Wie das geht, findest du hier:



> # Wie prüfe ich Fehlermeldungen im Log?
> Wenn deine Artikel nicht übertragen worden sind, ist es immer sinnvoll, dein Log zu prüfen. Viele Fehlermeldungen kannst du dort finden und die Fehler anschließend selbst bereinigen.
> *Wie das geht, erfährst du hier:*
>
> ## Möglichkeit 1: Fehler mit der Integration \ItemExportService finden
> [details="Wie mache ich das?]
> Sollten für deine Varianten somit alle **Voraussetzungen** und alle **Verknüpfungen** hinterlegt sein, und es findet dennoch kein Export der Variante statt, findest du hier deine möglichen Fehler:
>
> 1. Öffne zuerst das Menü unter ***Daten » Log***.
> 2. Filtere deine Suche, indem du unter ***Integration*** folgendes Log auswählst: Plenty\Modules\Otto\Item\Services\ItemExportService
> 3. Nun siehst du alle Artikelübertragungen, die bereits vorgenommen wurden. Mittels ***Level*** erfährst du, ob ein Artikel erfolgreich übertragen wurde oder nicht:
>
> **"info":** Log-Einträge mit dieser Meldung deuten auf eine erfolgreiche Übertragung hin. Das kann z.B. wie folgt aussehen:
>
> ![1|690x25](upload://6AdGzBiXxW0nGShZOwGJc3zVduP.png)
>
> **"error":** Log-Einträge mit dieser Meldung deuten auf einen Fehler bei der Übertragung hin. In der Regel bedeutet dies, dass deine Variante nicht valide ist. Daher fand auch kein Export der jeweiligen Variante statt. Das kann z.B. wie folgt aussehen:
>
> ![2|690x27](upload://kGzCDkBz44kizO5sCNqzmNmrERM.png)
>
> Meldungen dieser Art kannst du *öffnen* und die Details einblenden lassen:
>
> ![3|690x276](upload://6rWPO1ek68XQPWYnx3XPgywdE56.png)
>
> In diesem Fall handelt es sich z.B. um einen Fehler in der Varianten-ID *1167*. Bemängelt wird das Feld "productDescription.category".
>
> [/details]
> ### *Mögliche Fehlermeldungen:*
>
>
> [details="- "missing requirements - ean""]
> - Überprüfe, ob deine Variante eine EAN besitzt.
> - Überprüfe, ob der im Katalog verknüpfte Barcode im Feld "EAN*" zum hinterlegten Barcode-Typ deiner Variante passt.
> - Überprüfe, ob dein Barcode-Typ für den Marktplatz "OTTO Market" freigegeben ist. Öffne dazu das Menü **Einrichtung » Artikel » Barcode**.
> [/details]
>
>
>
> [details="- "missing requirements - sku" / "productReference""]
> - Überprüfe deine Verknüpfung zu den Feldern "Parent-SKU*" und "SKU*" im Katalog.
> - Stelle sicher, dass du mindestens 2 Datenfelder zu beiden Felden verknüpft hast (jeweils als Ausweichdatenfeld).
>
> > Eine Empfehlung für die mögliche Verknüpfung findest du  [hier](#sku-validation-error).
>
> [/details]
>
>
> [details="- "missing requirements - stock""]
> - Deine Variante besitzt keinen positiven Netto-Warenbestand im verknüpften Lager deines Katalogs.
> Sollte im Katalog *kein* Lager verknüpft worden sein, wird die **Summe aller Vertriebslager** übergeben.
>  Du kannst alternativ auch das *virtuelle Gesamtlager* verknüpfen.
> > Weitere Informationen zum Mapping des Feldes "Bestand" erhältst du hier -> [Otto Market Handbuch](https://knowledge.plentymarkets.com/maerkte/otto/otto-market/#905)
> [/details]
>
>
> [details="- "missing requirements - productDescription.category""]
> - Überprüfe deine verknüpften Datenfelder zum Feld "Kategorie*" des Katalogs. Kategorien lassen sich am ehesten über bereits bestehende Kategorien (Tab: Kategorien) deiner Varianten oder über Eigenschaften (Tab: Eigenschaften) verknüpfen. Prüfe daher, dass jeweils eine Verknüpfung zur Variante besteht.
> [/details]
>
>
> [details="- "missing requirements - productDescription.brand""]
> - Überprüfe deine verknüpften Datenfelder zum Feld "Marke*" des Katalogs. Marken lassen sich am ehesten über bereits bestehende Hersteller (Tab: Global) des Artikels, oder über Eigenschaften (Tab: Eigenschaften) der Varianten verknüpfen. Prüfe daher, dass jeweils eine Verknüpfung zur Variante besteht. Wenn du die Verknüpfung über den Hersteller vornehmen willst, wähle **Datenfeld hinzufügen* » Hersteller » und deinen gewünschten Hersteller* aus.
>
> Es ist außerdem anzumerken, dass die verknüpfte OTTO-Marke im Dropdown ausgewählt werden sollte. Eine händische Eingabe der Marke sollte nicht vorgenommen werden.
>
> Sollte deine Marke im OTTO-Markenfeld (links) nicht existieren, kannst du die Marke bei OTTO Market registrieren lassen. Genaueres dazu findest du im Helpdesk bei OTTO Market. Beachte außerdem folgendes: [Marken-Aktualisierung](#marken-aktualisierung).
> [/details]
>
>
> [details="- "missing requirements - mediaAssets.IMAGE" bzw. "mediaAssets""]
> - Beide Fehler haben in der Regel die gleiche Ursache. Öffne deinen Artikel im *Tab: Bilder*. Überprüfe deine Artikelbilder und stelle sicher, dass die Verfügbarkeit "OTTO Market" gesetzt wurde:
>
>
> ![4|690x481](upload://1df60uVj9Y32qYhFkRSPE8d9nJU.png)
> [/details]
>
>
> [details="- "missing requirements - delivery.deliveryTime""]
> - Überprüfe die im Katalog verknüpfte Lieferzeit im Feld *"Lieferzeit in Tagen"* mit deiner Variante. In der Regel kannst du die Verknüpfung für die Verfügbarkeit deiner Variante vornehmen:
>
>
> ![5|489x250](upload://wvCxNMPGiW6aboXPQ7IoPpeg9lj.png)
>
> Eine Übersetzung der einzelnen Verfügbarkeitsstufen zur jeweiligen ID findest du unter **Einrichtung » Artikel » Verfügbarkeit**.
> [/details]
>
>
> [details="- "missing requirements - delivery.type""]
> - Überprüfe die im Katalog verknüpfte Versandart im Feld "Versandart*" mit deiner Variante. Die Verknüpfung kann z.B. über ein Versandprofil (Tab: Global) des Artikels oder einer Eigenschaft (Tab: Eigenschaft) der Variante vorgenommen werden.
> [/details]
>
>
> [details="- "missing requirements - pricing.standardPrice.amount" bzw. "pricing.standardPrice.currency""]
> - Beide Fehler haben in der Regel die gleiche Ursache. Überprüfe, ob im Feld "Verkaufspreis*" des Katalogs eine Verknüpfung zum Verkaufspreis der jeweiligen Variante hinterlegt wurde. Öffne zusätzlich das Menü *Einrichtung » Artikel » Verkaufspreise* und überprüfe, ob der im Katalog hinterlegte Verkaufspreis für die *Herkunft* "OTTO Market" freigegeben wurde.
> [/details]
>
> [details="- "missing requirements - pricing.vat""]
> Das betrifft den MwSt. Satz bzw. die Umsatzsteuer.
> Diese muss an der Variante hinterlegt sein (*Artikel/Einstellungen unter Kosten*)
> ![Bildschirmfoto 2022-01-19 um 10.54.33|468x141](upload://7X6dyyeduIsOKzaVjY7QDyHLN7v.png)
>
> und im Katalog richtig gemappt worden sein. Bspw. darf der Wert von Otto (unter *Umsatzsteuer*) oder die Verknüpfung zum Steuersatz des Artikels nicht fehlen.
> ![Bildschirmfoto 2022-01-19 um 10.49.49|610x275, 50%](upload://gvjQPQ3o3ez2DCVGaPnl9aaruNN.png)
>
> [/details]
>
> ___
>
> ## Möglichkeit 2: Fehlermeldungen mit der Integration \DefaultSkuMutator finden
>
> [details="Wie mache ich das?"]
>
> Sollte deine Variante in keinem dieser Logs angezeigt werden, kannst du zusätzlich das Log mit folgendem Filter öffnen:
>
> ***Integration***: Plenty\Modules\Otto\Item\Templates\Mutators\DefaultSkuMutator
> ***Identifikator***: OTTO Market
>
> [/details]
>
> ### *Mögliche Fehlermeldungen:*
> [details=""validation error found" bzw. "Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique. ODER "SKU XXXX nicht generiert""]
>
> Bekommst du dort Meldungen dieser Art angezeigt:
>
> ![13|690x37](upload://7aecyhOdXig69w9BY8XfaySYVIX.png)
>
> ![14|690x219](upload://cgD5yjzwp5Oq3iTKwlkKiYXe4Ny.png)
>
> greift folgendes:
>
>
> <a name="sku-validation-error"></a>
> Der Fehler wird im Log z.B. auch unter "SKU 1234 nicht generiert", oder "0:"sku" angezeigt
>
> Im Katalog wird an erster Stelle definiert, aus welcher Quelle die SKU generiert werden soll. Wir unterscheiden dort zwischen einer "Parent-SKU" und einer "Variation-SKU". Die dort gewählte Quelle sollte sich auf eine Datenzeile beziehen, die einmalig existiert. Es ist also nicht möglich, für unterschiedliche Artikel dieselbe SKU nochmals zu vergeben.
>
>
> Als Beispiel könnte man also die "Artikel-ID" sowie die "Variation-ID" verwenden. Beide IDs werden vom System beim Erstellen des Artikels vergeben und existieren nur einmal.
>
>
> Nun könnte jedoch der Fall eintreten, dass der Artikelexport stattgefunden hat und der Export aufgrund einer fehlenden Information im Katalog in einen Fehler gelaufen ist. Die SKU wurde aber trotzdem geschrieben und ist nun in der Variante im Tab "Verfügbarkeit" sichtbar. Beim nächsten Export würde das System wieder versuchen, eine SKU aus den im Katalog gewählten Quellen zu erstellen. Da diese SKU jedoch bereits existiert, kommt es zum Fehler:
>
> > Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique
>
> > SKU 1234 nicht generiert
>
> Aus diesem Grund ist es notwendig, ein Ausweich-Datenfeld im Katalog hinzuzufügen. Das würde dann wie folgt aussehen:
>   ![Bildschirmfoto 2020-10-21 um 10.06.28|690x354](upload://1F55Rvrxp1JGA0eIsysmJE8rgXR.png)
>
> **Achtung: es ist zwingend notwendig, dass beim Hinzufügen der weiteren Quelle der (+)Button "Ausweich-Datenfeld hinzufügen" verwendet wird. Bitte nutze NICHT die Option "Datenfeld hinzufügen", da mit dieser deine SKUs doppelt erstellt werden und nicht zur gewünschten Lösung beitragen!**
>
>
> Es wird hiermit also eine **2. Quelle** hinzugefügt. Beim nächsten Export wird erstmals auf die 1. Quelle zugegriffen. Da in dieser Quelle bereits eine SKU existiert, wird die 2. Quelle ignoriert. Sollte in der 1. Quelle keine SKU existieren, dann wird mittels der 2. Quelle eine neue SKU erstellt.
> [/details]
>
> ____
>
>
>
> ## Möglichkeit 3: Fehlermeldungen mit der Integration \ItemReportResultCommand finden
> [details="Wie mache ich das?"]
> Sollte ein solcher Fall eingetreten sein, findest du dazu aktuelle Log-Einträge in deinem System:
>
> 1. Öffne zuerst das Menü unter  ***Daten » Log*** .
> 2. Filtere deine Suche, indem du unter  ***Integration***  folgendes Log auswählst: Plenty\Modules\Otto\Item\Commands\ItemReportResultCommand
>
> Ein solcher Log-Eintrag deutet auf eine Ablehnung hin:
>
> ![Bildschirmfoto 2021-02-03 um 07.40.25|690x20](upload://qKIBmBjj2X3IFwOCNLIcCymv3KN.png)
>
> 3. Öffne den Eintrag und lass dir die Details einblenden.
> [/details]
>
>  ### *Mögliche Fehlermeldungen:*
>
> [details=" code:"500001 - MANDATORY_LEGAL_ATTRIBUTE_MISSING" title:"Das Attribut 'Materialzusammensetzung' muss aus rechtlichen Gründen bei der Category 'Hoodie' gepflegt sein." "]
>
> In diesem Beispiel wäre das Feld "Materialzusammensetzung" in deinem eingesetzten Katalog betroffen. Überprüfe daher deine Verknüpfung zum Feld "Materialzusammensetzung" des Katalogs mit der Variante gegen. Die Verknüpfung kann am ehesten mit einer Eigenschaft vorgenommen werden.
> [/details]
>
> [details="code:"400004 - NORMPRICE_IS_REQUIRED_FOR_CATEGORY" title:"Die von Ihnen gewählte Kategorie muss zwingend mit einem Grundpreis laut PAngV ausgezeichnet werden. Bitte ergänzen Sie diesen.""]
> In diesem Fall erwartet OTTO sämtliche Informationen, die zur Berechnung des Grundpreises dienen, von dir. Schaue dir dazu [dieses](#grundpreis) Kapitel an.
> [/details]
>
> [details="code:"300001 - IMAGE_TYPE_ELEMENT_MISSING" title:"Es muss mindestens ein Element vom Typ 'IMAGE' vorhanden sein.""]
>  In diesem Fall erwartet Otto ein für Otto Market verknüpftes Bild von dir.
> Demnach muss am *Artikel, Tab: Bilder* **mind.** ein Bild für Otto Market freigegeben worden sein.
> Dies kannst du unter *Verfügbarkeit* prüfen.
> ![Bildschirmfoto 2022-03-14 um 11.23.24|569x169](upload://2CMim1anzEMRg5I9ghrk7gXMwLS.png)
>  [/details]
>
> [details= code:"100005 - INVALID_VALUE_CATEGORY" title:"'LED GartenleuchteLED Gartenleuchte' ist keine gültige Produktkategorie. Bitte wählen Sie nur Kategorien aus, die Sie über den Categories-Endpunkt in der API abfragen können."]
>
> Diese Fehlermeldung deutet auf ein inkorrekt hinterlegtes Kategoriemapping im Katalog hin.
> Für die Kategorien sollten Werte nicht nebeneinander gepflegt, sondern bei Bedarf als Fallback (Ausweichfeld, *unter* dem ersten Feld) hinterlegt werden.
>
> Wenn es so aussehen sollte, bitte korrigieren: (da sonst 2x der Kategoriewert übermittelt wird)
> ![Bildschirmfoto 2022-03-16 um 10.15.32|690x131](upload://eTJ2F4pzxnzCedxww1Y8iiIgNnX.png)
> Es sollte dann so aussehen: (dann greift die Kategorie "Aussenleuchten" nur, wenn "LED Aussenleuchten" am Artikel nicht gepflegt wurde)
> ![Bildschirmfoto 2022-03-16 um 10.36.36|606x257](upload://73NVNNbcsiwvok8OLXKqYGWRmRB.png)
>
> [/details]
> ____
>
> ## Möglichkeit 4: Fehlermeldungen mit der Integration \Plenty\Modules\Otto\Item\Templates\Mutators\MediaAssetsMutator finden
>
> [details="Wie mache ich das?"]
> Sollte ein solcher Fall eingetreten sein, findest du dazu aktuelle Log-Einträge in deinem System:
>
> 1. Öffne zuerst das Menü unter  ***Daten » Log*** .
> 2. Filtere deine Suche, indem du unter  ***Integration***  folgendes Log auswählst:
> Plenty\Modules\Otto\Item\Templates\Mutators\MediaAssetsMutator
>
>
> Ein solcher Log-Eintrag deutet auf eine Ablehnung hin:
> ![Bildschirmfoto 2022-03-24 um 16.49.26|690x54](upload://x8u4TS0tpzGkBWQB8mH1rqnsmzt.png)
>
>
>
> 3. Öffne den Eintrag und lass dir die Details einblenden.
> [/details]
>
>  ### *Mögliche Fehlermeldungen:*
>
>
> [details=Nachricht: Der Pfad für "media assets" ist ungültig. Gültige URL angeben.]
> (möglicher) Inhalt der Meldung:
> ```
> Object
> variationId:10792
> type:"PRODUCT_DATASHEET"
> location:""
> Trigger:"cli: artisan catalog:async-export"
> ```
>
> Dieser Fehler sagt aus, dass die Datei, die im Katalog unter “media assets” (spezifischer, hier: unter dem Produktdatenblatt, siehe `type`) hinterlegt wurde:
>
> * keine URL für die im Katalog verknüpfte Eigenschaft am Artikel besitzt
>
> >Bitte beachte, dass für Media assets *ausschließlich* Dateien in Form einer URL hinterlegt werden können. Eigenschaften, die keine URL enthalten, werden nicht übertragen.
>
> [/details]

[/details]


___
# Tip: Zugang zur Merkmalliste

[hier](https://og2gether-my.sharepoint.com/:x:/g/personal/micha_saake_otto_de/EXg5Id8bTxNKuV8mRkQ1wrsBNFuBrjP8iQJINZjcezvjdg?rtime=3FovyUEf2Ug) erhaltet ihr eine Information, mit der ihr einen Zugang zur Merkmalliste sowie zur Produktkategoriesierung für Otto Market erhaltet.  Es dient als Übersicht der Kategoriegruppen, Kategorien, sowie den zugehörigen Attributen.
