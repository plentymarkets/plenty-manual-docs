= Mit dem EmailBuilder arbeiten
:keywords: ordner erstellen, unterordner erstellen, ordner löschen, vorlagen verwalten, vorlage für header, vorlage für footer, vorschau anzeigen, textblock erstellen, benutzerdefiniertes styling, css-styling, eigenes styling anpassen, widgets, widget bearbeiten, widget einfügen, emailbuilder-widgets, text-widget, code-widget, auftragspositionen-widget, artikellisten-widget, if-else-widget, Bild-widget, standardvorlagen bearbeiten, vorschau anzeigen, vorschau mit auftrags-id anzeigen, vorlage bearbeiten, vorlage suchen, vorlage löschen, vorlage kopieren, betreff ändern, betreff der vorlage ändern, vorlagenbetreff anpassen, sprache zur vorlage hinzufügen, verwendung der vorlage einsehen, verwendung der vorlage in automatismen anzeigen
:description: Erfahre, welche Möglichkeiten du hast, mit dem EmailBuilder zu arbeiten.
:page-pagination:
:author: team-crm

Erfahre auf dieser Handbuchseite, wie du optimal mit dem EmailBuilder arbeiten kannst. Du erfährst unter anderem, wie du <<#ordner-verwalten, Ordner>> und <<#vorlagen-verwalten, Vorlagen>> verwaltest, <<#textblock-erstellen, Textblöcke>> und reguläre <<#vorlage-erstellen, Vorlagen>> erstellst, <<#widget-einfuegen, Widgets in deine Vorlagen einfügst>> und <<#standardvorlage-erstellen, Standardvorlagen>> verwendest. Außerdem kannst sehen, in welchen Bereichen deines Systems die EmailBuilder-Vorlage <<#verwendung-der-vorlage, verwendet>> wurde.

[#ordner-verwalten]
== Ordner verwalten

Du kannst im EmailBuilder beliebig viele <<#ordner-erstellen, Ordner>> und bis zu 3 <<#unterordner-erstellen, Unterordner>> erstellen. Nachdem der Ordner erstellt ist, kannst du mit einem Klick auf material:more_vert[] neue Unterordner, neue Vorlagen allgemein und neue Vorlagen für Header und Footer erstellen und die Ordner <<#ordner-umbenennen, umbenennen>>, <<#ordner-verschieben, verschieben>> oder <<ordner-loeschen, löschen>>.

In deinem System ist bereits ein Ordner mit einigen vordefinierten Standardvorlagen vorhanden. Diese werden weiter unten im Kapitel <<#standardvorlagen-verwenden, Standardvorlagen verwenden>> erläutert.

[[image-emailbuilder-folder-structure]]
.Ordnerstruktur im EmailBuilder
image::crm:emailbuilder-ordner-vorlage-header-footer-hinzufuegen.png[width=640, height=360]

[#ordner-erstellen]
=== Ordner erstellen

Erstelle Ordner, um später eine bessere Übersicht über deine E-Mail-Vorlagen zu bekommen. Gehe wie im Folgenden beschrieben vor, um einen neuen Ordner zu erstellen.

[.instruction]
Ordner erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke unten links auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:folder[] *Ordner*. +
→ Das Fenster *Neuen Ordner hinzufügen* öffnet sich.
. Gib den Namen für den Ordner ein.
. Klicke auf *Speichern*. +
→ Der neue Ordner wird der Ordnerliste hinzugefügt.

[TIP]
Wenn du alle Einstellungen wie im Folgenden beschrieben vorgenommen hast – also Unterordner, Vorlagen, Header und Footer erstellt hast –, kannst du den Hauptordner mit einem Klick auf material:chevron_right[] _Name des Ordners_ öffnen. Dort siehst du dann auf einen Blick alle Unterordner, Vorlagen, Header und Footer, die du direkt unter dem Hauptordner erstellt hast.

[#ordner-umbenennen]
=== Ordner umbenennen

Du kannst den Namen des Ordners jederzeit anpassen. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Ordner umbenennen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, den du umbenennen möchtest, auf material:more_vert[] und dann auf material:edit[] *Umbenennen*. +
→ Das Fenster *Ordner umbenennen* öffnet sich.
. Gib einen anderen Namen für den Ordner ein.
. Klicke auf *Speichern*. +
→ Der neue Name des Ordners wird aktualisiert und in der Liste angezeigt.

[#ordner-verschieben]
=== Ordner verschieben

Du kannst den Ordner jederzeit an eine andere Stelle verschieben. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Ordner verschieben:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, den du verschieben möchtest, auf material:more_vert[] und dann auf material:open_with[] *Verschieben*. +
→ Das Fenster *Verschieben* öffnet sich.
. Wähle den Zielordner.
. Klicke auf material:open_with[] *Verschieben*. +
→ Der Ordner wird in den gewählten Ordner verschoben.

[#unterordner-erstellen]
=== Unterordner erstellen

Erstelle Unterordner in deinen Ordnern, um deine E-Mail-Vorlagen später noch differenzierter zu gruppieren. Du kannst bis zu 3 Unterordner in einem Ordner erstellen.

[TIP]
.Entwurf für deine Ordner-Struktur im Vorfeld erstellen
====
Wir empfehlen dir, im Vorfeld einen Entwurf zu erstellen, um unübersichtliche Verschachtelungen in deiner Ordnerstruktur zu vermeiden. Denn: Je mehr Ebenen und Ordner du erstellst, desto unübersichtlicher wird die Struktur.
====

[.instruction]
Unterordner erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, für den du einen Unterordner erstellen möchtest, auf material:more_vert[] und dann auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:folder[] *Ordner*. +
→ Das Fenster *Neuen Ordner erstellen* öffnet sich.
. Gib den Namen für den Unterordner ein.
. Klicke auf *Speichern*. +
→ Der Unterordner wird in dem Hauptordner erstellt.

Öffne den Unterordner, indem du den Hauptordner mit einem Klick auf material:chevron_right[] öffnest. Du siehst dort auf einen Blick alle erstellten Unterordner.

[#ordner-loeschen]
=== Ordner löschen

Du kannst Ordner und Unterordner jederzeit löschen. Beachte, dass dabei alle Inhalte, die in dem Ordner enthalten sind, den du löschen möchtest, entfernt werden.

[.instruction]
Ordner löschen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners bzw. Unterordners, den du löschen möchtest, auf material:more_vert[] und dann auf material:delete[] *Löschen*. +
→ Ein Fenster mit einer Sicherheitsabfrage öffnet sich.
. Klicke auf material:delete[role=red] *Löschen*. +
→ Der Ordner mit allen dazugehörigen Unterordnern und darin enthaltenen Vorlagen wird gelöscht.

[#vorlagen-verwalten]
== Vorlagen verwalten

In den folgenden Unterkapiteln erfährst du, wie du Vorlagen für <<#header-erstellen, Header>> und <<#footer-erstellen, Footer>> und anschließend die <<#vorlage-erstellen, Vorlagen>> selbst erstellst. Außerdem ist beschrieben, wie du Vorlagen <<#vorlage-suchen, suchst>>, <<#vorlage-verschieben, verschiebst>>, <<vorlage-kopieren, kopierst>>, <<vorlage-bearbeiten, bearbeitest>> und <<vorlage-loeschen, löschst>>. +
Wenn du möchtest, kannst du bereits vordefinierte <<#standardvorlagen-verwenden, Standardvorlagen verwenden>>. Außerdem erfährst du alles über die verfügbaren <<#widget-einfuegen, Widgets>> und wie du diese Widgets in deinen Vorlagen verwenden kannst.

[TIP]
Sobald du eine Vorlage erstellt hast, wird in Klammern vor dem Namen der Vorlage die ID der Vorlage angezeigt. Das System vergibt die IDs fortlaufend und automatisch. Die IDs können _nicht_ geändert werden.

Die Widgets und Variablen, die in der Vorlage enthalten sind, bilden den eigentlichen Inhalt deiner E-Mail. In einer Vorlage kannst du über die verfügbaren Widgets beliebig viele Variablen per Drag-and-drop einfügen, die dann in der E-Mail an deine Kund:innen durch den korrekten Inhalt ersetzt werden.

Eine detaillierte Auflistung, welche Variablen für deine E-Mail-Vorlagen zur Verfügung stehen, findest du in den Tabellen auf der Handbuchseite xref:crm:emailbuilder-variablen-twig-expressions.adoc#[Variablen und twig expressions verwenden].

[#vorlage-header-footer]
=== Vorlagen für Header und Footer erstellen

Erstelle Vorlagen für den Header und den Footer, die du dann in all deinen E-Mail-Vorlagen wählen kannst. Header und Footer sind global wirksam. Das bedeutet: Änderungen, die du am Header und Footer vornimmst, wirken sich demnach auch auf alle bestehenden Vorlagen, in denen du diese Header und Footer verwendest, sowie weitere Vorlagen, die du zukünftig erstellst, aus.

Im Header kannst du beispielsweise dein Firmenlogo speichern und im Footer deine Signatur und allgemeine Informationen über deine Firma wie die Adresse, Links zu sozialen Netzwerken, die Rechtsform deiner Firma, Informationen zu Geschäftsführung etc.

Gehe wie im Folgenden beschrieben vor, um Vorlagen für den <<#header-erstellen, Header>> und den <<#footer-erstellen, Footer>> zu erstellen.

[#header-erstellen]
==== Vorlage für den Header erstellen

Gehe wie im Folgenden beschrieben vor, um eine Vorlage für den Header deiner E-Mail-Vorlage zu erstellen.

[.instruction]
Vorlage für den Header erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners bzw. Unterordners, in dem du einen Header erstellen möchtest, auf material:more_vert[] und dann auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:web_asset[] *Header*. +
→ Das Fenster *Neuen Header hinzufügen* öffnet sich.
. Gib einen Namen für den Header ein.
. Klicke auf *Speichern*. +
→ Die Header-Vorlage wird erstellt.
. Klicke auf *Hinzufügen* (material:add[]), um eine <<#sprache-hinzufuegen, Sprache hinzuzufügen>>. +
→ Ein Fenster öffnet sich.
. Wähle eine Sprache aus der Liste. +
→ Das Fenster *Neuer Name* öffnet sich.
. Gib den Betreff für die Header-Vorlage ein.
. Klicke auf *Speichern*.
. Wähle (material:check_box[role=skyBlue]) im Bereich *Allgemeine Einstellungen* den Eigner und den Mandant.
. Klicke auf *Bearbeiten* (material:edit[]).
. Bearbeite den Header nach deinen Wünschen und füge <<#widget-einfuegen, Widgets>> und xref:crm:emailbuilder-variablen-twig-expressions.adoc#verfuegbare-variablen[Variablen] ein. 
. *Speichere* (material:save[]) die Einstellungen.

[#header-vorschau-anzeigen]
==== Vorschau des Headers anzeigen

Du kannst dir jederzeit eine Vorschau deiner Header-Vorlage anschauen. Dies ist entweder im HTML-Format oder als reiner Text möglich. Gib eine Auftrags-ID ein, um die Vorschau mit echten Auftragsdaten zu befüllen. Gehe wie im Folgenden beschrieben vor, um die Vorschau einer Vorlage anzuzeigen.

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der den Header enthält, von dem du eine Vorschau anzeigen möchtest.
. Klicke auf den Header.
. Klicke auf *Vorschau* (material:preview[]). +
→ Das Fenster *Vorschau* öffnet sich.
. Wähle aus der Dropdown-Liste *Format der Vorschau* die Option *HTML* oder *Reiner Text*.
. Gib im Feld *Auftrags-ID* die ID des Auftrags ein, von dem du die Vorschau sehen möchtest.
. Klicke auf material:preview[] *VORSCHAU*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet. +
*_Hinweis:_* Dein System merkt sich den Wert der eingegeben Auftrags-ID bis zum nächsten Login oder bis der Browser-Cache geleert wird.
. Prüfe die Header-Vorlage.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, bearbeite den Inhalt deines Headers erneut.

[#footer-erstellen]
==== Vorlage für den Footer erstellen

Gehe wie im Folgenden beschrieben vor, um eine Vorlage für den Footer deiner E-Mail-Vorlage zu erstellen.

[.instruction]
Vorlage für den Footer erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
Klicke in der Zeile des Ordners bzw. Unterordners, in dem du einen Footer erstellen möchtest, auf material:more_vert[] und dann auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:video_label[] *Footer*. +
→ Das Fenster *Neuen Footer hinzufügen* öffnet sich. +
. Gib einen Namen für den Footer ein.
. Klicke auf *Speichern*. +
→ Die Footer-Vorlage wird erstellt.
. Klicke auf *Hinzufügen* (material:add[]), um eine <<#sprache-hinzufuegen, Sprache hinzuzufügen>>. +
→ Ein Fenster öffnet sich.
. Wähle eine Sprache aus der Liste. +
→ Das Fenster *Neuer Name* öffnet sich.
. Gib den Betreff für die Footer-Vorlage ein.
. Klicke auf *Speichern*.
. Wähle (material:check_box[role=skyBlue]) im Bereich *Allgemeine Einstellungen* den Eigner und den Mandant.
. Klicke auf *Bearbeiten* (material:edit[]).
. Bearbeite den Footer nach deinen Wünschen und füge <<#widget-einfuegen, Widgets>> und xref:crm:emailbuilder-variablen-twig-expressions.adoc#verfuegbare-variablen[Variablen] ein.
. *Speichere* (material:save[]) die Einstellungen.

[#footer-vorschau-anzeigen]
==== Vorschau des Footers anzeigen

Du kannst dir jederzeit eine Vorschau deiner Footer-Vorlage anschauen. Dies ist entweder im HTML-Format oder als reiner Text möglich. Gib eine Auftrags-ID ein, um die Vorschau mit echten Auftragsdaten zu befüllen. Gehe wie im Folgenden beschrieben vor, um die Vorschau einer Vorlage anzuzeigen.

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der den Footer enthält, von dem du eine Vorschau anzeigen möchtest.
. Klicke auf den Footer.
. Klicke auf *Vorschau* (material:preview[]). +
→ Das Fenster *Vorschau* öffnet sich.
. Wähle aus der Dropdown-Liste *Format der Vorschau* die Option *HTML* oder *Reiner Text*.
. Gib im Feld *Auftrags-ID* die ID des Auftrags ein, von dem du die Vorschau sehen möchtest.
. Klicke auf material:preview[] *VORSCHAU*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet. +
*_Hinweis:_* Dein System merkt sich den Wert der eingegeben Auftrags-ID bis zum nächsten Login oder bis der Browser-Cache geleert wird.
. Prüfe die Footer-Vorlage.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, bearbeite den Inhalt deines Footers erneut.

[#textblock-erstellen]
== Textblock erstellen

Erstelle einen Textblock, den du dann in der xref:crm:messenger.adoc#textblock-einfuegen[Messenger-Nachricht einfügen] kannst. Textblöcke sind fertige Textbausteine, die dir die Arbeit enorm erleichtern, besonders wenn du häufig mit Standardfragen oder Standardproblemen konfrontiert wirst. Du kannst hier zum Beispiel auch längere Texte speichern und so bei der Bearbeitung deiner Nachrichten viel Zeit sparen. +
Überlege dir im Vorfeld eine sinnvolle Struktur von Ordnern, Unterordnern und Fragen.

[.instruction]
Textblock erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Suche den <<#ordner-erstellen-textblock, soeben erstellten Ordner>> und klicke auf material:more_vert[].
. Klicke auf material:add[] *Hinzufügen* material:play_arrow[] und dann auf material:text_fields[] *Textblock*. +
→ Das Fenster *Neuen Textblock hinzufügen* öffnet sich.
. Gib den Namen ein.
. Klicke auf *Speichern*. +
→ Der Textblock wird erstellt und öffnet sich.
. Klicke auf material:add[] (*Hinzufügen*).
. Wähle eine Sprache aus der Liste.
. Klicke im Bereich *Inhalt* auf material:edit[].
. Gib den Inhalt des Textblocks im Editor ein. 
. Nutze die Formatierungsmöglichkeiten des Editors, falls gewünscht.
. Klicke auf *Speichern*.

[IMPORTANT]
Wenn du plentysystems bereits seit längerer Zeit nutzt und bereits Textblöcke bzw. FAQs im alten Menü *CRM » Textblöcke / FAQ* erstellt hast, siehst du im Menü *CRM » EmailBuilder* den Ordner *Text blocks (migrated)*. Dieser Ordner enthält alle Ordner, Unterordner und FAQs, die du im alten Menü erstellt hast.

[#vorlage-erstellen]
== Vorlage erstellen

Erstelle nun die Vorlage und speichere grundlegende Einstellungen wie den Namen, den Betreff, CC und BCC und wähle die zur Vorlage passenden <<#header-erstellen, Header>> und <<#footer-erstellen, Footer>>. Gehe wie im Folgenden beschrieben vor, um eine neue Vorlage zu erstellen.

[IMPORTANT]
.Wichtig: Header und Footer in der jeweiligen Sprache hinzufügen
====
Wenn du eine Vorlage in <<#sprache-hinzufuegen, mehreren Sprachen>> erstellst, denke daran, auch den Header und den Footer in diesen Sprachen zu erstellen und diese mit der Vorlage zu verknüpfen. Andernfalls kann die Vorlage nicht versendet werden.
====

[TIP]
.Zwischen mehreren Vorlagen hin- und herwechseln
====
Wenn du später mehrere Vorlagen zur selben Zeit bearbeitest, kannst du über die Navigation auf der linken Seiten zwischen den einzelnen Vorlagen hin- und herwechseln. Die Vorlage, die du gerade geöffnet hast, ist am Zeilenanfang blau markiert.
====

[[image-emailbuilder-template]]
.Neue Vorlage im EmailBuilder erstellen
image::crm:emailbuilder-neue-vorlage.png[width=640, height=360]

[.instruction]
Vorlage erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke unten links auf material:add[] *Hinzufügen* material:play_arrow[]. +
icon:map-signs[] *_Oder:_* Klicke in der Zeile des Ordners, in dem du eine Vorlage erstellen möchtest, auf material:more_vert[] und dann auf material:add[] *Hinzufügen* material:play_arrow[]. +
. Klicke auf material:description[] *Vorlage*. +
→ Das Fenster *Neue Vorlage hinzufügen* öffnet sich.
. Nimm die Einstellungen vor. Beachte dazu die Erläuterungen in <<#table-emailbuilder-create-template>> und <<#image-emailbuilder-template>>.
. *Speichere* (material:save[]) die Einstellungen.

*_Hinweis:_* Wenn du die Vorlage nicht innerhalb eines Ordners erstellen möchtest, klicke auf der Startseite des Menüs *CRM » EmailBuilder* direkt unten links auf material:add[] *Hinzufügen* material:play_arrow[] und klicke dann auf material:description[] *Vorlage*. Die Vorlage wird dann auf der ersten Ebene erstellt, ohne dass sie zu einem Ordner gehört.

[TIP]
.E-Mail-Vorlagen werden im Multipart-Format versendet
====
Die E-Mail-Vorlagen im EmailBuilder verwenden das Multipart-Format. Das bedeutet, dass deine E-Mails gleichzeitig in einer HTML- und in einer Textversion versendet werden. +
So sind deine E-Mails für alle Empfänger:innen lesbar, auch wenn deren E-Mail-Client die Anzeige von HTML in E-Mails einschränkt oder ganz unterbindet. Auf der anderen Seite werden die von dir gestalteten HTML-Versionen deiner E-Mail-Vorlagen für die Empfänger:innen angezeigt, deren E-Mail-Client die Darstellung von HTML erlaubt. Der Vorteil für dich hierbei ist, dass du nur eine E-Mail-Vorlage pflegen musst.
====

[[table-emailbuilder-create-template]]
.Vorlage im EmailBuilder erstellen
[cols="1,3"]
|====
|Einstellung |Erläuterung

2+^| Fenster *Neue Vorlage hinzufügen*

|[#intable-template-settings-name]*Name*
|Wie lautet der Name der Vorlage? Gib einen aussagekräftigen Namen ein, damit du die Vorlage später leicht wiederfinden kannst. +
*_Hinweis:_* Dieses Feld ist ein Pflichtfeld.

|[#intable-template-settings-expert-mode]*Expertenmodus*
|Aktiviere (material:toggle_on[role=skyBlue]) die Option, wenn du die Vorlage im xref:crm:emailbuilder-expertenmodus.adoc#[Expertenmodus] erstellen möchtest. +
*_Hinweis:_* Wenn du den Expertenmodus aktivierst, sind die nachfolgenden Optionen *Header*, *Footer* und *Aus Standardvorlage verwenden* deaktiviert.

|[#intable-template-settings-header]*Header*
|Welchen Header möchtest du in dieser Vorlage anzeigen? Wähle einen Header aus der Dropdown-Liste (material:arrow_drop_down[]). +
Die Liste enthält alle <<#header-erstellen, Header>>, die du bereits erstellt hast.

|[#intable-template-settings-footer]*Footer*
|Welchen Footer möchtest du in dieser Vorlage anzeigen? Wähle einen Footer aus der Dropdown-Liste (material:arrow_drop_down[]). +
Die Liste enthält alle <<#footer-erstellen, Footer>>, die du bereits erstellt hast.

|[#intable-template-settings-default-template]*Aus Standardvorlage erstellen*
|Klappe den Bereich auf (material:arrow_drop_down[]), um eine der <<#standardvorlagen-verwenden, Standardvorlagen>> zu wählen und mit der neuen Vorlage zu verknüpfen. +
*_Hinweis:_* Du kannst die hier gewählte Standardvorlage im nächsten Schritt nach deinen Wünschen anpassen.

| *Speichern*
|Speichert die Einstellungen.

2+^| Bereich für den Inhalt der Vorlage +
In diesem Bereich fügst du die Sprachen hinzu und erstellst den Inhalt deiner Vorlage mit Widgets und Variablen. Beachte die Informationen zum Zeilenabstand in unserem xref:crm:faq.adoc#faq-zeilenabstand[FAQ-Bereich].

|[#intable-template-settings-add]*Hinzufügen*
|Klicke auf material:add[] (*Hinzufügen*), um die <<#sprache-hinzufuegen, Sprache der Vorlage zu wählen>>. +
<<#image-emailbuilder-sprachen-hinzufuegen>> zeigt die Liste mit den Sprachen, nachdem du auf material:add[] geklickt hast.

|[#intable-template-settings-subject]*Betreff eingeben*
|Wie lautet der Betreff deiner E-Mail? Gib den Betreff in der jeweiligen Sprache ein.
*_Hinweis:_* Standardmäßig ist das Sprachkürzel als Betreff eingetragen. Du kannst den Betreff jederzeit <<#betreff-aendern, anpassen>>.

| *Speichern*
|Speichert die Einstellung.

2+^|[#intable-content-and-subject]*Inhalt und Betreff* +
Dieser Bereich ist automatisch geöffnet.

|[#intable-template-settings-subject]*Betreff*
|Hier siehst du den Betreff der Vorlage. Du kannst den <<#betreff-aendern, Betreff ändern>>, wenn gewünscht. +
Klicke auf material:integration_instructions[] (*Variablen einblenden*) am Ende der Zeile, um die Variablenliste zu öffnen. Du kannst die gewünschte Variable entweder über die Kategorien und Unterkategorien suchen oder du gibst den Namen der gewünschten Variable im Suchfeld ein. Mit einem Klick auf die gewünschte Variable wird die dazugehörige twig expression inklusive der doppelt geschweiften Klammern in die Betreffzeile eingefügt. +
*_Hinweis:_* Bei Vorlagen vom Typ *Header* und *Footer* ist das Feld *Betreff* _nicht_ verfügbar.

|[#intable-template-settings-edit]*Bearbeiten*
|Klicke auf material:edit[] am Ende der Zeile *Inhalt und Betreff*, um den Inhalt der Vorlage zu bearbeiten und <<#widget-einfuegen, Widgets>> und xref:crm:emailbuilder-variablen-twig-expressions.adoc#verfuegbare-variablen[Variablen] einzufügen. +
Der Editor-Bereich öffnet sich und du kannst über die Widgets den Inhalt der Vorlage bearbeiten. +
Mit einem Klick auf material:css[] in der Symbolleiste ganz oben kannst du das <<#intable-template-settings-custom-styles, benutzerdefinierte Styling>> deiner Vorlage anpassen. +
*_Hinweis:_* Die E-Mail-Vorlagen verwenden das Multipart-Format. Die E-Mails werden also gleichzeitig in einer HTML- und in einer Textversion versendet.

|[#intable-template-settings-preview]*Vorschau*
|Klicke auf material:preview[] *Vorschau* am Ende der Zeile *Inhalt und Betreff* und wähle dann aus der Liste *Format der Vorschau* die Option *HTML* oder *Reiner Text*. Gib im Feld *Auftrags-ID* die ID des Auftrags ein, um die Vorschau mit echten Auftragsdaten zu befüllen. Die Vorschau wird in einem separaten Fenster geöffnet.

2+^|[#intable-language-specific-settings]*Spracheinstellungen* +
In diesem Bereich nimmst du die sprachabhängigen Einstellungen der Vorlage vor. Lade zum Beispiel Produktdatenblätter oder Bedienungsanleitungen in der jeweiligen Sprache hoch und bestimme die Zeit-, Datums- und Zahlenformate für jede Sprache individuell. +
*_Hinweis:_* Wenn die Vorlage vom Typ *Header* oder *Footer* ist, steht dir in diesem Bereich nur das Feld <<#intable-template-settings-custom-styles, Benutzerdefiniertes Styling>> zur Verfügung. Ein Betreff und statische Anhänge sind für Header und Footer nicht verfügbar.

|[#intable-template-settings-copy]*Kopieren*
|Klicke auf material:more_vert[] am Ende der Zeile *Spracheinstellungen* und dann auf material:content_copy[] *Kopieren*, um den Inhalt und die Spracheinstellungen der Vorlage für eine andere Sprache zu kopieren. +
*_Hinweis:_* Eine automatische Übersetzung erfolgt _nicht_. Du musst die Übersetzung selbst hinzufügen.

|[#intable-template-settings-delete]*Löschen*
|Klicke auf material:more_vert[] am Ende der Zeile *Spracheinstellungen* und dann auf material:delete[] *Löschen*. Nachdem du die Sicherheitsabfrage bestätigt hast, wird die Vorlage gelöscht.

| *Sprachen-ID*
|Hier wird die ID angezeigt. Die ID kann _nicht_ angepasst werden.

|[#intable-template-settings-static-attachments]*Statische Anhänge*
|In dieser Dropdown-Liste stehen dir alle Anhänge zur Verfügung, die du vorher im Menü *CMS » Dokumente* hochgeladen hast. Dies sind zum Beispiel Installationsanleitungen oder Produktdatenblätter in der jeweiligen Sprache. Wähle (material:check_box[role=skyBlue]) bis zu 3 statische Anhänge aus der Dropdown-Liste. +

| *HOCHLADEN* material:file_upload[]
| Hier kannst du die Anhänge auch direkt von deinem Computer aus hochladen, ohne sie vorher im Menü *CMS » Dokumente* hochladen zu müssen. +
*_Hinweis:_* Bei Vorlagen vom Typ *Header* und *Footer* ist diese Dropdown-Liste _nicht_ verfügbar.

|[#intable-template-settings-custom-styles]*Benutzerdefiniertes Styling*
|Hier kannst du das CSS-Styling deiner Vorlage, deines Headers und deines Footers anpassen. Im Kapitel <<#beispiele-benutzerdefiniertes-styling, Benutzerdefiniertes Styling: Gängige CSS-Beispiele>> unterhalb dieser Tabelle findest du einige Beispiele, wie du das Styling deiner Vorlage anpassen kannst. +
*_Tipp:_* Speichere die Einstellungen und öffne anschließend die *Vorschau* (material:preview[]), um deine Eingaben zu prüfen und ggf. weitere Anpassungen vorzunehmen.

|[#intable-template-settings-number-format]*Zahlenformat*
|Wähle für das Zahlenformat die deutsche oder die englische Schreibweise aus der Liste.

*_Beispiel:_* Die deutsche Schreibweise zeigt Zahlenformate folgendermaßen an: 1,25 oder 1.000,25. Die englische Schreibweise zeigt Zahlenformate folgendermaßen an: 1.25 oder 1,000.25.

|[#intable-template-settings-decimals]*Anzahl der Nachkommastellen*
|Gib eine Zahl ein, die die Anzahl der Nachkommastellen definiert.

|[#intable-template-settings-date-format]*Datumsformat*
a|Wähle das Datumsformat aus Dropdown-Liste.

`dd` steht für den Tag, `mm` für den Monat und `yyyy` für das Jahr. Standardmäßig ist für deutsche Systeme das Datumsformat `dd.mm.yyyy` vorausgewählt und für alle anderen Sprachen das Format `dd-mm-yyyy`. +
Verfügbare Formate:

* yyyy-mm-dd
* dd.mm.yyyy
* dd-mm-yy
* dd/mm/yyyy
* mm-dd-yyyy

Beachte auch die Code-Beispiele zum Datumsformat für das Code-Widget auf dieser xref:crm:emailbuilder-code-beispiele.adoc#code-beispiel-datumsformat[Handbuchseite].

|[#intable-template-settings-time-format]*Zeitformat*
a|Wähle das Zeitformat aus Dropdown-Liste.

`hh` steht für die Stunde im 12h-Format, `HH` steht für die Stunde im 24h-Format, `ii` für die Minuten und `ss` für die Sekunden. `a` gibt je nach Uhrzeit den Zusatz AM oder PM aus. Standardmäßig ist das Zeitformat `HH:ii` vorausgewählt. +
Verfügbare Formate:

* hh:ii:ss a
* hh.ii.ss a
* hh-ii-ss a
* hh:ii a
* hh.ii a
* hh-ii a
* HH:ii:ss
* HH.ii.ss
* HH-ii-ss
* HH:ii
* HH.ii
* HH-ii

2+^|[#intable-general-template-settings]*Allgemeine Einstellungen* +
Im Bereich *Allgemeine Einstellungen* auf der rechten Seite deines Bildschirms nimmst du die allgemeinen Einstellungen für die Vorlage in der jeweiligen Sprache vor. 

|[#intable-template-settings-name]*Name*
|Hier siehst du den Namen der Vorlage, den du eben eingegeben hast. Du kannst den Namen anpassen, wenn gewünscht.

|[#intable-template-settings-owner]*Eigner*
|Wähle einen Eigner aus der Dropdown-Liste.

|[#intable-template-settings-client]*Mandant*
|Wähle (material:check_box[role=skyBlue]) einen oder mehrere Mandanten aus der Liste.

|[#intable-template-settings-header]*Header*
|Hier siehst du den Header, den du eben für die Vorlage gewählt hast. Du kannst hier einen anderen Header wählen, wenn gewünscht. +
*_Wichtig:_* Stelle sicher, dass du hier einen Header wählst, der die selbe Sprache wie die Vorlage selbst hat.

|[#intable-template-settings-footer]*Footer*
|Hier siehst du den Footer, den du eben für die Vorlage gewählt hast. Du kannst hier einen anderen Footer wählen, wenn gewünscht. +
*_Wichtig:_* Stelle sicher, dass du hier einen Footer wählst, der die selbe Sprache wie die Vorlage selbst hat.

|[#intable-template-settings-dynamic-attachments]*Dynamische Anhänge*
|In dieser Dropdown-Liste stehen dir alle xref:auftraege:auftragsdokumente.adoc#100[standortbezogenen Dokumente] zur Verfügung, die du im Menü *Einrichtung » Mandant » [Mandant wählen] » Standorte » [Standort wählen] » Dokumente* und im Menü *Einrichtung » Dokumente » DocumentBuilder* eingerichtet hast. + 
Die Option *Benutzerdefiniertes Auftragsdokument* bezieht sich auf das Dokument, das du im xref:auftraege:document-builder.adoc#[DocumentBuilder] erstellt hast. +
Wenn du die Option *Externe Dokumente* wählst, werden alle externen Dokumente, die du im Bereich *Dokumente* des Auftrags hochgeladen hast, an die E-Mail-Vorlage angehängt. +
Wähle (material:check_box[role=skyBlue]) bis zu 4 dynamische Anhänge aus der Dropdown-Liste.

//| *Von*
//|Das ist der Absender der E-Mail, so wie er in deinem System in den E-Mail-Einstellungen hinterlegt ist.

|[#intable-template-settings-reply-to]*Antwort an*
|An wen soll die E-Mail gesendet werden? Gib die E-Mail-Adresse(n) ein. +
*_Hinweis:_* Wenn du mehrere E-Mail-Adressen eingibst, trenne diese jeweils durch ein Komma.

|[#intable-template-settings-cc]*CC*
|An wen soll die E-Mail in Kopie gesendet werden? Gib die E-Mail-Adresse(n) ein. +
*_Hinweis:_* Wenn du mehrere E-Mail-Adressen eingibst, trenne diese jeweils durch ein Komma.

|[#intable-template-settings-bcc]*BCC*
|An wen soll die E-Mail als blinde Kopie gesendet werden? Gib die E-Mail-Adresse(n) ein. +
*_Hinweis:_* Wenn du mehrere E-Mail-Adressen eingibst, trenne diese jeweils durch ein Komma.

|[#intable-template-settings-back-to-template-configuration]*Zurück zur Vorlagenkonfiguration*
|Mit einem Klick auf material:arrow_back[] ganz oben rechts gelangst du wieder zurück zu Vorlagenkonfiguration.

2+^|[#intable-toolbar]*Symbolleiste*

|[#intable-toolbar-save]*Speichern*
|Speichert die Änderungen, die du an der Vorlage vorgenommen hast.

|[#intable-toolbar-template-usage]*Verwendung der Vorlage*
|Mit einem Klick auf material:assessment[] öffnet sich das Fenster *Verwendung der Vorlage*. Hier kannst du sehen, in welchem Bereich deines Systems die EmailBuilder-Vorlage verwendet wird. Weitere Informationen findest du in diesem <<#verwendung-der-vorlage, Kapitel>>.

|====

[#beispiele-benutzerdefiniertes-styling]
== Benutzerdefiniertes Styling: Gängige CSS-Beispiele

In <<#table-emailbuilder-examples-css-styling>> findest du einige gängige Beispiele, um das CSS-Styling deiner Vorlage anzupassen. Du kannst das CSS-Styling über die folgenden Wege anpassen: 

* im Bereich *Spracheinstellungen* der Vorlage im Feld *Benutzerdefiniertes Styling*
* mit einem Klick auf material:edit[] in der Vorlage über das Symbol material:css[]
* in den Widget-Einstellungen in den Feldern *Eigenes CSS* und *Eigene Element-ID*

[IMPORTANT]
material:warning[] Damit das CSS-Styling korrekt angezeigt wird, muss es von einer Klasse oder einer Element-ID umgeben sein. +
Wenn du mehrere CSS-Stylings für die Vorlage speichern möchtest, gib alle Werte untereinander, getrennt durch ein Semikolon, ein. +
*_Tipp:_* Schau dir das CSS-Tutorial mit anschaulichen Beispielen auf dieser link:https://www.w3schools.com/css/default.asp[Seite^] an.

Klappe die folgende Box auf, um Beispiele zu sehen.

[.collapseBox]
.Positiv- und Negativbeispiele für das CSS-Styling
--
<<#image-emailbuilder-css-positive-example-without-class-name>> zeigt ein *[green]#Positivbeispiel#* für ein CSS-Styling. Hier hat die Klasse keinen Namen, sondern besteht nur aus *. +
*_Hinweis:_* Ein Beispiel für eine Klasse mit Namen siehst du in <<#image-emailbuilder-css-own-class>> weiter unten in dieser Box.

[[image-emailbuilder-css-positive-example-without-class-name]]
.CSS-Styling: *[green]#Positivbeispiel#*
image::crm:emailbuilder-css-positiv-beispiel-ohne-klassenname.png[width=320, height=180]

<<#image-emailbuilder-css-negative-example>> zeigt im Gegensatz zum ersten Bild ein *[red]#Negativbeispiel#*. Hier fehlt die Klasse. Deshalb würde das CSS-Styling _nicht_ für die Vorlage greifen.

[[image-emailbuilder-css-negative-example]]
.CSS-Styling: *[red]#Negativbeispiel#*
image::crm:emailbuilder-css-negativbeispiel.png[width=320, height=180]

Wenn du mehrere Klassen oder Element-IDs erstellt hast und diese auch in deinen Vorlagen unterschiedlich anwenden möchtest, empfehlen wir, der Klasse oder der Element-ID immer einen Namen zu geben. So erkennst du später leichter die korrekte Klasse wieder, wenn du diese in den Widget-Einstellungen in den Feldern *Eigene CSS-Klasse* bzw. *Eigene Element-ID* auswählen möchtest:

image::crm:emailbuilder-eigene-css-klasse-element-id.png[width=320, height=180]

Die folgenden beiden Bilder zeigen einmal das Beispiel mit einer benannten Klasse und einmal mit einer benannten ID. +
*_Beachte:_* Wenn du der Klasse einen Namen gibst, muss dieser immer mit . beginnen. Wenn du der ID einen Namen gibst, muss diese immer mit # beginnen.

[[image-emailbuilder-css-own-class]]
.CSS-Styling: Eigene Klasse
image::crm:emailbuilder-css-eigene-klasse.png[width=320, height=180]

[[image-emailbuilder-css-own-id]]
.CSS-Styling: Eigene ID
image::crm:emailbuilder-css-eigene-id.png[width=320, height=180]

--

[[table-emailbuilder-examples-css-styling]]
.Beispiele: CSS-Styling
[cols="2,4"]
|===
|CSS-Styling |Erläuterung

|Breite der Vorlage
|Gib `max-width:` gefolgt von der gewünschten Breite in Pixel in das Feld *Benutzerdefiniertes Styling* ein. +
*_Beispiel:_* `max-width:1200px`

|Hintergrundfarbe
|Gib `background-color:` gefolgt von dem gewünschten link:https://htmlcolorcodes.com/[HTML-Farbencode^] in das Feld *Benutzerdefiniertes Styling* ein. +
*_Beispiel:_* `background-color:&#35;A9F5D0;`

|Schriftfarbe
|Gib `color:` gefolgt von dem gewünschten link:https://htmlcolorcodes.com/[HTML-Farbcode^] in das Feld *Benutzerdefiniertes Styling* ein. +
*_Beispiel:_* `color:&#35;A0A1B;`

|Schriftgröße
|Gib `font-size:` gefolgt von dem gewünschten Schriftgröße in Pixel in das Feld *Benutzerdefiniertes Styling* ein. +
*_Beispiel:_* `font-size:20px;`

|Schriftstärke
|Gib `font-weight:` gefolgt von der gewünschten Schriftstärke in das Feld *Benutzerdefiniertes Styling* ein. +
*_Beispiel:_* `font-weight:700;`

|Textausrichtung
|Gib `text-align:center;` in das Feld *Benutzerdefiniertes Styling* ein, wenn der Text zentriert angezeigt werden soll. Gib `text-align:right;` ein, wenn der Text rechtsbündig angezeigt werden soll.

|Hintergrundbild
|Gib `background-image: url(_Link_zum_Bild_);` in das Feld *Benutzerdefiniertes Styling* ein und ersetze `_Link_zum_Bild_` durch den entsprechenden Bild-Link, um ein Hintergrundbild in deiner Vorlage anzuzeigen.

|Textrahmen
|Gib z.B. `border: 1px solid blue;` in das Feld *Benutzerdefiniertes Styling* ein, um einen 1 px schmalen, blauen Rahmen um den Text einzufügen.

|Innenabstand
|Gib `padding:10px;` in das Feld *Benutzerdefiniertes Styling* ein, wenn der Abstand auf allen Seiten 10px betragen soll. +
Gib `padding: 10px 20px;` ein, wenn der Abstand oben und unten 10px und links und rechts 20px betragen soll.

|===

[#widget-einfuegen]
== Widget in Vorlage einfügen

Im Editor findest du eine Auswahl an Widgets, deren Inhalte bereits teilweise für dich vorkonfiguriert sind. In einigen Widgets kannst du dann später xref:crm:emailbuilder-variablen-twig-expressions.adoc#verfuegbare-variablen[Variablen] einfügen. +
Die folgenden Widgets sind verfügbar:

* Zweispaltiges Layout
* Dreispaltiges Layout
* Text
* Code
* Kontaktadresse
* Auftragsadresse
* Auftragspositionen
* Artikelliste
* Bild
* If-else-Widget

Beispielsweise findest du im Widget *Auftragspositionen* eine vordefinierte Liste mit den wichtigsten Variablen rund um den bestellten Artikel wie Artikelname, Anzahl der bestellten Menge, Preise, Versandkosten und Gesamtrechnungsbetrag. Du kannst die Inhalte jedoch jederzeit nach deinen Wünschen anpassen und weitere Spaltennamen und einzelne Positionen hinzufügen.

Gehe nun wie im Folgenden beschrieben vor, um ein Widget oder mehrere Widgets in deiner Vorlage einzufügen.

[.instruction]
Widget in Vorlage einfügen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du bearbeiten möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Bearbeiten* (material:edit[]). +
→ Der Editor öffnet sich und die Widgets werden geladen.
. Klicke auf das Widget auf der linken Seite, das du einbinden möchtest, und ziehe es via Drag-and-drop in den schraffierten Bereich.
. Je nachdem, welches Widget du verwendet hast, klicke auf material:edit[] bzw. auf material:settings[] und nimm die Einstellungen vor. Beachte die Erläuterungen zu den einzelnen Widgets und deren Bearbeitungsmöglichkeiten in <<#table-available-widgets-emailbuilder>>.
. *Speichere* (material:save[]) die Einstellungen.

[[table-available-widgets-emailbuilder]]
.Im EmailBuilder verfügbare Widgets
[cols="1,3a"]
|====
|Widget |Erläuterung

|[#intable-widget-zweispaltiges-layout]*Zweispaltiges Layout*
a|Ermöglicht die Darstellung von Text in einem zweispaltigen Layout. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-zweispaltiges-layout, Widget: Zweispaltiges Layout>> unterhalb dieser Tabelle.

|[#intable-widget-dreispaltiges-layout]*Dreispaltiges Layout*
a|Ermöglicht die Darstellung von Text in einem dreispaltigen Layout. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-dreispaltiges-layout, Widget: Dreispaltiges Layout>> unterhalb dieser Tabelle.

|[#intable-widget-text]*Text*
|In diesem Widget kannst du Text eingeben und Variablen verwenden. Du hast auch die Möglichkeit, den eingegebenen Text zu formatieren. + 
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-text, Widget: Text>> unterhalb dieser Tabelle.

|[#intable-widget-code]*Code*
|In diesem Widget kannst du Text im HTML-Format eingeben und mit xref:crm:emailbuilder-variablen-twig-expressions.adoc#twig-code-widget[twig expressions] arbeiten. Hierzu sind einige grundlegende HTML-Kenntnisse erforderlich. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-code, Widget: Code>> unterhalb dieser Tabelle.

|[#intable-widget-kontaktadresse]*Kontaktadresse*
|Dieses Widget enthält Daten der Kontaktadresse. Das Layout der Adresse richtet sich nach den Einstellungen, die du im Menü *Einrichtung » CRM » Adress-Layout* gespeichert hast. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-kontaktadresse, Widget: Kontaktadresse>> unterhalb dieser Tabelle.

|[#intable-widget-auftragsadresse]*Auftragsadresse*
|Dieses Widget enthält Daten der Auftragsadresse. Das Layout der Adresse richtet sich nach den Einstellungen, die du im Menü *Einrichtung » CRM » Adress-Layout* gespeichert hast. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-auftragsadresse, Widget: Auftragsadresse>> unterhalb dieser Tabelle.

|[#intable-widget-auftragspositionen]*Auftragspositionen*
|Dieses Widget enthält ein vordefiniertes Layout für die Auftragspositionen, das du selbstverständlich anpassen kannst. Du kannst Spalten hinzufügen, die Spaltenbreiten anpassen und andere Einstellungen vornehmen. + 
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-auftragspositionen, Widget: Auftragspositionen>> unterhalb dieser Tabelle.

|[#intable-widget-artikelliste]*Artikelliste*
|In diesem Widget kannst du Text eingeben und Variablen verwenden. Beachte, dass in diesem Widget nur die Variablen aus der Unterkategorie xref:crm:emailbuilder-variablen-twig-expressions.adoc#variablen-auftrag-auftragspositionen[Auftrag / Auftragspositionen (nur für Artikellisten-Widget)] verwendet werden können. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-artikelliste, Widget: Artikelliste>> unterhalb dieser Tabelle.

|[#intable-widget-bild]*Bild*
|In diesem Widget kannst du Bilder wie z.B. dein Firmenlogo hochladen, um dieses in deinen E-Mail-Vorlagen anzuzeigen. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-bild, Widget: Bild>> unterhalb dieser Tabelle.

|[#intable-widget-if-else]*If-else-Widget*
|In diesem Widget kannst du Wenn-Dann-Bedingungen einbauen. +
Weitere Details zu diesem Widget erhältst du im Kapitel <<#widget-if-else, Widget: If-else>> unterhalb dieser Tabelle.

|====

[#widget-zweispaltiges-layout]
=== Widget: Zweispaltiges Layout

Dieses Widget ist ein Struktur-Widget. Es ermöglicht die Darstellung von Text in einem zweispaltigen Layout.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Verhältnis, wie die beiden Spalten angezeigt werden, bestimmen. Zur Auswahl stehen die folgenden Werte:

* 50% / 50% (Standard)
* 30% / 70%
* 70% / 30%

Du kannst weitere Widgets in dieses Widget einfügen, indem du diese per Drag-and-drop in eine der beiden Spalten ziehst. Füge zum Beispiel ein <<#widget-bild, Bild-Widget>> ein. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen.

[#widget-dreispaltiges-layout]
=== Widget: Dreispaltiges Layout

Dieses Widget ist ein Struktur-Widget. Es ermöglicht die Darstellung von Text in einem dreispaltigen Layout.

Du kannst weitere Widgets in dieses Widget einfügen, indem du diese per Drag-and-drop in eine der drei Spalten ziehst. Füge zum Beispiel ein <<#widget-bild, Bild-Widget>> ein.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

[#widget-text]
=== Widget: Text

In diesem Widget kannst du Text eingeben und xref:crm:emailbuilder-twig-expressions.adoc#[Variablen] verwenden. Du hast auch die Möglichkeit, den eingegebenen Text zu formatieren. Mache dazu einen Doppelklick auf das Wort, das du formatieren möchtest.

// TODO: Screenshot von Formatierungsmöglichkeiten einfügen.

Mit einem Klick auf material:edit[] öffnet sich auf der linken Seite die Liste mit den Variablen. Nutze die Suchfunktion, um nach einzelnen Variablen zu suchen oder finde die passenden Variablen, indem du die einzelnen Bereiche aufklappst (material:chevron_right[]). Klicke auf die Variable, die du einfügen möchtest. Gib ggf. zusätzlich Text in das Widget ein.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>. +
Mit einem Klick auf *Widget löschen* (material:delete[]) entfernst du das Widget. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen.

|[#intable-widget-code]*Code*
|In diesem Widget kannst du Text im HTML-Format eingeben und mit xref:crm:emailbuilder-variablen-twig-expressions.adoc#twig-code-widget[twig expressions] arbeiten. Hierzu sind einige grundlegende HTML-Kenntnisse erforderlich.

Klicke auf icon:code[], um die Ansicht zu öffnen. +
Auf der linken Seite des Code-Editors siehst du die xref:crm:emailbuilder-variablen-twig-expressions.adoc#verfuegbare-variablen[Liste mit den verfügbaren Variablen]. Der Unterschied zu der Variablenliste, die sich zum Beispiel im Text-Widget öffnet, ist, dass hier beim Klick auf die Variable automatisch die twig expression in den Code-Editor eingefügt wird.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. 

Beachte auch die Code-Beispiele für das Code-Widget auf dieser xref:crm:emailbuilder-code-beispiele.adoc#code-beispiele-code-widget[Handbuchseite].

[#widget-code]
=== Widget: Code

In diesem Widget kannst du Text im HTML-Format eingeben und mit xref:crm:emailbuilder-variablen-twig-expressions.adoc#twig-code-widget[twig expressions] arbeiten. Hierzu sind einige grundlegende HTML-Kenntnisse erforderlich.

Klicke auf icon:code[], um die Ansicht zu öffnen. +
Auf der linken Seite des Code-Editors siehst du die xref:crm:emailbuilder-variablen-twig-expressions.adoc#verfuegbare-variablen[Liste mit den verfügbaren Variablen]. Der Unterschied zu der Variablenliste, die sich zum Beispiel im Text-Widget öffnet, ist, dass hier beim Klick auf die Variable automatisch die twig expression in den Code-Editor eingefügt wird.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. 

Beachte auch die Code-Beispiele für das Code-Widget auf dieser xref:crm:emailbuilder-code-beispiele.adoc#code-beispiele-code-widget[Handbuchseite].

[#widget-kontaktadresse]
=== Widget: Kontaktadresse

Dieses Widget enthält Daten der Kontaktadresse. Das Layout der Adresse richtet sich nach den Einstellungen, die du im Menü *Einrichtung » CRM » Adress-Layout* gespeichert hast. Das bedeutet, das Layout wird im EmailBuilder genauso ausgegeben, wie das Adress-Layout, das du als xref:crm:vorbereitende-einstellungen.adoc#adress-layout[Standard-Adress-Layout] im Menü *Einrichtung » CRM » Adress-Layout* definiert hast.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Wähle aus der Dropdown-Liste den Adresstyp *Rechnungsadresse* oder *Lieferadresse*.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

*_Hinweis:_* Alle zum Kontakt gespeicherten Adressen findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#adressen[Adressen]. Die primäre Lieferadresse und die primäre Rechnungsadresse des Kontakts findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#primaere-adresse[Primäre Adresse].

[#widget-auftragsadresse]
=== Widget: Auftragsadresse

Dieses Widget enthält Daten der Auftragsadresse. Das Layout der Adresse richtet sich nach den Einstellungen, die du im Menü *Einrichtung » CRM » Adress-Layout* gespeichert hast. Das bedeutet, das Layout wird im EmailBuilder genauso ausgegeben, wie das Adress-Layout, das du als xref:crm:vorbereitende-einstellungen.adoc#adress-layout[Standard-Adress-Layout] im Menü *Einrichtung » CRM » Adress-Layout* definiert hast.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Wähle aus der Dropdown-Liste den Adresstyp *Rechnungsadresse* oder *Lieferadresse*.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

*_Hinweis:_* Alle zum Kontakt gespeicherten Adressen findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#adressen[Adressen]. Die primäre Lieferadresse und die primäre Rechnungsadresse des Kontakts findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#primaere-adresse[Primäre Adresse].

[#widget-auftragspositionen]
=== Widget: Auftragspositionen

Dieses Widget enthält ein vordefiniertes Layout für die Auftragspositionen, das du selbstverständlich anpassen kannst.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Wähle aus der Liste *Währungseinstellungen*, ob du das Währungszeichen (z.B. *€*) oder das ISO-Symbol (z.B. *EUR*) im Widget anzeigen möchtest.

Wähle jeweils aus den Dropdown-Listen *Spaltenwert*, welche Inhalte in den Spalten und als einzelne Positionen in der Tabelle angezeigt werden sollen. +
Gib jeweils in den Feldern *Spaltenbreite* darunter einen Wert in Prozent ein, um die Breite der Spalten in der Tabelle anzupassen. +
Wenn du den Spaltennamen ändern möchtest: Gib jeweils in den Feldern *Spaltenname festlegen* den neuen Namen für die angezeigte Spalte ein. +
Mit einem Klick auf material:unfold_more[] kannst du die Reihenfolge der angezeigten Spalten ändern. +
Du siehst in der Vorschau sofort, wie sich die Änderungen auf die Tabelle auswirken. +
Mit einem Klick auf material:add[] (*Neuen Eintrag hinzufügen*) in den Einstellungen kannst du weitere Spalten hinzufügen. Mit einem Klick auf *Eintrag entfernen* (material:delete[]) löschst du die Spalten aus der Übersicht. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

*Verfügbare Spalten und einzelne Positionen für die Tabelle im Auftragspositionen-Widget*

*Verfügbare Spalten*:

* Anzahl
* Artikel-ID
* Artikelname
* Artikelbild
* Attributwerte
* Barcode
* Barcode-Bild
* Einzelpreis (brutto)
* Einzelpreis (netto)
* Externe Varianten-ID
* MwSt.-Betrag
* MwSt.-Satz
* Preis (brutto)
* Preis (netto)
* Rabatt (%)
* Rabatt (brutto)
* Rabatt (netto)
* Varianten-ID
* Variantenname
* Variantennummer
* Verfügbarkeit
* Wert der Bestelleigenschaft

*_Tipp:_* Im Feld *Spaltenbreite* kannst du eine Zahl in Prozent eingeben, um die Spaltenbreiten selbst festzulegen.

*Verfügbare einzelne Positionen*:

* Mehrwertsteuersätze und -Beträge
* Rabatt (brutto)
* Rabatt (netto)
* Versandkosten (brutto)
* Versandkosten (netto)
* Warenwert (brutto)
* Warenwert (netto)

* Offener Betrag
* Bezahlter Betrag
* Rechnungsbetrag (brutto)
* Rechnungsbetrag (netto)

[#widget-artikelliste]
=== Widget: Artikelliste

In diesem Widget kannst du Text eingeben und Variablen verwenden. Beachte, dass in diesem Widget nur die Variablen aus der Unterkategorie xref:crm:emailbuilder-variablen-twig-expressions.adoc#variablen-auftrag-auftragspositionen[Auftrag / Auftragspositionen (nur für Artikellisten-Widget)] verwendet werden können.

Mit einem Klick auf material:edit[] öffnet sich auf der linken Seite die Liste mit den Variablen. Nutze die Suchfunktion, um nach einzelnen Variablen zu suchen oder finde die passenden Variablen, indem du die einzelnen Bereiche aufklappst (material:chevron_right[]). Klicke auf die Variable, die du einfügen möchtest. Gib ggf. zusätzlich Text in das Widget ein.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>. +
Mit einem Klick auf *Widget löschen* (material:delete[]) entfernst du das Widget. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen.

[#widget-bild]
=== Widget: Bild

In diesem Widget kannst du Bilder wie z.B. dein Firmenlogo hochladen, um dieses in deinen E-Mail-Vorlagen anzuzeigen.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Bild hochladen, die Breite und die Höhe des Bildes in px oder % angeben, einen Alternativtext eingeben, das Styling im CSS-Format anpassen und den Bild-Link angeben. +
*_Wichtig:_* Gib bei dem Bild-Link immer `https` mit an. +
*_Tipp:_* Wenn du das Bild an eine bestimmte Position setzen möchtest, kannst du das CSS-Styling im Feld *Eigenes Styling* anpassen, z.B. `margin-left: auto; margin-right: 0; display: block;` oder `float:right;display:block;`. Weitere Informationen findest du z.B. link:https://www.w3schools.com/css/css3_images.asp[hier^] und link:https://www.caniemail.com/[hier^].

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

[#widget-if-else]
=== Widget: If-else

In diesem Widget kannst du Wenn-Dann-Bedingungen einbauen. +
Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du die folgenden *Variablen* wählen:

* Mandanten-ID
* Zahlungsart
* Versandprofil
* Klasse
* Verfügbarkeit
* Lager
* Auftragsherkunft
* Sprache
* Varianten-ID

Nachdem du eine Variable gewählt hast, wählst du einen der folgenden *Vergleichsoperatoren* aus der Liste:

* Ist gleich
* Ist nicht gleich
* Größer als
* Kleiner als
* Größer oder gleich
* Kleiner oder gleich

Nachdem du einen Vergleichsoperator gewählt hast, stehen dir die in deinem System verfügbaren Werte der oben gewählten Variable zur Verfügung. Wähle dort eine Option aus der Liste. +
*_Hinweis:_* Für die Variable *Varianten-ID* steht ein Eingabefeld zur Verfügung, für alle anderen Variablen eine Dropdown-Liste.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen. +
*_Hinweis:_* In den Widget-Einstellungen kannst du über die Felder *Eigenes CSS* und *Eigene Element-ID* das CSS-Styling deiner Vorlage selber anpassen. Weitere Informationen und Beispiele dazu findest du in diesem <<#beispiele-benutzerdefiniertes-styling, Kapitel>>.

////
[TIP]
.Weitere twig expressions für das Artikellisten-Widget
====
Du kannst zusätzlich die im Folgenden aufgelisteten twig expressions im Artikellisten-Widget verwenden. Beachte, dass diese Werte nur als twig expression verfügbar sind und deshalb _nicht_ in der Liste der verfügbaren Variablen für das Artikellisten-Widget im EmailBuilder gesucht werden können.

* &#123;&#8288;&#123;order.formattedSubtotals.totalDiscountGross&#125;&#8288;&#125; 
// ** gibt den Bruttogesamtbetrag des Rabatts aus

* &#123;&#8288;&#123;order.formattedSubtotals.totalDiscountNet&#125;&#8288;&#125;
// ** gibt den Nettogesamtbetrag des Rabatts aus

* &#123;&#8288;&#123;order.formattedSubtotals.subtotalPriceGross&#125;&#8288;&#125;
// ** gibt den Bruttopreis aus

* &#123;&#8288;&#123;order.formattedSubtotals.subtotalPriceNet&#125;&#8288;&#125;
// ** gibt den Nettopreis aus

* &#123;&#8288;&#123;order.formattedSubtotals.shippingCostsGross&#125;&#8288;&#125;
// ** gibt die Bruttoversandkosten aus

* &#123;&#8288;&#123;order.formattedSubtotals.shippingCostsNet&#125;&#8288;&#125;
// ** gibt die Nettoversandkosten aus

* &#123;&#8288;&#123;order.formattedSubtotals.vats&#125;&#8288;&#125;
// ** gibt die Mehrwersteuersätze aus

====
////

[#widget-vorschau-anzeigen]
[discrete]
==== Vorschau des Widgets anzeigen

Prüfe das Widget, indem du die Vorschau öffnest.

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, von der du eine Vorschau anzeigen möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Vorschau* (material:preview[]).
. Wähle *Vorschau HTML* oder *Vorschau reiner Text*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet.
. Prüfe das Widget.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, <<#widget-bearbeiten, bearbeite das Widget>>.

[#widget-bearbeiten]
== Widget bearbeiten

Du kannst die Inhalte der Widgets jederzeit bearbeiten. Gehe dazu wie im Folgenden beschrieben vor.

[TIP]
Beachte die Informationen zum Zeilenabstand in unserem xref:crm:faq.adoc#faq-zeilenabstand[FAQ-Bereich].

[.instruction]
Widget bearbeiten:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du bearbeiten möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Bearbeiten* (material:edit[]). +
→ Der Editor öffnet sich und die Widgets werden geladen.
. Klicke auf material:settings[]. +
→ Die Widget-Einstellungen werden – sofern vorhanden – geöffnet.
. Klicke auf material:edit[] – sofern vorhanden. +
→ Auf der linken Seite öffnen sich die Variablen.
. Nutze die Suchfunktion, um nach einzelnen Variablen zu suchen oder finde die passenden Variablen, indem du die einzelnen Bereiche aufklappst (material:chevron_right[]).
. Klicke auf die Variable, die du in dem Widget anzeigen möchtest. +
→ Die Variable wird in das Widget übernommen.
. *Speichere* die Einstellungen.

[#standardvorlagen-verwenden]
== Standardvorlagen verwenden

Bevor du einen <<#ordner-erstellen, neuen Ordner erstellt>> hast, sind dir bestimmt die beiden bereits vorhandenen Ordner *Standardvorlagen* und *Default templates* aufgefallen? Diese Ordner enthalten vordefinierte Vorlagen in deutscher und englischer Sprache. Du kannst die Standardvorlagen entweder verwenden wie sie im System vorhanden sind oder die Inhalte nach deinen Wünschen anpassen.

In einer Standardvorlage ist neben dem Inhalt der E-Mail-Vorlage bereits der Betreff ausgefüllt. Das bedeutet, du musst anschließend noch den Eigner, den Mandant sowie Header und Footer wählen und die Felder *Antwort an* und ggf. *CC* und *BCC* befüllen. Außerdem ist es möglich, den vorausgefüllten Betreff anzupassen und dynamische und statische Anhänge anzuhängen sowie das Zahlenformat, Datumsformat und Zeitformat und die Anzahl der Nachkommastellen zu definieren.

[TIP]
.Zwischen mehreren Vorlagen hin- und herwechseln
====
Wenn du später mehrere Vorlagen zur selben Zeit bearbeitest, kannst du über die Navigation auf der linken Seiten zwischen den einzelnen Vorlagen hin- und herwechseln. Die Vorlage, die du gerade geöffnet hast, ist am Zeilenanfang blau markiert.
====

[[image-emailbuilder-example-default-template]]
.Beispiel: Standardvorlage *Auftrag: Versandbestätigung*
image::crm:emailbuilder-beispiel-standardvorlage.png[width=640, height=360]

[#standardvorlage-erstellen]
=== Standardvorlage erstellen

12 Standardvorlagen sind in deutscher und englischer Sprache in deinem System verfügbar. Beim Erstellen einer neuen Vorlage kannst du eine dieser Standardvorlagen wählen und ggf. noch anpassen. Welche Standardvorlagen es gibt und wie deren Betreff lautet, liest du im Kapitel <<#standardvorlagen-name-und-betreff, Verfügbare Standardvorlagen>>.

[.instruction]
Standardvorlage erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, in dem du eine Standardvorlage erstellen möchtest, auf material:more_vert[] und dann auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:description[] *Vorlage*. +
→ Das Fenster *Neue Vorlage erstellen* öffnet sich.
. Gib einen Namen für die Vorlage ein.
. Wähle Header und Footer für die Standardvorlage aus den Dropdown-Listen.
. Wähle eine Standardvorlage aus der Dropdown-Liste *Aus Standardvorlage erstellen*.
. *Speichere* (material:save[]) die Einstellungen. +
→ Die Vorlage wird erstellt und geöffnet. 

[TIP]
Wenn du die Standardvorlage nicht innerhalb eines Ordners erstellen möchtest, klicke auf der Startseite des Menüs *CRM » EmailBuilder* direkt unten links auf material:add[] *Hinzufügen* material:play_arrow[] und klicke dann auf material:description[] *Vorlage*. Die Vorlage wird dann auf der ersten Ebene erstellt, ohne dass sie zu einem Ordner gehört.

[#standardvorlage-betreff-aendern]
=== Betreff der Standardvorlage ändern

Sobald die Standardvorlage erstellt ist, siehst du in der Symbolleiste den bereits ausgefüllten Betreff. Klicke einfach in die Zeile des Betreffs, um ihn anzupassen. Klicke am Ende der Betreffzeile auf material:integration_instructions[] (*Variablen einblenden*), um die Variablenliste zu öffnen. Du kannst die gewünschte Variable entweder über die Kategorien und Unterkategorien suchen oder du gibst den Namen der gewünschten Variable im Suchfeld ein. Mit einem Klick auf die gewünschte Variable wird die dazugehörige twig expression inklusive der doppelt geschweiften Klammern in die Betreffzeile eingefügt.

[#standardvorlage-statische-anhaenge-und-styling]
== Statische Anhänge wählen und Styling der Standardvorlage anpassen

Im Bereich *Spracheinstellungen* kannst du bis zu 3 statische Anhänge wählen, die du an deine E-Mail-Vorlage anhängst. Ebenfalls in diesem Bereich kannst du das <<#beispiele-benutzerdefiniertes-styling, benutzerdefinierte Styling>> der Vorlage wie zum Beispiel die Breite der Vorlage oder die Schriftgröße ändern und das <<#intable-template-settings-number-format, Zahlenformat>>, <<#intable-template-settings-date-format, Datumsformat>> und <<#intable-template-settings-time-format, Zeitformat>> in deinen Vorlagen definieren.

[#standardvorlage-bearbeiten]
== Standardvorlage bearbeiten

Neben den Spracheinstellungen, in denen du beispielsweise statische Anhänge für deine Vorlage wählen kannst, kannst du den Inhalt oder den Betreff der Vorlage selbst mit einem Klick auf material:edit[] in der Zeile *Inhalt und Betreff* jederzeit anpassen.

Im Bereich *Allgemeine Einstellungen* der Vorlage wählst du einen Eigner, den Mandanten und den Header und Footer, falls noch nicht geschehen. Dort kannst du auch bis zu 4 dynamische Anhänge wählen und die Felder *Antwort an*, *CC* und *BCC* befüllen.

[#standardvorlagen-name-und-betreff]
== Verfügbare Standardvorlagen

Möchtest du wissen, welche Standardvorlagen bereits im EmailBuilder vorhanden sind und wie deren Betreff lautet? Dann klappe den folgenden Bereich mit einem Klick auf material:expand_more[] einfach auf.

[.collapseBox]
.Standardvorlagen im EmailBuilder und deren Betreff
--

*Deutsche Standardvorlagen im EmailBuilder und deren Betreff*

[[table-default-templates-german]]
.Deutsche Standardvorlagen im EmailBuilder und deren Betreff
[cols="2,2"]
|====
|Deutsche Vorlage |Betreff

|Auftrag: Änderung
|Auftragsänderung Ihrer Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Teilzahlung erhalten
|Teilzahlung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; erhalten

|Auftrag: Versandbestätigung
|Versandbestätigung für Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Zahlungseingang vollständig
|Zahlung für Auftrag &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vollständig erhalten

|Auftrag: Zahlungserinnerung
|Zahlungsstatus für den Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vom &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125;

|Auftrag: Rechnung PDF-Anhang
|Rechnung zu Order-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vom &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125;

|eBay: Disput / Storno, keine Zahlung
|Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; wurde storniert

|eBay: Eingangsbestätigung Bestellung
|eBay-Auktion gewonnen: Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Eingangsbestätigung mit Bankdaten ohne Checkout
|Eingangsbestätigung zum eBay-Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: Neues Passwort
|Ihre angeforderten Zugangsdaten zu unserem Webshop

|Shop: Newsletter-Anmeldung
|Bestätigung zur Newsletter-Anmeldung

|Shop: Eingangsbestätigung Bestellung
|Auftragsbestätigung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

*Englische Standardvorlagen im EmailBuilder und deren Betreff*

[[table-default-templates-english]]
.Englische Standardvorlagen im EmailBuilder und deren Betreff
[cols="2,2"]
|====
|Englische Vorlage |Betreff

|Order: Changes
|Change to your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Partial payment received
|Partial payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; received

|Order: Shipping confirmation
|Shipping confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Payment complete
|Payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; fully received

|Order: Payment reminder
|Payment status for the order placed on &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125; with order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Invoice
|Invoice for order ID: &#123;&#8288;&#123;order.id&#125;&#8288;&#125; from &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125;

|eBay: dispute / cancellation, no payment
|Your order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; was cancelled

|eBay: Order confirmation
|eBay auction won: Order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Order confirmation with bank details without checkout
|Order confirmation for your eBay order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: New password
|Your requested login details for our online shop

|Shop: Newsletter registration
|Confirmation of newsletter registration

|Shop: Order confirmation
|Order confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

--

[#vorlage-vorschau-anzeigen]
== Vorschau der Vorlage anzeigen

Du kannst dir jederzeit eine Vorschau deiner Vorlage anschauen. Dies ist entweder im HTML-Format oder als reiner Text möglich. Gib eine Auftrags-ID ein, um die Vorschau mit echten Auftragsdaten zu befüllen. Gehe wie im Folgenden beschrieben vor, um die Vorschau einer Vorlage anzuzeigen.

[TIP]
.E-Mail-Vorlagen werden im Multipart-Format versendet
====
Die E-Mail-Vorlagen im EmailBuilder verwenden das Multipart-Format. Das bedeutet, dass deine E-Mails gleichzeitig in einer HTML- und in einer Textversion versendet werden. +
So sind deine E-Mails für alle Empfänger:innen lesbar, auch wenn deren E-Mail-Client die Anzeige von HTML in E-Mails einschränkt oder ganz unterbindet. Auf der anderen Seite werden die von dir gestalteten HTML-Versionen deiner E-Mail-Vorlagen für die Empfänger:innen angezeigt, deren E-Mail-Client die Darstellung von HTML erlaubt. Der Vorteil für dich hierbei ist, dass du nur eine E-Mail-Vorlage pflegen musst.
====

[.instruction]
Vorschau anzeigen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, von der du eine Vorschau anzeigen möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Vorschau* (material:preview[]). +
→ Das Fenster *Vorschau* öffnet sich.
. Wähle aus der Dropdown-Liste *Format der Vorschau* die Option *HTML* oder *Reiner Text*.
. Gib im Feld *Auftrags-ID* die ID des Auftrags ein, von dem du die Vorschau sehen möchtest.
. Klicke auf material:preview[] *VORSCHAU*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet. +
*_Hinweis:_* Dein System merkt sich den Wert der eingegeben Auftrags-ID bis zum nächsten Login oder bis der Browser-Cache geleert wird.
. Prüfe die Vorlage.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, <<#vorlage-bearbeiten, bearbeite>> den Inhalt deiner Vorlage.

[#vorlage-suchen]
== Vorlage suchen

Um eine bestimmte Vorlage zu suchen, gibst du die dir bekannten Suchbegriffe in die Filter ein. Es ist auch möglich, mehrere Suchbegriffe gleichzeitig in die Suchfelder einzugeben. Dies ermöglicht eine schnellere und genauere Suche.

[.instruction]
Vorlage suchen:

. Öffne das Menü *CRM » EmailBuilder*.
* *_Möglichkeit 1:_* Gib einen Wert im Suchfeld ein und wähle dann den für dich passenden Filter aus der Vorschlagsliste. *_Beispiel:_* Wenn du eine Zahl eingibst, werden dir mögliche Filter mit dieser ID vorgeschlagen wie z.B. die Vorlagen-ID.
* *_Möglichkeit 2:_* Klicke auf material:tune[], um die Suchergebnisse mit Hilfe von Filtern einzugrenzen.
. Beachte die Erläuterungen zu den Filtern in <<#table-search-template>>. +
*_Tipp:_* Gib eine Kombination aus allen oder mehreren Werten und Optionen ein, um die Suche noch genauer einzugrenzen.
. Klicke auf material:search[] *Suchen*. +
→ Die Vorlagen, die den eingestellten Suchkriterien entsprechen, werden in der Übersicht angezeigt.

[[table-search-template]]
.Verfügbare Filter für die Vorlagensuche
[cols="1,3"]
|====
|Filter |Erläuterung

| *ID*
|Gib eine ID ein, um nach der Vorlage mit genau dieser ID zu suchen.

| *Sprache*
|Wähle (material:check_box[role=skyBlue]) eine Sprache aus der Dropdown-Liste, um nur nach Vorlagen, die in dieser Sprache erstellt wurden, zu suchen. Du kannst nach einer Sprache oder mehreren Sprachen gleichzeitig filtern.

| *Name*
|Gib einen Namen ein, um nach Vorlagen mit diesem Namen zu suchen. +
*_Hinweis:_* Wenn du in der Vergangenheit bereits "alte" Vorlagen im Menü *Einrichtung » Mandant » [Mandant wählen] » E-Mail » Vorlagen* erstellt hast, kannst du dieses Feld verwenden, um hier die alte ID der Vorlage zu suchen. Die alte ID der Vorlage wurde im Zuge der Migration in Klammern hinter den Namen geschrieben.

| *Mandant*
|Wähle (material:check_box[role=skyBlue]) einen Mandant aus der Dropdown-Liste, um nur nach Vorlagen, die für diesen Mandant erstellt wurden, zu suchen.

| *Typ*
|Wähle (material:check_box[role=skyBlue]) einen Typ aus der Dropdown-Liste, um nur nach Vorlagen mit diesem Vorlagentyp zu suchen. Du kannst nach einem Typen oder mehreren Typen gleichzeitig filtern. +
Verfügbare Optionen: *Vorlage*, *Header*, *Footer*.

| *Eigner*
|Wähle (material:check_box[role=skyBlue]) einen Eigner aus der Dropdown-Liste, um nur nach Vorlagen, die für diesen Eigner erstellt wurden, zu suchen.

| material:replay[]
|Setzt die gewählten Filterkriterien zurück.

| material:search[] *SUCHEN*
|Führt die Suche aus. Die gefundenen Vorlagen werden angezeigt. +
*_Tipp:_* Setze keine Filter, wenn du alle Vorlagen sehen möchtest.

|====

[#vorlage-verschieben]
== Vorlage verschieben

Du kannst deine Vorlagen jederzeit in einen anderen Ordner verschieben. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Vorlage verschieben:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du verschieben möchtest.
. Klicke in der Zeile der Vorlage auf material:more_vert[] und dann auf material:open_with[] *Verschieben*. +
→ Das Fenster *Verschieben* öffnet sich.
. Wähle den Zielordner.
. Klicke auf material:open_with[] *Verschieben*. +
→ Die Vorlage wird in den gewählten Ordner verschoben.

[#vorlage-bearbeiten]
== Vorlage bearbeiten

Die folgende Handlungsanleitung beschreibt, wie du allgemein Vorlagen bearbeitest. Die Vorgehensweise ist demnach identisch für das Bearbeiten aller Vorlagen, so z.B. auch für das Bearbeiten von deinen Vorlagen, die du für Header und Footer erstellt hast.

[TIP]
.Zwischen mehreren Vorlagen hin- und herwechseln
====
Wenn du später mehrere Vorlagen zur selben Zeit bearbeitest, kannst du über die Navigation auf der linken Seiten zwischen den einzelnen Vorlagen hin- und herwechseln. Die Vorlage, die du gerade geöffnet hast, ist am Zeilenanfang blau markiert.
====

[.instruction]
Vorlage bearbeiten:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du bearbeiten möchtest.
. Klicke auf die Vorlage.
. Nimm die Änderungen vor. Beachte dazu auch die Erläuterungen in <<#table-emailbuilder-create-template>>.
. *Speichere* (material:save[]) die Einstellungen.

Neben den Spracheinstellungen, in denen du beispielsweise statische Anhänge für deine Vorlage wählen kannst, kannst du den Inhalt oder den Betreff der Vorlage selbst mit einem Klick auf material:edit[] in der Zeile *Inhalt und Betreff* jederzeit anpassen.

Im Bereich *Allgemeine Einstellungen* der Vorlage wählst du einen Eigner, den Mandanten und den Header und Footer, falls noch nicht geschehen. Dort kannst du auch bis zu 4 dynamische Anhänge wählen und die Felder *Antwort an*, *CC* und *BCC* befüllen.

[#betreff-aendern]
== Betreff der Vorlage ändern

Sobald die Vorlage erstellt ist, siehst du in der Symbolleiste die Sprache der Vorlage. Klicke einfach in die Zeile des Betreffs, um ihn anzupassen. Klicke am Ende der Betreffzeile auf material:integration_instructions[] (*Variablen einblenden*), um die Variablenliste zu öffnen. Du kannst die gewünschte Variable entweder über die Kategorien und Unterkategorien suchen oder du gibst den Namen der gewünschten Variable im Suchfeld ein. Mit einem Klick auf die gewünschte Variable wird die dazugehörige twig expression inklusive der doppelt geschweiften Klammern in die Betreffzeile eingefügt.

[#statische-anhaenge-und-styling]
== Statische Anhänge wählen und Styling der Vorlage anpassen

Im Bereich *Spracheinstellungen* kannst du bis zu 3 statische Anhänge wählen, die du an deine E-Mail-Vorlage anhängst. Ebenfalls in diesem Bereich kannst du das <<#beispiele-benutzerdefiniertes-styling, benutzerdefinierte Styling>> der Vorlage wie zum Beispiel die Breite der Vorlage oder die Schriftgröße ändern und das <<#intable-template-settings-number-format, Zahlenformat>>, <<#intable-template-settings-date-format, Datumsformat>> und <<#intable-template-settings-time-format, Zeitformat>> in deinen Vorlagen definieren.

[#sprache-hinzufuegen]
== Sprache zur Vorlage hinzufügen

[[image-emailbuilder-sprachen-hinzufuegen]]
.Sprachen zu einer Vorlage hinzufügen
image::crm:emailbuilder-neue-sprache.png[width=640, height=360]

Du kannst deiner Vorlage, deinem Header und deinem Footer die folgenden Sprachen hinzufügen:

* Alle
** Wähle *Alle*, wenn du zum Beispiel ausschließlich dein Firmenlogo im Header verwendest und daher eine inhaltliche Anpassung bzw. eine Übersetzung in eine andere Sprache nicht notwendig ist.
* Deutsch
* Englisch
* Bulgarisch
* Französisch
* Italienisch
* Spanisch
* Türkisch
* Niederländisch
* Polnisch
* Portugiesisch
* Norwegisch
* Rumänisch
* Dänisch
* Schwedisch
* Tschechisch
* Russisch
* Slowakisch
* Chinesisch
* Vietnamesisch

Angenommen, du hast eine Versandbestätigung in deutscher Sprache verfasst und Widgets und Variablen eingefügt. Nun möchtest du diese Versandbestätigung auch in französischer Sprache für deine französischsprachigen Kund:innen erstellen. Der schnellste Weg ist dann, die Vorlage zu kopieren und anschließend die Übersetzung anzupassen. Wie du dazu vorgehen musst, ist im Kapitel <<#vorlage-kopieren, Vorlage kopieren>> beschrieben.

[IMPORTANT]
.Wichtig: Header und Footer in der jeweiligen Sprache hinzufügen
====
Wenn du eine Vorlage in <<#sprache-hinzufuegen, mehreren Sprachen>> erstellt hast, denke daran, auch den Header und den Footer in diesen Sprachen zu erstellen und diese mit der Vorlage zu verknüpfen. Andernfalls kann die Vorlage nicht versendet werden.
====

[#vorlage-kopieren]
== Vorlage kopieren

Du möchtest eine vorhandene Vorlage kopieren, um Zeit bei dem Erstellen einer neuen Vorlage mit ähnlichen Inhalten zu sparen? Gehe wie im Folgenden beschrieben vor.

[TIP]
Nimm _vor dem Kopieren_ der Vorlage auch die Einstellungen im Bereich <<#intable-general-template-settings, Allgemeine Einstellungen>> vor. Der Vorteil bei dieser Reihenfolge ist, dass du so auch die Einstellungen selbst und nicht nur den Inhalt der Vorlage kopierst und diese nicht erneut für die anderen Vorlagen vornehmen musst.

[.instruction]
Vorlage kopieren:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du kopieren möchtest.
. Klicke in der Zeile der Vorlage, die du kopieren möchtest, auf material:more_vert[] und dann auf material:content_copy[] *Kopieren*. +
→ Ein Fenster öffnet sich.
. Gib den Betreff für die kopierte Vorlage in der gewählten Sprache ein.
. Wähle unter *Ziel* in der Ordnerstruktur den Zielordner aus, in den du die Vorlage speichern möchtest.
. Klicke auf material:content_copy[] *Kopieren*. +
→ Die Vorlage wird kopiert und öffnet sich.
. Passe den Betreff an.
. <<#vorlage-bearbeiten, Bearbeite>> die kopierte Vorlage nun nach deinen Wünschen und passe die Übersetzung an.

[#vorlage-loeschen]
== Vorlage löschen

Gehe wie im Folgenden beschrieben vor, um Vorlagen zu löschen. Nur die zusammengesetzte Vorlage wird gelöscht, aber _nicht_ die darin enthaltenen Komponenten wie der Header und der Footer.

[.instruction]
Vorlage löschen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du löschen möchtest.
. Klicke in der Zeile der Vorlage, die du löschen möchtest, auf material:more_vert[] und dann auf material:delete[] *Löschen*. +
→ Ein Fenster mit einer Sicherheitsabfrage öffnet sich.
. Klicke auf material:delete[] *Löschen*. +
→ Die Vorlage wird gelöscht.

[#sprache-entfernen]
== Sprache aus der Vorlage entfernen

Gehe wie im Folgenden beschrieben vor, um eine bestimmte Sprache aus der Vorlage zu entfernen.

[.instruction]
Sprache aus der Vorlage entfernen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, aus der du eine Sprache entfernen möchtest.
. Klicke auf die Vorlage.
. Klicke oben im Tab der Vorlage, dessen Sprache du entfernen möchtest, auf material:more_vert[] und dann auf material:delete[] *Löschen*. +
→ Ein Fenster mit einer Sicherheitsabfrage öffnet sich.
. Klicke auf material:delete[] *Löschen*. +
→ Die Sprache wird aus der Vorlage entfernt.

[#verwendung-der-vorlage]
== Verwendung der Vorlage einsehen

Du kannst mit einem Klick sehen, in welchem Bereich deines Systems die EmailBuilder-Vorlage verwendet wird. Gehe wie im Folgenden beschrieben vor.

[.instruction]
Verwendung der Vorlage einsehen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, aus der du eine Sprache entfernen möchtest.
. Klicke auf die Vorlage.
. Klicke oben auf material:assessment[] (*Verwendung der Vorlage*). +
→ Das Fenster *Verwendung der Vorlage* öffnet sich. Die Übersicht listet die Stelle im System auf, in dem die Vorlage verwendet wird, sowie den Namen der Vorlage und ob die Vorlage aktiv ist oder nicht.
. Verwende die Filter (material:tune[]) *Stelle/Typ* und *Ist aktiv*, um die Suchergebnisse einzugrenzen. +
*_Tipp:_* Klicke in den Suchergebnissen in die jeweilige Zeile, um direkt in das entsprechende Menü weitergeleitet zu werden.
. Klicke auf *Schließen*, um das Fenster wieder zu schließen.
