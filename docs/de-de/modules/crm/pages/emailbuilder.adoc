= EmailBuilder
:keywords: EmailBuilder, E-Mail Builder, E-Mail-Vorlagen, Widgets, Emailvorlagen, Dokumentenanhang E-Mail, Email-Vorlagen Baukasten, E-Mail-Variablen, twig expressions, E-Mail-Versand, Code-Widget, Widgets E-Mail-Vorlagen
:description: Erfahre, wie du den EmailBuilder in plentymarkets verwendest und E-Mail-Vorlagen im Baukastenprinzip mithilfe von Widgets und Variablen erstellst.
:page-aliases: emailbuilder-testphase.adoc
:author: team-crm

Alle E-Mails, die du über plentymarkets an deine xref:crm:kontakte.adoc#[Kontakte] versendest, basieren auf Vorlagen. Vorlagen erstellst und verwaltest du mit dem EmailBuilder im Menü *CRM » EmailBuilder*. 

Schau dir das folgende link:https://www.youtube.com/watch?v=denxnArUsJ0[Video^] an, um mehr über den EmailBuilder zu erfahren.

[TIP]
.E-Mail-Vorlagen werden im Multipart-Format versendet
====
Die E-Mail-Vorlagen im EmailBuilder verwenden das Multipart-Format. Das bedeutet, dass deine E-Mails gleichzeitig in einer HTML- und in einer Textversion versendet werden. +
So sind deine E-Mails für alle Empfänger:innen lesbar, auch wenn deren E-Mail-Client die Anzeige von HTML in E-Mails einschränkt oder ganz unterbindet. Auf der anderen Seite werden die von dir gestalteten HTML-Versionen deiner E-Mail-Vorlagen für die Empfänger:innen angezeigt, deren E-Mail-Client die Darstellung von HTML erlaubt. Der Vorteil für dich hierbei ist, dass du nur eine E-Mail-Vorlage pflegen musst.
====

Der EmailBuilder ist ein Baukastenmodul, mit dem du deine E-Mail-Vorlagen schnell und einfach per Drag-and-drop erstellen und bearbeiten kannst. Der EmailBuilder besteht aus 2 Ansichten: dem Konfigurationsmanager und dem Editor.

* Im Konfigurationsmanager erstellst du Ordner, ggf. Unterordner, Vorlagen sowie Vorlagen für deinen Footer und deinen Header. 

* Im Editor befüllst du deine Vorlagen, Header und Footer mit Inhalt. Du kannst zum Beispiel eine Vorlage für eine Rechnung erstellen und diese zukünftig für alle Rechnungen an deine Kund:innen verwenden.

Die Header- und Footer-Vorlagen kannst du dann beliebig in deinen E-Mail-Vorlagen verwenden. Header und Footer sind global wirksam; Änderungen, die du am Header und Footer vornimmst, wirken sich demnach auch auf alle bestehenden Vorlagen sowie weitere Vorlagen, die du zukünftig erstellst, aus.

Mit dem Header, dem Footer und den Einstellungen in der Vorlage wie Name, Betreff etc. erstellst du sozusagen das Gerüst deiner E-Mail. Den Inhalt der Vorlage bildest du mit den <<#widget-einfuegen, Widgets>> und <<#variablen-emailbuilder, Variablen>>. Die Variablen werden dann in der E-Mail an deine Kund:innen durch den korrekten Inhalt ersetzt. Zum Beispiel wird die Variable `Lieferadresse Vorname und Nachname` in der E-Mail dann durch den Vornachnamen und Nachnamen des Kontakts aus der Lieferadresse ausgegeben.

Außerdem kannst du einstellen, dass dein plentymarkets System bei bestimmten Ereignissen, z.B. beim Eingehen neuer Bestellungen in deinem plentyShop oder nachdem Kund:innen deinen Newsletter abonniert haben, <<#e-mail-versand-automatisieren, automatisch E-Mails aus diesen Vorlagen>> erstellt und an deine Kund:innen versendet.

[#vorbereitende-einstellungen]
== Vorbereitende Einstellungen vornehmen

In den folgenden Unterkapiteln wird beschrieben, welche vorbereitenden Einstellungen nötig sind, damit du mit dem EmailBuilder arbeiten kannst.

[#rechte-vergeben]
=== Rechte für Backend-Benutzer:innen vergeben

:rights-purpose: mit dem EmailBuilder arbeiten können
:right-one: pass:quotes[*CRM > EmailBuilder > Anzeigen*]
:right-two: pass:quotes[*CRM > EmailBuilder > Erstellen*]
:right-three: pass:quotes[*CRM > EmailBuilder > Aktualisieren*]
:right-four: pass:quotes[*CRM > EmailBuilder > Löschen*]
:right-five: pass:quotes[im Bereich *Menü-Sichtbarkeiten*: *CRM > EmailBuilder*]

include::_includes:partial$rights.adoc[]

[#e-mail-server-zugangsdaten]
=== E-Mail-Server-Zugangsdaten speichern

Im Assistenten *E-Mail-Konten* im Menü *Einrichtung » Assistenten » Grundeinrichtung* speicherst du im Schritt *Zugangsdaten* die Zugangsdaten des E-Mail-Postfachs, aus dem du E-Mails versenden möchtest, damit dein plentymarkets System E-Mails wie Auftragsbestätigungen und Versandbestätigungen von dieser E-Mail-Adresse versenden kann.

[.collapseBox]
.Einstellungen im Assistenten *E-Mail-Konten* im Schritt *Zugangsdaten*
--
[[table-email-server-login-details]]
.E-Mail-Server-Zugangsdaten im Assistenten *E-Mail-Konten* speichern
[cols="1,3"]
|====
|Einstellung |Erläuterung

2+| Wie lauten die Server-Daten deines Anbieters?

| *Postausgangsserver/SMTP-Server*
|Gib den Postausgangsserver wie vom Provider angegeben ein (meist smtp.domain.de oder mail.domain.de). +
*_mailbox.org:_* Gib für Postfächer bei mailbox.org den Postausgangsserver *smtp.mailbox.org* ein und wähle die Verschlüsselung *SSL*.

| *Port (Standardport: 25)*
|Gib den Wert *25* ein. Dieser Wert ist für fast alle Provider korrekt. Erfrage ggf. den korrekten Port beim Provider. +
*_mailbox.org:_* Gib für Postfächer bei mailbox.org den Port *465* ein und wähle die Verschlüsselung *SSL*.

| *Verschlüsselungsmethode*
| Wähle *SSL*, *TLS* oder *keine Verschlüsselung*.  +
*_mailbox.org:_* Gib für Postfächer bei mailbox.org den Port *465* ein und wähle die Verschlüsselung *SSL*.

2+| Wie lauten die Zugangsdaten deines E-Mail-Kontos? 

| *Name des Absenders*
|Gib deinen eigenen Namen oder den Namen deines Webshops ein. Der Name wird den Empfänger:innen angezeigt. +
*_Hinweis:_* Damit der Name korrekt dargestellt wird, vermeide die Verwendung von Sonderzeichen.

| *E-Mail-Adresse*
|Gib die E-Mail-Adresse ein, wie sie auch im E-Mail-Programm steht.

| *Benutzername*
|Gib den Benutzer:innenname zu der E-Mail-Adresse ein. +
*_mailbox.org:_* Der mailbox.org-Benutzer:innenname ist die vollständige E-Mail-Adresse des mailbox.org-Postfachs.

| *Passwort*
|Gib das Passwort zu dem Benutzer:innenname und der E-Mail-Adresse ein.

2+|Möchtest du den E-Mail-Versand jetzt testen? +

|material:outgoing_mail[] 
|Mit einem Klick auf material:outgoing_mail[] wird eine Test-E-Mail an die oben eingegebene E-Mail-Adresse gesendet.

2+|Möchtest du den Live-Modus aktivieren? 

|material:check_box_outline_blank[]
|Wenn du kein Häkchen bei *Live-Modus aktivieren* setzt (material:check_box_outline_blank[]), ist der Testmodus aktiviert. +
Alle E-Mails werden nur an die eingegebene E-Mail-Adresse gesendet. So kannst du vor dem Live-Betrieb die korrekte Funktionsweise prüfen. +
*_Wichtig:_* Der Testmodus gilt nur für diesen Webshop. Die Einstellungen für weitere Mandanten werden im Menü des Mandanten (Shops) konfiguriert.

|material:check_box[role=skyBlue]
|Wenn du ein Häkchen bei *Live-Modus aktivieren* setzt (material:check_box[role=skyBlue]), ist der Live-Modus aktiviert.

|====
--

// TODO: Kapitel "Verschlüsselung der E-Mail-Kommunikation wählen" plus alle Unterkapitel hier noch ergänzen: https://knowledge.plentymarkets.com/de-de/manual/main/crm/e-mails-versenden.html#200 

//// 
[TIP]
.Newsletter-Zugangsdaten eingeben
====
Wenn du Newsletter an deine Kund:innen versenden möchtest, gibst du die Zugangsdaten im Menü *Einrichtung » Mandant » [Mandant wählen] » E-Mail » Newsletter* ein. Weitere Informationen dazu findest du auf der Handbuchseite xref:crm:newsletter-versenden.adoc#[Newsletter] im Kapitel xref:crm:newsletter-versenden.adoc#200[Newsletter-Zugangsdaten eingeben].
====
////

[#e-mail-signatur]
=== E-Mail-Signatur speichern

Im Assistenten *E-Mail-Konten* im Menü *Einrichtung » Assistenten » Grundeinrichtung* speicherst du im Schritt *Signatur* deine Signatur im HTML-Format oder im reinen Textformat. Die Signatur wird dann in deinen E-Mail-Vorlagen automatisch eingefügt wird, wenn du die entsprechende Variable in der Vorlage eingefügt hast.

[IMPORTANT]
.Priorität der Signatur beachten
====
Die im Benutzer:innenkonto im Menü *Einrichtung » Einstellungen » Benutzer » Konten* eingegebene Signatur hat Priorität gegenüber der Signatur, die im Assistenten *E-Mail-Konten* im Schritt *Signatur* gespeichert ist. +
*_Das bedeutet:_* Wenn du z.B. die Variable `Signatur im HTML-Format` oder `Signatur im reinen Textformat` in die E-Mail-Vorlage einfügst, wird die Signatur aus dem Benutzer:innenkonto übernommen. Wenn keine Signatur im Benutzer:innenkonto gespeichert ist, wird die Signatur, die im Assistenten *E-Mail-Konten* im Schritt *Signatur* gespeichert ist, übernommen.
====

[#e-mail-infodienst]
=== E-Mail-Infodienst einrichten

Du kannst im Assistenten *E-Mail-Konten* im Menü *Einrichtung » Assistenten » Grundeinrichtung* im Schritt *Infodienst* einstellen, dass alle von deinem plentymarkets System ausgehenden E-Mails auf eine von dir gewählte E-Mail-Adresse als Blindkopie versendet werden. Besonders in der Anfangsphase deines Webshops erhältst du so eine gute Kontrolle über alle versendeten E-Mails und kannst erkennen, wo du Prozesse noch optimieren musst. Du kannst hier auch einstellen, dass du bei Bestellungen automatisch eine Info-E-Mail erhältst.

[.collapseBox]
.Einstellungen im Assistenten *E-Mail-Konten* im Schritt *Infodienst*
--
[[table-info-service]]
.E-Mail-Server-Zugangsdaten im Assistenten *E-Mail-Konten* speichern
[cols="1,3"]
|====
|Einstellung |Erläuterung

2+| Möchtest du eine Blindkopie von allen von deinem plentymarkets System ausgehenden E-Mails erhalten?

|*E-Mails als Blindkopie erhalten* (material:toggle_off[role=darkGrey])
|Wenn du keine Blindkopie erhalten möchtest, aktiviere die Schaltfläche _nicht_ (material:toggle_off[role=darkGrey]).

|*E-Mails als Blindkopie erhalten* (material:toggle_on[role=skyBlue])
|Wenn du eine Blindkopie erhalten möchtest, aktiviere die Schaltfläche (material:toggle_on[role=skyBlue]). Gib im Feld, das unterhalb erscheint, die E-Mail-Adresse(n) ein. Gib mehrere E-Mail-Adressen kommagetrennt und ohne Leerzeichen ein.

|*Newsletter als Blindkopie erhalten*
|Wenn du den in plentymarkets integrierten xref:crm:newsletter-versenden.adoc#[Newsletter] verwendest, kannst du hier einstellen, ob du eine Blindkopie erhalten möchtest, wenn ein Newsletter versendet wird.

2+| Möchtest du bei Eingang einer neuen Bestellung eine E-Mail erhalten?

|*E-Mails bei neuer Bestellung erhalten* (material:toggle_off[role=darkGrey])
|Wenn du keine E-Mail beim Eingang einer neuen Bestellung erhalten möchtest, aktiviere die Schaltfläche _nicht_ (material:toggle_off[role=darkGrey]).

|*E-Mails bei neuer Bestellung erhalten* (material:toggle_on[role=skyBlue])
|Wenn du eine E-Mail beim Eingang einer neuen Bestellung erhalten möchtest, aktiviere die Schaltfläche (material:toggle_on[role=skyBlue]). Gib im Feld, das unterhalb erscheint, die E-Mail-Adresse(n) ein. Gib mehrere E-Mail-Adressen kommagetrennt und ohne Leerzeichen ein.

|====
--

[#e-mail-automatischer-versand]
=== Automatischen Versand einrichten

Im Menü *Einrichtung » Assistenten » Grundeinrichtung* im Assistenten *E-Mail-Konten* im Schritt *Automatischer Versand* stehen dir verschiedene Ereignisse zur Verfügung, die du mit einer Vorlage verknüpfen kannst. Wähle aus der Dropdown-Liste die Vorlage, die du zuvor im Menü *CRM » EmailBuilder* <<#vorlage-erstellen, erstellt>> hast. Dadurch wird bei Eintritt des Ereignisses diese Vorlage automatisch an deine Kund:innen versendet.

[IMPORTANT]
.Verknüpfung vor Löschen der E-Mail-Vorlage entfernen
====
Das Löschen einer Vorlage, die mit einem Ereignis im Schritt *Automatischer Versand* im Assistenten *E-Mail-Konten* verknüpft ist, kann zu unerwünschten Effekten führen. Entferne daher zunächst die Verknüpfung im Menü *Einrichtung » Assistenten » Grundeinrichtung* » Assistent *E-Mail-Konten* » Schritt: *Automatischer Versand*, indem du in der Zeile des Ereignisses in der Dropdown-Liste die Option *Nicht senden* wählen. Anschließend <<#vorlage-loeschen, löschst>> du die Vorlage im Menü *CRM » EmailBuilder*.
====

[.collapseBox]
.Erläuterungen zu einigen Ereignissen für den automatischen Versand im Assistenten *E-Mail-Konten* im Schritt *Automatischer Versand* 
--

[[table-events-automatic-email-dispatch]]
.Erläuterungen zu einigen Ereignissen für den automatischen Versand
[cols="1,3"]
|====
|Einstellung |Erläuterung

//| *Neue Bestellung über den Webshop*
//|Sendet Kund:innen eine E-Mail mit der Auftragsbestätigung, nachdem der Kaufvorgang im Webshop abgeschlossen wurde. +
//*_Hinweis:_* Wenn du möchtest, dass dein:e Kund:in über diese E-Mail in die Auftragsabwicklung in deinem Webshop gelangen kann, um den Status der Bestellung einzusehen, musst du die Variable `URL zum Checkout` in die Vorlage, die du für dieses automatische Ereignis wählst, einfügen. +
//*_Hinweis:_* Du findest die Variable in der Kategorie <<#variablen-global, Global>>.

| *Sende Kunde E-Mail zur Passwortänderung*
|Sendet Kund:innen eine E-Mail mit einem Link zum neuen Passwort, der aktiv bestätigt werden muss. Die Variable `URL zum Ändern des Passworts` muss in der Vorlage enthalten sein. +
*_Hinweis:_* Du findest die Variable in der Kategorie <<#variablen-global, Global>>.

| *Newsletter Opt-In*
|Sendet Kund:innen eine E-Mail, wenn die Kund:innen sich für den Newsletter angemeldet haben. Die Vorlage sollte den Bestätigungslink, den die Kund:innen anklicken müssen, um die Newsletter-Anmeldung abzuschließen, enthalten: `URL zur Bestätigung des Newsletter-Abonnements`. +
*_Hinweis:_* Du findest die Variable in der Kategorie <<#variablen-newsletter, Newsletter>>.

| *Bestätigung Newsletter Opt-In*
|Sendet Kund:innen eine E-Mail als Bestätigung, sobald die Kund:innen den Bestätigungslink, der mit der E-Mail-Vorlage für das Ereignis *Newsletter Opt-In* versendet wurde, aktiviert haben.

| *Benachrichtigung bei verfügbarem Artikel*
|Sendet Kund:innen eine E-Mail mit dem Hinweis, dass ein bestimmter Artikel wieder verfügbar ist. Voraussetzung: Die Kund:innen haben zuvor ihre E-Mail-Adresse im Webshop bei dem nicht lieferbaren Artikel eingetragen.

|====
--

// TODO: Alle verfügbaren Ereignisse in der Tabelle mit Erklärung auflisten.

Weitere Möglichkeiten, wie du den E-Mail-Versand an deine Kund:innen automatisieren kannst, sind in den Kapiteln <<#ereignisaktionen-einrichten, Ereignisaktionen einrichten>> und <<#e-mail-versand-an-mehrere-e-mail-adressen, E-Mail-Versand an mehrere E-Mail-Adressen>> beschrieben.

[#e-mail-messenger-integration]
=== Messenger-Integration

Im Menü *Einrichtung » Assistenten » Grundeinrichtung* im Assistenten *E-Mail-Konten* im Schritt *Messenger-Integration* legst du fest, ob alle gesendeten E-Mails sowie Anhänge im xref:crm:messenger-testphase.adoc#[Messenger] gesammelt werden sollen. Du entscheidest außerdem, in welchem Posteingang die E-Mails gesammelt werden und welchen Tag die Konversationen erhalten sollen.

[.collapseBox]
.Einstellungen im Assistenten *E-Mail-Konten* im Schritt *Messenger-Integration*
--
[[table-collect-emails]]
.Alle gesendeten E-Mails im Messenger-Modul sammeln
[cols="1,3"]
|====
|Einstellung |Erläuterung

| *Dienst aktivieren*
a| Wenn du mit dem Sammeln von E-Mails im Messenger beginnen möchtest, aktiviere die Schaltfläche *Messenger-Integration aktivieren* (material:toggle_on[role=skyBlue]). +
Die E-Mails aus den folgenden plentymarkets Bereichen werden dann im Messenger gespeichert und angezeigt: 

* Automatischer Versand
* Auftragsereignisse
* Auftragsaktionen
* Gruppenfunktion im Kontaktdatensatz
* Aufträge » Aufträge (Testphase)
* Gruppenfunktion im Auftrag

| *Anhänge*
| Wenn du die E-Mail-Anhänge im Messenger speichern möchtest, aktiviere die Schaltfläche *Anhänge sammeln* (material:toggle_on[role=skyBlue]).

| *Posteingang*
| Wähle den Messenger-Posteingang aus der Dropdown-Liste, in dem die E-Mails gesammelt werden sollen.

| *Tags*
| Wähle (material:check_box[role=skyBlue]) die Tags aus der Liste, die der Konversation hinzugefügt werden sollen.

|====
--

[#ordner-verwalten]
== Ordner verwalten

Du kannst im EmailBuilder beliebig viele <<#ordner-erstellen, Ordner>> und bis zu 3 <<#unterordner-erstellen, Unterordner>> erstellen. Nachdem der Ordner erstellt ist, kannst du mit einem Klick auf material:more_vert[] neue Unterordner, neue Vorlagen allgemein und neue Vorlagen für Header und Footer erstellen und die Ordner <<#ordner-umbenennen, umbenennen>>, <<#ordner-verschieben, verschieben>> oder <<ordner-loeschen, löschen>>.

In deinem plentymarkets System ist bereits ein Ordner mit einigen vordefinierten Standardvorlagen vorhanden. Diese werden weiter unten im Kapitel <<#standardvorlagen-verwenden, Standardvorlagen verwenden>> erläutert.

[[image-emailbuilder-folder-structure]]
.Ordnerstruktur im EmailBuilder
image::crm:emailbuilder-ordner-vorlage-header-footer-hinzufuegen.png[width=640, height=360]

[#ordner-erstellen]
=== Ordner erstellen

Erstelle Ordner, um später eine bessere Übersicht über deine E-Mail-Vorlagen zu bekommen. Gehe wie im Folgenden beschrieben vor, um einen neuen Ordner zu erstellen.

[.instruction]
Ordner erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke unten links auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:folder[] *Ordner*. +
→ Das Fenster *Neuen Ordner erstellen* öffnet sich.
. Gib den Namen für den Ordner ein.
. Klicke auf *Speichern*. +
→ Der neue Ordner wird der Ordnerliste hinzugefügt.

[TIP]
Wenn du alle Einstellungen wie im Folgenden beschrieben vorgenommen hast – also Unterordner, Vorlagen, Header und Footer erstellt hast –, kannst du den Hauptordner mit einem Klick auf material:chevron_right[] _Name des Ordners_ öffnen. Dort siehst du dann auf einen Blick alle Unterordner, Vorlagen, Header und Footer, die du direkt unter dem Hauptordner erstellt hast.

[#ordner-umbenennen]
=== Ordner umbenennen

Du kannst den Namen des Ordners jederzeit anpassen. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Ordner umbenennen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, den du umbenennen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:edit[] *Umbenennen*. +
→ Das Fenster *Ordner umbenennen* öffnet sich.
. Gib einen anderen Namen für den Ordner ein.
. Klicke auf *Speichern*. +
→ Der neue Name des Ordners wird aktualisiert und in der Liste angezeigt.

[#ordner-verschieben]
=== Ordner verschieben

Du kannst den Ordner jederzeit an eine andere Stelle verschieben. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Ordner verschieben:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, den du verschieben möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:move_down[] *Verschieben*. +
→ Das Fenster *Verschieben* öffnet sich.
. Wähle den Zielordner.
. Klicke auf *Verschieben*. +
→ Der Ordner wird in den gewählten Ordner verschoben.

[#unterordner-erstellen]
=== Unterordner erstellen

Erstelle Unterordner in deinen Ordnern, um deine E-Mail-Vorlagen später noch differenzierter zu gruppieren. Du kannst bis zu 3 Unterordner in einem Ordner erstellen.

[TIP]
.Entwurf für deine Ordner-Struktur im Vorfeld erstellen
====
Wir empfehlen dir, im Vorfeld einen Entwurf zu erstellen, um unübersichtliche Verschachtelungen in deiner Ordnerstruktur zu vermeiden. Denn: Je mehr Ebenen und Ordner du erstellst, desto unübersichtlicher wird die Struktur.
====

[.instruction]
Unterordner erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, für den du einen Unterordner erstellen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:folder[] *Ordner*. +
→ Das Fenster *Neuen Ordner erstellen* öffnet sich.
. Gib den Namen für den Unterordner ein.
. Klicke auf *Speichern*. +
→ Der Unterordner wird in dem Hauptordner erstellt.

Öffne den Unterordner, indem du den Hauptordner mit einem Klick auf material:chevron_right[] öffnest. Du siehst dort auf einen Blick alle erstellten Unterordner.

[#ordner-loeschen]
=== Ordner löschen

Du kannst Ordner und Unterordner jederzeit löschen. Beachte, dass dabei alle Inhalte, die in dem Ordner enthalten sind, den du löschen möchtest, entfernt werden.

[.instruction]
Ordner löschen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners bzw. Unterordners, den du löschen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:delete[] *Löschen*. +
→ Ein Fenster mit einer Sicherheitsabfrage öffnet sich.
. Klicke auf material:delete[role=red] *Löschen*. +
→ Der Ordner mit allen dazugehörigen Unterordnern und darin enthaltenen Vorlagen wird gelöscht.

[#vorlagen-verwalten]
== Vorlagen verwalten

In den folgenden Unterkapiteln erfährst du, wie du Vorlagen für <<#header-erstellen, Header>> und <<#footer-erstellen, Footer>> und anschließend die <<#vorlage-erstellen, Vorlagen>> selbst erstellst. Außerdem ist beschrieben, wie du Vorlagen <<#vorlage-suchen, suchst>>, <<#vorlage-verschieben, verschiebst>>, <<vorlage-kopieren, kopierst>>, <<vorlage-bearbeiten, bearbeitest>> und <<vorlage-loeschen, löschst>>. +
Wenn du möchtest, kannst du bereits vordefinierte <<#standardvorlagen-verwenden, Standardvorlagen verwenden>>. Außerdem erfährst du alles über die verfügbaren <<#widget-einfuegen, Widgets>> und wie du diese Widgets in deinen Vorlagen verwenden kannst.

[TIP]
Sobald du eine Vorlage erstellt hast, wird in Klammern vor dem Namen der Vorlage die ID der Vorlage angezeigt. Das System vergibt die IDs fortlaufend und automatisch. Die IDs können _nicht_ geändert werden.

Die Widgets und Variablen, die in der Vorlage enthalten sind, bilden den eigentlichen Inhalt deiner E-Mail. In einer Vorlage kannst du über die verfügbaren Widgets beliebig viele Variablen per Drag-and-drop einfügen, die dann in der E-Mail an deine Kund:innen durch den korrekten Inhalt ersetzt werden.

Welche Variablen dir für deine E-Mail-Vorlagen zur Verfügung stehen, findest du in den Tabellen ganz unten auf dieser Seite im Kapitel <<#variablen-emailbuilder, Verfügbare Variablen und twig expressions>>.

[#vorlage-header-footer]
=== Vorlagen für Header und Footer erstellen

Erstelle Vorlagen für den Header und den Footer, die du dann in all deinen E-Mail-Vorlagen wählen kannst. Header und Footer sind global wirksam. Das bedeutet: Änderungen, die du am Header und Footer vornimmst, wirken sich demnach auch auf alle bestehenden Vorlagen, in denen du diese Header und Footer verwendest, sowie weitere Vorlagen, die du zukünftig erstellst, aus.

Im Header kannst du beispielsweise dein Firmenlogo speichern und im Footer deine Signatur und allgemeine Informationen über deine Firma wie die Adresse, Links zu sozialen Netzwerken, die Rechtsform deiner Firma, Informationen zu Geschäftsführung etc.

Gehe wie im Folgenden beschrieben vor, um Vorlagen für den <<#header-erstellen, Header>> und den <<#footer-erstellen, Footer>> zu erstellen.

[#header-erstellen]
==== Vorlage für den Header erstellen

Gehe wie im Folgenden beschrieben vor, um eine Vorlage für den Header deiner E-Mail-Vorlage zu erstellen.

[.instruction]
Vorlage für den Header erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners bzw. Unterordners, in dem du einen Header erstellen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:web_asset[] *Header*. +
→ Das Fenster *Neuen Header erstellen* öffnet sich.
. Gib einen Namen für den Header ein.
. Klicke auf *Speichern*. +
→ Die Header-Vorlage wird erstellt.
. Klicke auf *Hinzufügen* (material:add[]), um eine <<#sprache-hinzufuegen, Sprache hinzuzufügen>>. +
→ Ein Fenster öffnet sich.
. Wähle eine Sprache aus der Liste. +
→ Das Fenster *Neuer Name* öffnet sich.
. Gib den Betreff für die Header-Vorlage ein.
. Klicke auf *Speichern*.
. Wähle (material:check_box[role=skyBlue]) im Bereich *Einstellungen* den Eigner und den Mandant.
. Klicke auf *Bearbeiten* (material:edit[]).
. Bearbeite den Header nach deinen Wünschen und füge <<#widget-einfuegen, Widgets>> und <<#variablen-emailbuilder, Variablen>> ein.
. *Speichere* (material:save[]) die Einstellungen.

[#header-vorschau-anzeigen]
[discrete]
==== Vorschau des Headers anzeigen

Prüfe den Header, indem du die Vorschau öffnest.

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der den Header enthält, von dem du eine Vorschau anzeigen möchtest.
. Klicke auf den Header.
. Klicke auf *Vorschau* (material:preview[]).
. Wähle *Vorschau HTML* oder *Vorschau reiner Text*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet.
. Prüfe den Header.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, bearbeite den Inhalt deines Headers erneut.

[#footer-erstellen]
==== Vorlage für den Footer erstellen

Gehe wie im Folgenden beschrieben vor, um eine Vorlage für den Footer deiner E-Mail-Vorlage zu erstellen.

[.instruction]
Vorlage für den Footer erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
Klicke in der Zeile des Ordners bzw. Unterordners, in dem du einen Footer erstellen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:video_label[] *Footer*. +
→ Das Fenster *Neuen Footer erstellen* öffnet sich. +
. Gib einen Namen für den Footer ein.
. Klicke auf *Speichern*. +
→ Die Footer-Vorlage wird erstellt.
. Klicke auf *Hinzufügen* (material:add[]), um eine <<#sprache-hinzufuegen, Sprache hinzuzufügen>>. +
→ Ein Fenster öffnet sich.
. Wähle eine Sprache aus der Liste. +
→ Das Fenster *Neuer Name* öffnet sich.
. Gib den Betreff für die Footer-Vorlage ein.
. Klicke auf *Speichern*.
. Wähle (material:check_box[role=skyBlue]) im Bereich *Einstellungen* den Eigner und den Mandant.
. Klicke auf *Bearbeiten* (material:edit[]).
. Bearbeite den Footer nach deinen Wünschen und füge <<#widget-einfuegen, Widgets>> und <<#variablen-emailbuilder, Variablen>> ein.
. *Speichere* (material:save[]) die Einstellungen.

[#footer-vorschau-anzeigen]
[discrete]
==== Vorschau des Footers anzeigen

Prüfe den Footer, indem du die Vorschau öffnest.

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der den Footer enthält, von dem du eine Vorschau anzeigen möchtest.
. Klicke auf den Footer.
. Klicke auf *Vorschau* (material:preview[]).
. Wähle *Vorschau HTML* oder *Vorschau reiner Text*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet.
. Prüfe den Footer.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, bearbeite den Inhalt deines Footers erneut.

[#vorlage-erstellen]
=== Vorlage erstellen

Erstelle nun die Vorlage und speichere grundlegende Einstellungen wie den Namen, den Betreff, CC und BCC und wähle die zur Vorlage passenden <<#header-erstellen, Header>> und <<#footer-erstellen, Footer>>. Gehe wie im Folgenden beschrieben vor, um eine neue Vorlage zu erstellen.

[TIP]
.Zwischen mehreren Vorlagen hin- und herwechseln
====
Wenn du später mehrere Vorlagen zur selben Zeit bearbeitest, kannst du über die Navigation auf der linken Seiten zwischen den einzelnen Vorlagen hin- und herwechseln. Die Vorlage, die du gerade geöffnet hast, ist in blauer Schrift hervorgehoben. 

Außerdem wird angezeigt, in welchem Bereich der Vorlage du dich gerade befindest:

* Wenn in der Navigation auf der linken Seite unterhalb der Vorlage der Bereich material:edit[] *Bearbeiten (_Sprache_)* in blauer Schrift hervorgehoben ist, befindest du dich im Editor der Vorlage.

* Wenn material:translate[] *Spracheinstellungen* in blauer Schrift hervorgehoben ist, befindest du dich gerade in den sprachabhängigen Einstellungen der Vorlage.

Wenn du im Editor oder in den Spracheinstellungen einer Vorlage bist und in eine andere Vorlage wechseln möchtest, ohne dass du die Änderungen vorher gespeichert hast, wird ein Hinweis angezeigt.
====

[[image-emailbuilder-template]]
.Neue Vorlage im EmailBuilder erstellen
image::crm:emailbuilder-neue-vorlage.png[width=640, height=360]

[.instruction]
Vorlage erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, in dem du eine Vorlage erstellen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:description[] *Vorlage*. +
→ Das Fenster *Neue Vorlage erstellen* öffnet sich.
. Nimm die Einstellungen vor. Beachte dazu die Erläuterungen in <<#table-emailbuilder-create-template>> und <<#image-emailbuilder-template>>.
. *Speichere* (material:save[]) die Einstellungen.

*_Hinweis:_* Wenn du die Vorlage nicht innerhalb eines Ordners erstellen möchtest, klicke auf der Startseite des Menüs *CRM » EmailBuilder* direkt unten links auf material:add[] *Hinzufügen* material:play_arrow[] und klicke dann auf material:description[] *Vorlage*. Die Vorlage wird dann auf der ersten Ebene erstellt, ohne dass sie zu einem Ordner gehört.

[TIP]
.E-Mail-Vorlagen werden im Multipart-Format versendet
====
Die E-Mail-Vorlagen im EmailBuilder verwenden das Multipart-Format. Das bedeutet, dass deine E-Mails gleichzeitig in einer HTML- und in einer Textversion versendet werden. +
So sind deine E-Mails für alle Empfänger:innen lesbar, auch wenn deren E-Mail-Client die Anzeige von HTML in E-Mails einschränkt oder ganz unterbindet. Auf der anderen Seite werden die von dir gestalteten HTML-Versionen deiner E-Mail-Vorlagen für die Empfänger:innen angezeigt, deren E-Mail-Client die Darstellung von HTML erlaubt. Der Vorteil für dich hierbei ist, dass du nur eine E-Mail-Vorlage pflegen musst.
====

[[table-emailbuilder-create-template]]
.Vorlage im EmailBuilder erstellen
[cols="1,3"]
|====
|Einstellung |Erläuterung

2+^| Fenster *Neue Vorlage erstellen*

|[#intable-template-settings-name]*Name*
|Wie lautet der Name der Vorlage? Gib einen aussagekräftigen Namen ein, damit du die Vorlage später leicht wiederfinden kannst. +
*_Hinweis:_* Dieses Feld ist ein Pflichtfeld.

|[#intable-template-settings-header]*Header*
|Welchen Header möchtest du in dieser Vorlage anzeigen? Wähle einen Header aus der Dropdown-Liste (material:arrow_drop_down[]). +
Die Liste enthält alle <<#header-erstellen, Header>>, die du bereits erstellt hast.

|[#intable-template-settings-footer]*Footer*
|Welchen Footer möchtest du in dieser Vorlage anzeigen? Wähle einen Footer aus der Dropdown-Liste (material:arrow_drop_down[]). +
Die Liste enthält alle <<#footer-erstellen, Footer>>, die du bereits erstellt hast.

|[#intable-template-settings-default-template]*Aus Standardvorlage erstellen*
|Klappe den Bereich auf (material:arrow_drop_down[]), um eine der <<#standardvorlagen-verwenden, Standardvorlagen>> zu wählen und mit der neuen Vorlage zu verknüpfen. +
*_Hinweis:_* Du kannst die hier gewählte Standardvorlage im nächsten Schritt nach deinen Wünschen anpassen.

| *Speichern*
|Speichert die Einstellungen.

2+^| Bereich für den Inhalt der Vorlage +
In diesem Bereich erstellst du den Inhalt deiner Vorlage mit Widgets und Variablen.

|[#intable-template-settings-add]*Hinzufügen*
|Klicke auf material:add[] (*Hinzufügen*), um die <<#sprache-hinzufuegen, Sprache der Vorlage zu wählen>>. +
<<#image-emailbuilder-sprachen-hinzufuegen>> zeigt die Liste mit den Sprachen, nachdem du auf material:add[] geklickt hast.

|[#intable-template-settings-subject]*Betreff*
|Wie lautet der Betreff deiner E-Mail? Gib den Betreff in der jeweiligen Sprache ein.
*_Hinweis:_* Dieses Feld ist ein Pflichtfeld.

| *Speichern*
|Speichert die Einstellung.

|[#intable-template-settings-reload]*Daten aktualisieren*
|Klicke auf material:refresh[], um die Daten neu zu laden, wenn die Vorschau nach den Änderungen, die du gemacht hast, nicht korrekt angezeigt wird.

|[#intable-template-settings-edit]*Bearbeiten*
|Klicke auf material:edit[] in der Zeile des Betreffs, um den Inhalt der Vorlage zu bearbeiten und <<#widget-einfuegen, Widgets>> und <<#variablen-emailbuilder, Variablen>> einzufügen. +
Der Editor-Bereich öffnet sich und du kannst über die Widgets den Inhalt der Vorlage bearbeiten. +
Mit einem Klick auf material:css[] in der Symbolleiste ganz oben kannst du das <<#intable-template-settings-custom-styles, benutzerdefinierte Styling>> deiner Vorlage anpassen.
*_Hinweis:_* Die E-Mail-Vorlagen verwenden das Multipart-Format. Die E-Mails werden also gleichzeitig in einer HTML- und in einer Textversion versendet.

|[#intable-template-settings-preview]*Vorschau*
|Klicke auf material:preview[] und wähle *Vorschau HTML* oder *Vorschau reiner Text*. Die Vorschau wird in einem separaten Fenster geöffnet.

|[#intable-template-settings-copy]*Kopieren*
|Klicke auf material:more_vert[] und dann auf material:content_copy[] *Kopieren*, um den Inhalt und die Einstellungen der Vorlage für eine andere Sprache zu kopieren. +
*_Hinweis:_* Eine automatische Übersetzung erfolgt _nicht_. Du musst die Übersetzung selbst hinzufügen.

|[#intable-template-settings-delete]*Löschen*
|Klicke auf material:more_vert[] und dann auf material:delete[] *Löschen*. Nachdem du die Sicherheitsabfrage bestätigt hast, wird die Vorlage gelöscht.

2+^|[#intable-general-template-settings]*Einstellungen* +
Im Bereich *Einstellungen* auf der rechten Seite deines Bildschirms nimmst du die allgemeinen Einstellungen für die Vorlage in der jeweiligen Sprache vor. 

|[#intable-template-settings-name]*Name*
|Hier siehst du den Namen der Vorlage, den du eben eingegeben hast. Du kannst den Namen anpassen, wenn gewünscht.

|[#intable-template-settings-owner]*Eigner*
|Wähle einen Eigner aus der Dropdown-Liste.

|[#intable-template-settings-client]*Mandant*
|Wähle (material:check_box[role=skyBlue]) einen oder mehrere Mandanten aus der Liste.

|[#intable-template-settings-header]*Header*
|Hier siehst du den Header, den du eben für die Vorlage gewählt hast. Du kannst hier einen anderen Header wählen, wenn gewünscht. +
*_Wichtig:_* Stelle sicher, dass du hier einen Header wählst, der die selbe Sprache wie die Vorlage selbst hat.

|[#intable-template-settings-footer]*Footer*
|Hier siehst du den Footer, den du eben für die Vorlage gewählt hast. Du kannst hier einen anderen Footer wählen, wenn gewünscht. +
*_Wichtig:_* Stelle sicher, dass du hier einen Footer wählst, der die selbe Sprache wie die Vorlage selbst hat.

|[#intable-template-settings-dynamic-attachments]*Dynamische Anhänge*
|In dieser Dropdown-Liste stehen dir alle xref:auftraege:auftragsdokumente.adoc#100[standortbezogenen Dokumente] zur Verfügung, die du im Menü *Einrichtung » Mandant » [Mandant wählen] » Standorte » [Standort wählen] » Dokumente* eingerichtet hast. Wähle (material:check_box[role=skyBlue]) bis zu 3 dynamische Anhänge aus der Dropdown-Liste.

//| *Von*
//|Das ist der Absender der E-Mail, so wie er im plentymarkets System in den E-Mail-Einstellungen hinterlegt ist.

|[#intable-template-settings-reply-to]*Antwort an*
|An wen soll die E-Mail gesendet werden? Gib die E-Mail-Adresse(n) ein. +
*_Hinweis:_* Wenn du mehrere E-Mail-Adressen eingibst, trenne diese jeweils durch ein Komma.

|[#intable-template-settings-cc]*CC*
|An wen soll die E-Mail in Kopie gesendet werden? Gib die E-Mail-Adresse(n) ein. +
*_Hinweis:_* Wenn du mehrere E-Mail-Adressen eingibst, trenne diese jeweils durch ein Komma.

|[#intable-template-settings-bcc]*BCC*
|An wen soll die E-Mail als blinde Kopie gesendet werden? Gib die E-Mail-Adresse(n) ein. +
*_Hinweis:_* Wenn du mehrere E-Mail-Adressen eingibst, trenne diese jeweils durch ein Komma.

2+^|[#intable-language-specific-settings]*Sprachabhängige Einstellungen* (material:translate[]) +
In diesem Bereich nimmst du die sprachabhängigen Einstellungen vor. Für jede Vorlage kannst du also unterschiedliche Einstellungen vornehmen. Zum Beispiel kannst du Produktdatenblätter oder Bedienungsanleitungen in der jeweiligen Sprache mit der Vorlage verknüpfen. +
*_Hinweis:_* Wenn die Vorlage vom Typ *Header* oder *Footer* ist, steht dir in diesem Bereich nur das Feld <<#intable-template-settings-custom-styles, Benutzerdefiniertes Styling>> zur Verfügung. Ein Betreff und statische Anhänge sind für Header und Footer nicht verfügbar.

| material:translate[]
|Mit einem Klick auf material:translate[] oben rechts im Bereich *Einstellungen* öffnen sich die sprachabhängigen Einstellungen der Vorlagen. +
Für jede erstellte Sprache siehst du einen eigenen Bereich. Mit einem Klick auf material:expand_more[] kannst du einzelne Sprachbereiche zuklappen. Ein Klick auf material:chevron_right[] öffnet den Sprachbereich wieder.

|[#intable-template-settings-subject]*Betreff*
|Hier siehst du den Betreff der Vorlage. Du kannst den <<#betreff-aendern, Betreff anpassen>>, wenn gewünscht. +
*_Hinweis:_* Bei Vorlagen vom Typ *Header* und *Footer* ist dieses Feld _nicht_ verfügbar.

|[#intable-template-settings-static-attachments]*Statische Anhänge*
|In dieser Dropdown-Liste stehen dir alle Anhänge zur Verfügung, die du vorher im Menü *CMS » Dokumente* hochgeladen hast. Dies sind zum Beispiel Installationsanleitungen oder Produktdatenblätter in der jeweiligen Sprache. Wähle (material:check_box[role=skyBlue]) bis zu 3 statische Anhänge aus der Dropdown-Liste. +
*_Hinweis:_* Bei Vorlagen vom Typ *Header* und *Footer* ist diese Dropdown-Liste _nicht_ verfügbar.

|[#intable-template-settings-custom-styles]*Benutzerdefiniertes Styling*
|Hier kannst du das CSS-Styling deiner Vorlage, deines Headers und deines Footers anpassen. <<#beispiele-benutzerdefiniertes-styling, In der aufklappbaren Box unterhalb dieser Tabelle>> findest du einige gängige Beispiele, wie du das Styling deiner Vorlage anpassen kannst. +
*_Tipp:_* Speichere die Einstellungen und öffne anschließend die *Vorschau* (material:preview[]), um deine Eingaben zu prüfen und ggf. weitere Anpassungen vorzunehmen.

|[#intable-template-settings-back-to-template-configuration]*Zurück zur Vorlagenkonfiguration*
|Mit einem Klick auf material:arrow_back[] ganz oben rechts gelangst du wieder zurück zu Vorlagenkonfiguration.

|====

[#beispiele-benutzerdefiniertes-styling]
[.collapseBox]
.Benutzerdefiniertes Styling: Gängige Beispiele
--
In der folgenden Tabelle findest du einige gängige Beispiele, um das Styling deiner Vorlage anzupassen.

*_Hinweis:_* Wenn du mehrere CSS-Stylings für die Vorlage speichern möchtest, gib alle Werte hintereinander, getrennt durch ein Semikolon, ein.

[cols="2,4"]
|===
|CSS-Styling |Erläuterung

|Breite der Vorlage
|Gib `max-width:` gefolgt von der gewünschten Breite in Pixel in das Feld *Benutzerdefiniertes Styling* ein, z.B. `max-width:1200px`.

|Hintergrundfarbe
|Gib `background-color:` gefolgt von dem gewünschten link:https://htmlcolorcodes.com/[HTML-Farbencode^] in das Feld *Benutzerdefiniertes Styling* ein, z.B. `background-color:&#35;A9F5D0;`.

|Schriftfarbe
|Gib `color:` gefolgt von dem gewünschten link:https://htmlcolorcodes.com/[HTML-Farbcode^] in das Feld *Benutzerdefiniertes Styling* ein, z.B. `color:&#35;A0A1B;`.

|Schriftgröße
|Gib `font-size:` gefolgt von dem gewünschten Schriftgröße in Pixel in das Feld *Benutzerdefiniertes Styling* ein, z.B. `font-size:20px;`.

|Schriftstärke
|Gib `font-weight:` gefolgt von der gewünschten Schriftstärke in das Feld *Benutzerdefiniertes Styling* ein, z.B. `font-weight:700;`.

|Textausrichtung
|Gib `text-align:center;` in das Feld *Benutzerdefiniertes Styling* ein, wenn der Text zentriert angezeigt werden soll. Gib `text-align:right;` ein, wenn der Text rechtsbündig angezeigt werden soll.

|Hintergrundbild
|Gib `background-image: url(_Link_zum_Bild_);` in das Feld *Benutzerdefiniertes Styling* ein und ersetze `_Link_zum_Bild_` durch den entsprechenden Bild-Link, um ein Hintergrundbild in deiner Vorlage anzuzeigen.

|Textrahmen
|Gib z.B. `border: 1px solid blue;` in das Feld *Benutzerdefiniertes Styling* ein, um einen 1 px schmalen, blauen Rahmen um den Text einzufügen.

|Innenabstand
|Gib `padding:10px;` in das Feld *Benutzerdefiniertes Styling* ein, wenn der Abstand auf allen Seiten 10px betragen soll. Gib `padding: 10px 20px;` ein, wenn der Abstand oben und unten 10px und links und rechts 20px betragen soll.

|===

--

[[image-emailbuilder-sprachen-hinzufuegen]]
.Sprachen zu einer Vorlage hinzufügen
image::crm:emailbuilder-neue-sprache-hinzufuegen.png[width=640, height=360]

Gestalte nun den Inhalt deiner E-Mail, indem du über die Widgets Variablen einfügst. Wie du dazu vorgehst, ist im folgenden Kapitel <<#widget-einfuegen, Widget in Vorlage einfügen>> beschrieben.

[#widget-einfuegen]
=== Widget in Vorlage einfügen

Im Editor findest du eine Auswahl an Widgets, deren Inhalte bereits teilweise für dich vorkonfiguriert sind. Die folgenden Widgets sind verfügbar:

* <<#intable-widget-zweispaltiges-layout, Zweispaltiges Layout>>
* <<#intable-widget-dreispaltiges-layout, Dreispaltiges Layout>>
* <<#intable-widget-text, Text>>
* <<#intable-widget-code, Code>>
* <<#intable-widget-kontaktadresse, Kontaktadresse>>
* <<#intable-widget-auftragsadresse, Auftragsadresse>>
* <<#intable-widget-auftragspositionen, Auftragspositionen>> 
* <<#intable-widget-artikelliste, Artikelliste>>
* <<#intable-widget-bild, Bild>>

Beispielsweise findest du im Widget *Auftragspositionen* eine vordefinierte Liste mit den wichtigsten Variablen rund um den bestellten Artikel wie Artikelname, Anzahl der bestellten Menge, Preise, Versandkosten und Gesamtrechnungsbetrag. Du kannst die Inhalte jedoch jederzeit nach deinen Wünschen anpassen und weitere Spaltennamen und einzelne Positionen hinzufügen.

//// 

TODO: Screenshot erneuern und Text wieder einbinden, sobald das Auftragspositionen-Widget gefixed wurde.

<<#image-emailbuilder-widget-order-items>> zeigt den Bearbeitungsmodus des vordefinierten Widgets *Auftragspositionen*.

[[image-emailbuilder-widget-order-items]]
.Bearbeitungsmodus des vordefinierten Widget *Auftragspositionen*
image::crm:emailbuilder-bearbeitungsmodus-auftragspositionen.png[width=640, height=360]

////

Gehe nun wie im Folgenden beschrieben vor, um ein Widget oder mehrere Widgets in deiner Vorlage einzufügen.

[.instruction]
Widget in Vorlage einfügen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du bearbeiten möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Bearbeiten* (material:edit[]). +
→ Der Editor öffnet sich und die Widgets werden geladen.
. Klicke auf das Widget auf der linken Seite, das du einbinden möchtest, und ziehe es via Drag-and-drop in den schraffierten Bereich.
. Je nachdem, welches Widget du verwendet hast, klicke auf material:edit[] bzw. auf material:settings[] und nimm die Einstellungen vor. Beachte die Erläuterungen zu den einzelnen Widgets und deren Bearbeitungsmöglichkeiten in <<#table-available-widgets-emailbuilder>>.
. *Speichere* (material:save[]) die Einstellungen.

[[table-available-widgets-emailbuilder]]
.Im EmailBuilder verfügbare Widgets
[cols="1,3"]
|====
|Widget |Erläuterung

|[#intable-widget-zweispaltiges-layout]*Zweispaltiges Layout*
a|Ermöglicht die Darstellung von Text in einem zweispaltigen Layout. Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Verhältnis, wie die beiden Spalten angezeigt werden, bestimmen. Zur Auswahl stehen die folgenden Werte:

* 50% / 50% (Standard)
* 30% / 70%
* 70% / 30%

Du kannst weitere Widgets in dieses Widget einfügen, indem du diese per Drag-and-drop in eine der beiden Spalten ziehst. Füge zum Beispiel ein <<#intable-widget-bild, Bild-Widget>> ein.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen.

|[#intable-widget-dreispaltiges-layout]*Dreispaltiges Layout*
a|Ermöglicht die Darstellung von Text in einem dreispaltigen Layout. 

Du kannst weitere Widgets in dieses Widget einfügen, indem du diese per Drag-and-drop in eine der drei Spalten ziehst. Füge zum Beispiel ein <<#intable-widget-bild, Bild-Widget>> ein.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen.

|[#intable-widget-text]*Text*
|In diesem Widget kannst du Text eingeben und Variablen verwenden. Du hast auch die Möglichkeit, den eingegebenen Text zu formatieren. Mache dazu einen Doppelklick auf das Wort, das du formatieren möchtest.

Mit einem Klick auf material:edit[] öffnet sich auf der linken Seite die Liste mit den Variablen. Nutze die Suchfunktion, um nach einzelnen Variablen zu suchen oder finde die passenden Variablen, indem du die einzelnen Bereiche aufklappst (material:chevron_right[]). Klicke auf die Variable, die du einfügen möchtest. Gib ggf. zusätzlich Text in das Widget ein.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen.

|[#intable-widget-code]*Code*
|In diesem Widget kannst du Text im HTML-Format eingeben und mit <<#twig-code-widget, twig expressions>> arbeiten. Hierzu sind einige grundlegende HTML-Kenntnisse erforderlich.

Klicke auf icon:code[], um die Ansicht zu öffnen.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen.

|[#intable-widget-kontaktadresse]*Kontaktadresse*
|Dieses Widget enthält Musterdaten der Kontaktadresse. Das Layout der Adresse richtet sich nach den Einstellungen, die du im Menü *Einrichtung » CRM » Adress-Layout* gespeichert hast. Das bedeutet, das Layout wird im EmailBuilder genauso ausgegeben, wie das Adress-Layout, das du als xref:crm:vorbereitende-einstellungen.adoc#adress-layout[Standard-Adress-Layout] im Menü *Einrichtung » CRM » Adress-Layout* definiert hast.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Wähle aus der Dropdown-Liste den Adresstyp *Rechnungsadresse* oder *Lieferadresse*.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen.

*_Hinweis:_* Alle zum Kontakt gespeicherten Adressen findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#adressen[Adressen]. Die primäre Lieferadresse und die primäre Rechnungsadresse des Kontakts findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#primaere-adresse[Primäre Adresse].

|[#intable-widget-auftragsadresse]*Auftragsadresse*
|Dieses Widget enthält Musterdaten der Auftragsadresse. Das Layout der Adresse richtet sich nach den Einstellungen, die du im Menü *Einrichtung » CRM » Adress-Layout* gespeichert hast. Das bedeutet, das Layout wird im EmailBuilder genauso ausgegeben, wie das Adress-Layout, das du als xref:crm:vorbereitende-einstellungen.adoc#adress-layout[Standard-Adress-Layout] im Menü *Einrichtung » CRM » Adress-Layout* definiert hast.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Wähle aus der Dropdown-Liste den Adresstyp *Rechnungsadresse* oder *Lieferadresse*.

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen.

*_Hinweis:_* Alle zum Kontakt gespeicherten Adressen findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#adressen[Adressen]. Die primäre Lieferadresse und die primäre Rechnungsadresse des Kontakts findest du im Kontaktdatensatz im Bereich xref:crm:kontakt-bearbeiten.adoc#primaere-adresse[Primäre Adresse].

|[#intable-widget-auftragspositionen]*Auftragspositionen*
|Dieses Widget enthält bereits ein vordefiniertes Layout für die Auftragspositionen mit Musterdaten. Die Musterdaten werden dann in der E-Mail durch die korrekten Werte ausgegeben. 

// <<#image-emailbuilder-widget-order-items>> zeigt das Standard-Widget mit den weiteren Einstellungsmöglichkeiten. 
// TODO: wieder einkommentieren, sobald der Screenshot erneuert wurde.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du aus den Dropdown-Listen wählen, welche Inhalte in den Spalten und als einzelne Positionen angezeigt werden sollen. Mit einem Klick auf material:unfold_more[] kannst du die Reihenfolge ändern. Mit einem Klick auf material:add[] (*Neuen Eintrag hinzufügen*) in den Einstellungen kannst du weitere Spalten hinzufügen. Mit einem Klick auf *Eintrag entfernen* (material:delete[]) löschst du die Spalten aus der Übersicht.

|[#intable-widget-artikelliste]*Artikelliste*
|In diesem Widget kannst du Text eingeben und Variablen verwenden. Beachte, dass in diesem Widget nur die Variablen aus der Unterkategorie <<#variablen-auftrag-auftragspositionen, Auftrag / Auftragspositionen (nur für Artikellisten-Widget)>> verwendet werden können.

Mit einem Klick auf material:edit[] öffnet sich auf der linken Seite die Liste mit den Variablen. Nutze die Suchfunktion, um nach einzelnen Variablen zu suchen oder finde die passenden Variablen, indem du die einzelnen Bereiche aufklappst (material:chevron_right[]). Klicke auf die Variable, die du einfügen möchtest. Gib ggf. zusätzlich Text in das Widget ein.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Widget mit einem Klick auf *Widget löschen* (material:delete[]) entfernen. Weitere Einstellungen können hier nicht vorgenommen werden. Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen.

|[#intable-widget-bild]*Bild*
| In diesem Widget kannst du Bilder wie z.B. dein Firmenlogo hochladen, um dieses in deinen E-Mail-Vorlagen anzuzeigen.

Mit einem Klick auf material:settings[] öffnen sich die Einstellungen. Hier kannst du das Bild hochladen, die Breite und die Höhe des Bildes in px oder % angeben, einen Alternativtext eingeben, das Styling im CSS-Format anpassen und den Bild-Link angeben. +
*_Wichtig:_* Gib bei dem Bild-Link immer `https` mit an. +
*_Tipp:_* Wenn du das Bild an eine bestimmte Position setzen möchtest, kannst du das CSS-Styling im Feld *Eigenes Styling* anpassen, z.B. `margin-left: auto; margin-right: 0; display: block;` oder `float:right;display:block;`. Weitere Informationen findest du z.B. link:https://www.w3schools.com/css/css3_images.asp[hier^] und link:https://www.caniemail.com/[hier^].

Klicke auf *Einstellungen schließen* (material:close[]), um die Einstellungen zu schließen. Klicke auf *Widget löschen* (material:delete[]), um das Widget zu entfernen.

|====

[#widget-vorschau-anzeigen]
[discrete]
==== Vorschau des Widgets anzeigen

Prüfe das Widget, indem du die Vorschau öffnest.

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, von der du eine Vorschau anzeigen möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Vorschau* (material:preview[]).
. Wähle *Vorschau HTML* oder *Vorschau reiner Text*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet.
. Prüfe das Widget.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, <<#widget-bearbeiten, bearbeite das Widget>>.

[#widget-bearbeiten]
=== Widget bearbeiten

Du kannst die Inhalte der Widgets jederzeit bearbeiten. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Widget bearbeiten:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du bearbeiten möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Bearbeiten* (material:edit[]). +
→ Der Editor öffnet sich und die Widgets werden geladen.
. Klicke auf material:settings[]. +
→ Die Widget-Einstellungen werden – sofern vorhanden – geöffnet.
. Klicke auf material:edit[] – sofern vorhanden. +
→ Auf der linken Seite öffnen sich die Variablen.
. Nutze die Suchfunktion, um nach einzelnen Variablen zu suchen oder finde die passenden Variablen, indem du die einzelnen Bereiche aufklappst (material:chevron_right[]).
. Klicke auf die Variable, die du in dem Widget anzeigen möchtest. +
→ Die Variable wird in das Widget übernommen.
. *Speichere* die Einstellungen.

[#standardvorlagen-verwenden]
=== Standardvorlagen verwenden

Bevor du einen <<#ordner-erstellen, neuen Ordner erstellt>> hast, sind dir bestimmt die beiden bereits vorhandenen Ordner *Standardvorlagen* und *Default templates* aufgefallen? Diese Ordner enthalten vordefinierte Vorlagen in deutscher und englischer Sprache. Du kannst die Vorlagen, so wie sie sind, verwenden oder die Inhalte nach deinen Wünschen anpassen.

In einer Standardvorlage ist neben dem Inhalt der E-Mail-Vorlage bereits der Betreff ausgefüllt. Das bedeutet, du musst anschließend noch den Eigner, den Mandant sowie Header und Footer wählen und die Felder *Antwort an* und ggf. *CC* und *BCC* befüllen. Außerdem kannst du den vorausgefüllten Betreff anpassen und dynamische und statische Anhänge anhängen.

[TIP]
.Zwischen mehreren Vorlagen hin- und herwechseln
====
Wenn du später mehrere Vorlagen zur selben Zeit bearbeitest, kannst du über die Navigation auf der linken Seiten zwischen den einzelnen Vorlagen hin- und herwechseln. Die Vorlage, die du gerade geöffnet hast, ist in blauer Schrift hervorgehoben. 

Außerdem wird angezeigt, in welchem Bereich der Vorlage du dich gerade befindest:

* Wenn in der Navigation auf der linken Seite unterhalb der Vorlage der Bereich material:edit[] *Bearbeiten (_Sprache_)* in blauer Schrift hervorgehoben ist, befindest du dich im Editor der Vorlage.

* Wenn material:translate[] *Spracheinstellungen* in blauer Schrift hervorgehoben ist, befindest du dich gerade in den sprachabhängigen Einstellungen der Vorlage.

Wenn du im Editor oder in den Spracheinstellungen einer Vorlage bist und in eine andere Vorlage wechseln möchtest, ohne dass du die Änderungen vorher gespeichert hast, wird ein Hinweis angezeigt.
====

[[image-emailbuilder-example-default-template]]
.Beispiel: Standardvorlage *Auftrag: Versandbestätigung*
image::crm:emailbuilder-beispiel-standardvorlage.png[width=640, height=360]

[#standardvorlage-erstellen]
==== Standardvorlage erstellen

12 Standardvorlagen sind in deutscher und englischer Sprache in deinem plentymarkets System verfügbar. Beim Erstellen einer neuen Vorlage kannst du eine dieser Standardvorlagen wählen und ggf. noch anpassen. Welche Standardvorlagen es gibt und wie deren Betreff ist, liest du im Kapitel <<#standardvorlagen-name-und-betreff, Verfügbare Standardvorlagen>>.

[.instruction]
Standardvorlage erstellen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klicke in der Zeile des Ordners, in dem du eine Standardvorlage erstellen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:add[] *Hinzufügen* material:play_arrow[].
. Klicke auf material:description[] *Vorlage*. +
→ Das Fenster *Neue Vorlage erstellen* öffnet sich.
. Gib einen Namen für die Vorlage ein.
. Wähle Header und Footer für die Standardvorlage aus den Dropdown-Listen.
. Wähle eine Standardvorlage aus der Dropdown-Liste *Aus Standardvorlage erstellen*.
. *Speichere* (material:save[]) die Einstellungen. +
→ Die Vorlage wird erstellt und geöffnet. 

[TIP]
Wenn du die Standardvorlage nicht innerhalb eines Ordners erstellen möchtest, klicke auf der Startseite des Menüs *CRM » EmailBuilder* direkt unten links auf material:add[] *Hinzufügen* material:play_arrow[] und klicke dann auf material:description[] *Vorlage*. Die Vorlage wird dann auf der ersten Ebene erstellt, ohne dass sie zu einem Ordner gehört.

[#standardvorlage-betreff-aendern]
==== Betreff ändern

Sobald die Standardvorlage erstellt ist, siehst du in der Symbolleiste den vorausgefüllten Betreff. Den Betreff kannst du mit einem Klick auf *Sprachabhängige Einstellungen* (material:translate[]) ganz oben rechts anpassen. Dort wählst du auch bis zu 3 statische Anhänge, die du an deine E-Mail-Vorlage anhängst. Ebenfalls in diesem Bereich kannst du das xref:crm:emailbuilder.adoc#beispiele-benutzerdefiniertes-styling[benutzerdefinierte Styling] der Vorlage wie zum Beispiel die Breite der Vorlage oder die Schriftgröße ändern.

[#standardvorlage-bearbeiten]
==== Standardvorlage bearbeiten

Neben den sprachabhängigen Einstellungen, in denen du beispielsweise den <<#standardvorlage-betreff-aendern, Betreff ändern>> und statische Anhänge für deine Standardvorlage wählen kannst, kannst du den Inhalt der Standardvorlage selbst mit einem Klick auf material:edit[] anpassen. 

Im Bereich *Einstellungen* der Vorlage wählst du einen Eigner, den Mandanten und den Header und Footer, falls noch nicht geschehen. Dort kannst du auch bis zu 3 dynamische Anhänge wählen und die Felder *Antwort an*, *CC* und *BCC* befüllen.

[#standardvorlagen-name-und-betreff]
==== Verfügbare Standardvorlagen

Möchtest du wissen, welche Standardvorlagen bereits im EmailBuilder vorhanden sind und wie deren Betreff lautet? Dann klappe den folgenden Bereich mit einem Klick auf material:expand_more[] einfach auf.

[.collapseBox]
.Standardvorlagen im EmailBuilder und deren Betreff
--

*Deutsche Standardvorlagen im EmailBuilder und deren Betreff*

[[table-default-templates-german]]
.Deutsche Standardvorlagen im EmailBuilder und deren Betreff
[cols="2,2"]
|====
|Deutsche Vorlage |Betreff

|Auftrag: Änderung
|Auftragsänderung Ihrer Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Teilzahlung erhalten
|Teilzahlung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; erhalten

|Auftrag: Versandbestätigung
|Versandbestätigung für Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Zahlungseingang vollständig
|Zahlung für Auftrag &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vollständig erhalten

|Auftrag: Zahlungserinnerung
|Zahlungsstatus für den Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vom &#123;&#8288;&#123;order.formattedDates.createdOn \| date('m-d-Y H:i:s')&#125;&#8288;&#125;

|Auftrag: Rechnung PDF-Anhang
|Rechnung zu Order-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vom &#123;&#8288;&#123;order.formattedDates.createdOn \| date('m-d-Y H:i:s')&#125;&#8288;&#125;

|eBay: Disput / Storno, keine Zahlung
|Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; wurde storniert

|eBay: Eingangsbestätigung Bestellung
|eBay-Auktion gewonnen: Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Eingangsbestätigung mit Bankdaten ohne Checkout
|Eingangsbestätigung zum eBay-Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: Neues Passwort
|Ihre angeforderten Zugangsdaten zu unserem Webshop

|Shop: Newsletter-Anmeldung
|Bestätigung zur Newsletter-Anmeldung

|Shop: Eingangsbestätigung Bestellung
|Auftragsbestätigung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

*Englische Standardvorlagen im EmailBuilder und deren Betreff*

[[table-default-templates-english]]
.Englische Standardvorlagen im EmailBuilder und deren Betreff
[cols="2,2"]
|====
|Englische Vorlage |Betreff

|Order: Changes
|Change to your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Partial payment received
|Partial payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; received

|Order: Shipping confirmation
|Shipping confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Payment complete
|Payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; fully received

|Order: Payment reminder
|Payment status for the order placed on &#123;&#8288;&#123;order.formattedDates.createdOn \| date('m-d-Y H:i:s')&#125;&#8288;&#125; with order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Invoice
|Invoice for order ID: &#123;&#8288;&#123;order.id&#125;&#8288;&#125; from &#123;&#8288;&#123;order.formattedDates.createdOn \| date('m-d-Y H:i:s')&#125;&#8288;&#125;

|eBay: dispute / cancellation, no payment
|Your order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; was cancelled

|eBay: Order confirmation
|eBay auction won: Order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Order confirmation with bank details without checkout
|Order confirmation for your eBay order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: New password
|Your requested login details for our online shop

|Shop: Newsletter registration
|Confirmation of newsletter registration

|Shop: Order confirmation
|Order confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

--

[#vorlage-vorschau-anzeigen]
=== Vorschau der Vorlage anzeigen

Prüfe die E-Mail-Vorlage, indem du die Vorschau öffnest.

[TIP]
.E-Mail-Vorlagen werden im Multipart-Format versendet
====
Die E-Mail-Vorlagen im EmailBuilder verwenden das Multipart-Format. Das bedeutet, dass deine E-Mails gleichzeitig in einer HTML- und in einer Textversion versendet werden. +
So sind deine E-Mails für alle Empfänger:innen lesbar, auch wenn deren E-Mail-Client die Anzeige von HTML in E-Mails einschränkt oder ganz unterbindet. Auf der anderen Seite werden die von dir gestalteten HTML-Versionen deiner E-Mail-Vorlagen für die Empfänger:innen angezeigt, deren E-Mail-Client die Darstellung von HTML erlaubt. Der Vorteil für dich hierbei ist, dass du nur eine E-Mail-Vorlage pflegen musst.
====

[.instruction]
Vorschau anzeigen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, von der du eine Vorschau anzeigen möchtest.
. Klicke auf die Vorlage.
. Klicke auf *Vorschau* (material:preview[]).
. Wähle *Vorschau HTML* oder *Vorschau reiner Text*. +
→ Die Vorschau wird in einem separaten Fenster geöffnet.
. Prüfe die Vorlage.
. *Schließe* das Fenster.

Wenn du mit dem Ergebnis nicht zufrieden bist, <<#vorlage-bearbeiten, bearbeite>> den Inhalt deiner Vorlage.

[#vorlage-suchen]
=== Vorlage suchen

Um eine bestimmte Vorlage zu suchen, gibst du die dir bekannten Suchbegriffe in die Filter ein. Es ist auch möglich, mehrere Suchbegriffe gleichzeitig in die Suchfelder einzugeben. Dies ermöglicht eine schnellere und genauere Suche.

[.instruction]
Vorlage suchen:

. Öffne das Menü *CRM » EmailBuilder*.
* *_Möglichkeit 1:_* Gib einen Wert im Suchfeld ein und wähle dann den für dich passenden Filter aus der Vorschlagsliste. *_Beispiel:_* Wenn du eine Zahl eingibst, werden dir mögliche Filter mit dieser ID vorgeschlagen wie z.B. die Vorlagen-ID.
* *_Möglichkeit 2:_* Klicke auf material:tune[], um die Suchergebnisse mit Hilfe von Filtern einzugrenzen.
. Beachte die Erläuterungen zu den Filtern in <<#table-search-template>>. +
*_Tipp:_* Gib eine Kombination aus allen oder mehreren Werten und Optionen ein, um die Suche noch genauer einzugrenzen.
. Klicke auf material:search[] *Suchen*. +
→ Die Vorlagen, die den eingestellten Suchkriterien entsprechen, werden in der Übersicht angezeigt.

[[table-search-template]]
.Verfügbare Filter für die Vorlagensuche
[cols="1,3"]
|====
|Filter |Erläuterung

| *ID*
|Gib eine ID ein, um nach der Vorlage mit genau dieser ID zu suchen.

| *Sprache*
|Wähle (material:check_box[role=skyBlue]) eine Sprache aus der Dropdown-Liste, um nur nach Vorlagen, die in dieser Sprache erstellt wurden, zu suchen. Du kannst nach einer Sprache oder mehreren Sprachen gleichzeitig filtern.

| *Name*
|Gib einen Namen ein, um nach Vorlagen mit diesem Namen zu suchen. +
*_Hinweis:_* Wenn du in der Vergangenheit bereits "alte" Vorlagen im Menü *Einrichtung » Mandant » [Mandant wählen] » E-Mail » Vorlagen* erstellt hast, kannst du dieses Feld verwenden, um hier die alte ID der Vorlage zu suchen. Die alte ID der Vorlage wurde im Zuge der Migration in Klammern hinter den Namen geschrieben.

| *Mandant*
|Wähle (material:check_box[role=skyBlue]) einen Mandant aus der Dropdown-Liste, um nur nach Vorlagen, die für diesen Mandant erstellt wurden, zu suchen.

| *Typ*
|Wähle (material:check_box[role=skyBlue]) einen Typ aus der Dropdown-Liste, um nur nach Vorlagen mit diesem Vorlagentyp zu suchen. Du kannst nach einem Typen oder mehreren Typen gleichzeitig filtern. +
Verfügbare Optionen: *Vorlage*, *Header*, *Footer*.

| *Eigner*
|Wähle (material:check_box[role=skyBlue]) einen Eigner aus der Dropdown-Liste, um nur nach Vorlagen, die für diesen Eigner erstellt wurden, zu suchen.

| material:replay[]
|Setzt die gewählten Filterkriterien zurück.

| material:search[] *SUCHEN*
|Führt die Suche aus. Die gefundenen Vorlagen werden angezeigt. +
*_Tipp:_* Setze keine Filter, wenn du alle Vorlagen sehen möchtest.

|====

[#vorlage-verschieben]
=== Vorlage verschieben

Du kannst deine Vorlagen jederzeit in einen anderen Ordner verschieben. Gehe dazu wie im Folgenden beschrieben vor.

[.instruction]
Vorlage verschieben:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du verschieben möchtest.
. Klicke in der Zeile der Vorlage auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:move_down[] *Verschieben*. +
→ Das Fenster *Verschieben* öffnet sich.
. Wähle den Zielordner.
. Klicke auf *Verschieben*. +
→ Die Vorlage wird in den gewählten Ordner verschoben.

[#vorlage-bearbeiten]
=== Vorlage bearbeiten

Die folgende Handlungsanleitung beschreibt, wie du allgemein Vorlagen bearbeitest. Die Vorgehensweise ist demnach identisch für das Bearbeiten aller Vorlagen, so z.B. auch für das Bearbeiten von deinen Vorlagen, die du für Header und Footer erstellt hast.

[TIP]
.Zwischen mehreren Vorlagen hin- und herwechseln
====
Wenn du später mehrere Vorlagen zur selben Zeit bearbeitest, kannst du über die Navigation auf der linken Seiten zwischen den einzelnen Vorlagen hin- und herwechseln. Die Vorlage, die du gerade geöffnet hast, ist in blauer Schrift hervorgehoben. 

Außerdem wird angezeigt, in welchem Bereich der Vorlage du dich gerade befindest:

* Wenn in der Navigation auf der linken Seite unterhalb der Vorlage der Bereich material:edit[] *Bearbeiten (_Sprache_)* in blauer Schrift hervorgehoben ist, befindest du dich im Editor der Vorlage.

* Wenn material:translate[] *Spracheinstellungen* in blauer Schrift hervorgehoben ist, befindest du dich gerade in den sprachabhängigen Einstellungen der Vorlage.

Wenn du im Editor oder in den Spracheinstellungen einer Vorlage bist und in eine andere Vorlage wechseln möchtest, ohne dass du die Änderungen vorher gespeichert hast, wird ein Hinweis angezeigt.
====

[.instruction]
Vorlage bearbeiten:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du bearbeiten möchtest.
. Klicke auf die Vorlage.
. Nimm die Änderungen vor. Beachte dazu auch die Erläuterungen in <<#table-emailbuilder-create-template>>.
. *Speichere* (material:save[]) die Einstellungen.

Neben den sprachabhängigen Einstellungen, in denen du beispielsweise den <<#betreff-aendern, Betreff ändern>> und statische Anhänge für deine Standardvorlage wählen kannst, kannst du den Inhalt der Standardvorlage selbst mit einem Klick auf material:edit[] anpassen. 

Im Bereich *Einstellungen* der Vorlage wählst du einen Eigner, den Mandanten und den Header und Footer, falls noch nicht geschehen. Dort kannst du auch bis zu 3 dynamische Anhänge wählen und die Felder *Antwort an*, *CC* und *BCC* befüllen.

[#betreff-aendern]
=== Betreff ändern

Sobald die Vorlage erstellt ist, siehst du in der Symbolleiste den vorausgefüllten Betreff. Den Betreff kannst du mit einem Klick auf *Sprachabhängige Einstellungen* (material:translate[]) ganz oben rechts anpassen. Dort wählst du auch bis zu 3 statische Anhänge, die du an deine E-Mail-Vorlage anhängst. Ebenfalls in diesem Bereich kannst du das xref:crm:emailbuilder.adoc#beispiele-benutzerdefiniertes-styling[benutzerdefinierte Styling] der Vorlage wie zum Beispiel die Breite der Vorlage oder die Schriftgröße ändern.

[#sprache-hinzufuegen]
=== Sprache zur Vorlage hinzufügen

Du kannst deiner Vorlage, deinem Header und deinem Footer die folgenden Sprachen hinzufügen:

* Deutsch
* Englisch
* Bulgarisch
* Französisch
* Italienisch
* Spanisch
* Türkisch
* Niederländisch
* Polnisch
* Portugiesisch
* Norwegisch
* Rumänisch
* Dänisch
* Schwedisch
* Tschechisch
* Russisch
* Slowakisch
* Chinesisch
* Vietnamesisch

Angenommen, du hast eine Versandbestätigung in deutscher Sprache verfasst und Widgets und Variablen eingefügt. Nun möchtest du diese Versandbestätigung auch in französischer Sprache für deine französischsprachigen Kund:innen erstellen. Der schnellste Weg ist dann, die Vorlage zu kopieren und anschließend die Übersetzung anzupassen. Wie du dazu vorgehen musst, ist im Kapitel <<#vorlage-kopieren, Vorlage kopieren>> beschrieben.

[IMPORTANT]
.Wichtig: Header und Footer in der jeweiligen Sprache hinzufügen
====
Wenn du eine Vorlage in mehreren Sprachen erstellt hast, denke daran, auch den Header und den Footer in diesen Sprachen zu erstellen und diese mit der Vorlage zu verknüpfen.
====

[#vorlage-kopieren]
=== Vorlage kopieren

Du möchtest eine vorhandene Vorlage kopieren, um Zeit bei dem Erstellen einer neuen Vorlage mit ähnlichen Inhalten zu sparen? Gehe wie im Folgenden beschrieben vor.

[TIP]
Nimm _vor dem Kopieren_ der Vorlage auch die Einstellungen im Bereich <<#intable-general-template-settings, Einstellungen>> vor. Der Vorteil bei dieser Reihenfolge ist, dass du so auch die Einstellungen selbst und nicht nur den Inhalt der Vorlage kopierst und diese nicht erneut für die anderen Vorlagen vornehmen musst.

[.instruction]
Vorlage kopieren:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du kopieren möchtest.
. Klicke in der Zeile der Vorlage, die du kopieren möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:content_copy[] *Kopieren*. +
→ Ein Fenster öffnet sich.
. Wähle die Sprache aus der Liste, in der du die Vorlage kopieren möchtest. +
→ Das Fenster *Betreff eingeben* öffnet sich. +
*_Hinweis:_* Standardmäßig ist hier das Sprachkürzel der gewählten Sprache vorausgewählt.
. Gib den Betreff in der gewählten Sprache ein.
. Klicke auf *Speichern*. +
→ Die Vorlage wird kopiert und öffnet sich in der eben gewählte Sprache.
. <<#vorlage-bearbeiten, Bearbeite>> die kopierte Vorlage nun nach deinen Wünschen und passe die Übersetzung an.

[#vorlage-loeschen]
=== Vorlage löschen

Gehe wie im Folgenden beschrieben vor, um Vorlagen zu löschen. Nur die zusammengesetzte Vorlage wird gelöscht, aber _nicht_ die darin enthaltenen Komponenten wie der Header und der Footer.

[.instruction]
Vorlage löschen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, die du löschen möchtest.
. Klicke in der Zeile der Vorlage, die du löschen möchtest, auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:delete[] *Löschen*. +
→ Ein Fenster mit einer Sicherheitsabfrage öffnet sich.
. Klicke auf *Löschen*. +
→ Die Vorlage wird gelöscht.

[#sprache-entfernen]
=== Sprache aus der Vorlage entfernen

Gehe wie im Folgenden beschrieben vor, um eine bestimmte Sprache aus der Vorlage zu entfernen.

[.instruction]
Sprache aus der Vorlage entfernen:

. Öffne das Menü *CRM » EmailBuilder*.
. Klappe den Ordner auf (material:chevron_right[]), der die Vorlage enthält, aus der du eine Sprache entfernen möchtest.
. Klicke auf die Vorlage.
. Wähle oben in den Tabs der Vorlage die Sprache, die du entfernen möchtest.
. Klicke auf material:more_vert[]. +
→ Ein Fenster öffnet sich.
. Klicke auf material:delete[] *Löschen*. +
→ Ein Fenster mit einer Sicherheitsabfrage öffnet sich.
. Klicke auf *Löschen*. +
→ Die Sprache wird aus der Vorlage entfernt.

[#e-mail-versand-automatisieren]
== E-Mail-Versand automatisieren

Dir stehen in plentymarkets mehrere Möglichkeiten zur Verfügung, den E-Mail-Versand an deine Kund:innen zu automatisieren.

* <<#automatischer-e-mail-versand, Automatischen E-Mail-Versand einrichten>>
* <<#ereignisaktionen-einrichten, Ereignisaktionen einrichten>>
* <<#e-mail-versand-an-mehrere-e-mail-adressen, E-Mail-Versand an mehrere E-Mail-Adressen>>

[#automatischer-e-mail-versand]
=== Automatischen E-Mail-Versand einrichten

Den automatischen Versand richtest du im Assistenten *E-Mail-Konten* ein. Der Assistent steht dir im Menü *Einrichtung » Assistenten » Grundeinrichtung* zur Verfügung. +
Dort verknüpfst du verschiedene Ereignisse mit bereits erstellten <<#vorlage-erstellen, Vorlagen>>. 

Welche Ereignisse verfügbar sind, erfährst du im Kapitel <<#e-mail-automatischer-versand, Automatischen Versand einrichten>>.

[#ereignisaktionen-einrichten]
=== Ereignisaktionen einrichten

Neben dem <<#automatischer-e-mail-versand, Verknüpfen von Ereignissen und Vorlagen>> hast du außerdem die Möglichkeit, Ereignisaktionen im Menü *Einrichtung » Aufträge » Ereignisse* einzurichten. Definiere ein Ereignis, setze einen oder mehrere Filter und lege Aktionen fest, die von deinem plentymarkets System automatisch im Ereignisfall ausgeführt werden.

Richte z.B. ein, dass der E-Mail-Versand eines Gutscheins ausgelöst wird, wenn eine Person eine bestimmte Anzahl an Aufträgen generiert hat oder wenn diese Person einer anderen Kundenklasse zugewiesen wurde. Weitere Informationen findest du auf der Handbuchseite xref:automatisierung:ereignisaktionen.adoc#[Ereignisaktionen].

[#e-mail-versand-an-mehrere-e-mail-adressen]
=== E-Mail-Versand an mehrere E-Mail-Adressen

Im Menü *Einrichtung » Aufträge » Ereignisse* kannst du eine xref:automatisierung:ereignisaktionen.adoc#[Ereignisaktion] einrichten, die bei Eintritt des von dir gewählten Ereignisses in deinem plentyShop eine E-Mail an deine Kund:innen und Mitarbeiter:innen versendet.

Füge in der Ereignisaktion die Aktion *Kunde > E-Mail versenden* hinzu und wähle dann dort die passende Vorlage sowie die Empfänger:innen, um die E-Mail bei Eintritt des gewählten Ereignisses zeitgleich an mehrere Empfänger:innen zu versenden.

Die folgenden Empfänger:innen stehen zur Verfügung:

* Kunde
* Lager
* Rechnungsadresse aus Auftrag
* Lieferadresse aus Auftrag
* Kontakt E-Mail geschäftlich
* Kontakt E-Mail privat
* Kontakt E-Mail PayPal
* verfügbare Eigner

Du kannst entweder die selbe Vorlage an alle Empfänger:innen senden oder jeweils eine separate Vorlage wählen.

[#variablen-emailbuilder]
== Verfügbare Variablen und twig expressions

In einigen der Widgets kannst du Variablen einfügen und dir auf diese Weise die Vorlagen erstellen, die du benötigst. Die Variablen werden dann in der E-Mail an deine Kund:innen durch den korrekten Inhalt ersetzt.

Die Tabellen im Kapitel <<#verfuegbare-variablen, Verfügbare Variablen>> enthalten neben den Variablen auch die dazugehörigen twig expressions. Twig expressions benötigst du für den Betreff deiner E-Mail und für das <<#intable-widget-code, Code-Widget>>, weil du dort keine Variablen verwenden kannst.

[#twig-einleitung]
=== Twig expressions für das Code-Widget und den Betreff

Im Kapitel <<#verfuegbare-variablen, Verfügbare Variablen>> findest du neben den Variablen auch die twig expressions, die du im Code-Widget und im Betreff einer Vorlage verwenden kannst.

[#twig-betreff]
==== Twig expression im Betreff

Wenn du eine twig expression im Betreff der Vorlage verwenden möchtest, muss diese von doppelt geschweiften Klammern umgeben sein.

*_Beispiel:_* Wenn du im Betreff deiner Vorlage den Versanddienstleister anzeigen möchtest, öffnest du den aufklappbaren Bereich *Auftrag / Versand*, suchst nach der Variable *Versanddienstleister* und setzt dann die entsprechende twig expression wie folgt in den <<#betreff-aendern, Betreff>> deiner Vorlage ein:  `&#123;&#8288;&#123;order.formattedShipping.providerName&#125;&#8288;&#125;`.

Code-Beispiele für den Betreff findest du im Kapitel <<#code-beispiele-betreff, Code-Beispiele für den Betreff>>.


[#twig-code-widget]
==== Twig expression im Code-Widget

Wenn du im Code-Widget beispielsweise mit link:https://twig.symfony.com/doc/3.x/tags/if.html[if-Abfragen^] oder link:https://twig.symfony.com/doc/2.x/tags/for.html[for-Schleifen^] arbeitest, benötigst du in der if-Abfrage und in der for-Schleife selbst keine doppelt geschweiften Klammern zusätzlich, sondern nur im Fließtext. Allgemeine Informationen zu Twig findest du in der link:https://twig.symfony.com/doc/3.x/[Twig Documentation^].

Im Kapitel <<#code-beispiele-code-widget, Code-Beispiele für das Code-Widget>> findest du einige if-Abfragen und for-Schleifen, die du einfach in dein Code-Widget kopieren kannst.

[#verfuegbare-variablen]
=== Verfügbare Variablen

Die verfügbaren Variablen für den EmailBuilder sind in die folgenden Kategorien bzw. Unterkategorien gruppiert. Klicke auf einen Eintrag in der Liste, um direkt zu dem Bereich zu gelangen, in dem die Variablen sowie die dazugehörigen twig expressions für die jeweilige Kategorie bzw. Unterkategorie aufgelistet sind.

* <<#variablen-auftrag, Auftrag>>

** <<#variablen-auftrag, Auftragsvariablen allgemein>>
** <<#variablen-auftrag-lieferadresse, Lieferadresse>>
** <<#variablen-auftrag-rechnungsadresse, Rechnungsadresse>>
** <<#variablen-auftrag-auftragspositionen, Auftragspositionen (nur für Artikellisten-Widget)>>
** <<#variablen-auftrag-versand, Versand>>
** <<#variablen-auftrag-abonnement, Abonnement>>

* <<#variablen-kontakt-allgemein, Kontakt>>

** <<#variablen-kontakt-allgemein, Kontaktvariablen allgemein>>
** <<#variablen-kontakt-lieferadresse, Lieferadresse>>
** <<#variablen-kontakt-rechnungsadresse, Rechnungsadresse>>
** <<#variablen-kontakt-optionen, Optionen>>

* <<#variablen-global, Global>>

* <<#variablen-newsletter, Newsletter>>

* <<#variablen-ticket, Ticket>>

* <<#variablen-messenger, Messenger>>

[#variablen-auftrag]
==== Variablen: Auftrag allgemein

[[table-variables-order-order]]
.Variablen in der Kategorie *Auftrag*
[cols="2,4,3,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[Die Informationen in dieser Spalte sind für dich nur relevant, wenn du bereits E-Mail-Vorlagen im Menü *Einrichtung » Mandant » Mandant wählen » E-Mail » Vorlagen* erstellt hast und wissen möchtest, wie die alte Variable hieß. Hinweis: Diese Spalte ist noch nicht vollständig befüllt. Inhalte werden weiterhin ergänzt.]

| `Auftrag im Webshop aufrufen`
|Öffnet die URL des Auftrags in deinem Webshop.
| `order.access_key`
|$OrderAccessKey

| `Barcode-ID`
|
| `order.formattedGeneral.barcodeOrderID`
| $BarcodeOrderID

| `Plenty ID`
|Die ID wird vom System vergeben und kann nicht geändert werden. Du findest die ID im Menü *Einrichtung » Mandant » [Mandant wählen] » Einstellungen*.
| `order.plentyId`
|

| `Gutscheinwert`
|Wert des xref:auftraege:gutscheine.adoc#[Gutscheins].
| `order.formattedGeneral.couponValue`
| $CouponValue

| `Währungscode`
|Währungscode, z.B. *EUR* oder *USD*.
| `order.formattedSubtotals.currencyCode`
| $Currency


| `Währungszeichen`
|Währungssymbol, z.B. *€* oder *$*.
| `order.formattedSubtotals.currencySymbol`
| $Currency

| `Kundenzeichen`
|
| `order.formattedProperties.customerSign`
| $CustomerSign

| `Kundenwunsch`
|Kund:innen können bei der Bestellung über den Webshop einen Wunsch angeben. Dieser Wunsch wird als Auftragsnotiz in den Auftragsdaten gespeichert.
| `order.formattedComments.customerSpecialWishes`
| $CustomerSpecialWishes

| `DHL Retoure Online QR-Code`
|Sendet deinen Kund:innen einen QR-Code für xref:fulfillment:plugin-dhl-retoure-online.adoc#[DHL Retoure Online]. Wenn deine Kund:innen einen Artikel zurücksenden möchten, müssen sie dem Personal in der Postfiliale den QR-Code auf ihrem Smartphone vorzeigen. Das Personal druckt dann das Retourenlabel und bringt es auf dem Paket an. Deine Kund:innen benötigen also keinen Drucker mehr und du musst das Retourenlabel nicht als PDF-Anhang in der E-Mail versenden. +
Der QR-Code wird in der E-Mail an deine Kund:innen als URL ausgegeben. Nach einem Klick auf die URL erscheint dann in einem separaten Fenster der QR-Code.
| `order.formattedGeneral.DHLRetoureOnlineQRCodeURL`
| $DHLRetoureOnlineQRCodeURL

| `Datum und Uhrzeit des Auftragseingangs`
|Datum und Uhrzeit des Auftragseingangs wie im Auftrag gespeichert.
| `order.formattedDates.createdOn ? (order.formattedDates.createdOn \| date('m-d-Y H:i:s')) : ''`
|

| `Datum des Auftragseingangs`
|Datum des Auftragseingangs wie im Auftrag gespeichert.
| `order.formattedDates.createdOn ? (order.formattedDates.createdOn \| date('m-d-Y')) : ''`
| $OrderDate

| `Datum des Zahlungseingangs`
|Datum und Uhrzeit des Zahlungseingangs wie im Auftrag gespeichert.
| `order.formattedDates.paidOn`
| $PaymentDate

| `Lieferadresse USt-IdNr.`
|Umsatzsteuer-Identifikationsnummer aus der Lieferadresse, wie im Auftrag gespeichert.
| `order.formattedAddresses.deliveryAddress.formattedOptions.VATNumber`
| $OrderDeliveryAddressTaxId

| `Externe Auftrags-ID`
|
| `order.formattedProperties.externalOrderId`
| $ExternalOrderID

| `Markierung`
|Markierung, die im Auftrag gewählt wurde.
| `order.formattedProperties.flag`
| $OrderFlag

| `Rechnungsadresse USt-IdNr.`
|Umsatzsteuer-Identifikationsnummer aus der Rechnungsadresse, wie im Auftrag gespeichert.
| `order.formattedAddresses.invoiceAddress.formattedOptions.VATNumber`
| $OrderBillingAddressTaxId

| `Rechnungsdatum`
|
| `order.formattedDocuments.invoiceDate`
| -

| `Rechnungsnummer-ID`
|
| `order.formattedDocuments.invoice`
| -

| `Gesamtrechnungsbetrag netto`
|
| `order.formattedGeneral.invoiceTotalNet`
| $InvoiceTotalNet

| `Gesamtbetrag des Auftrags netto`
|
| `order.formattedGeneral.totalNet`
| $OrderTotalNet

| `Anzahl der Pakete`
|Gibt die Anzahl der im Auftrag enthaltenen Pakete aus.
| `order.package`
| 

| `Offener Betrag`
|
| `order.formattedGeneral.openAmount`
| $OpenAmount

| `Auftrags-ID`
|
| `order.id`
| $OrderID

| `Auftragstyp-ID`
|ID des Auftragstyps, z.B. `1` für Auftrag, `4` für Gutschrift und `6` für Reparaturauftrag. +
*_Hinweis:_* Die komplette Liste der Auftragstypen und deren IDs findest du auf dieser xref:daten:interne-IDs.adoc#80[Handbuchseite].
| `order.typeId`
| -

| `Name des Auftragstyps`
|Name des Auftragstyps, z.B. `Auftrag`, `Gutschrift` und `Reparaturauftrag`. +
*_Hinweis:_* Die komplette Liste der Auftragstypen und deren IDs findest du auf dieser xref:daten:interne-IDs.adoc#80[Handbuchseite].
| `order.formattedGeneral.orderTypeName`
| $OrderType

| `Auftrag Lager-ID`
|
| `order.formattedProperties.warehouse`
| $WarehouseID

| `ID des Hauptauftrags`
|ID des obersten Vorgängerauftrags. Dies ist in der Regel ein normaler Auftrag. +
*_Beispiel:_* Bei einer Gutschrift G1 aus einer Retoure R1 aus einem Auftrag A1 gibt die Variable `ID des Elternauftrags` die ID von R1 und `ID des Hauptauftrags` die ID von A1 aus.
| `order.formattedOriginOrder.originOrderId`
| $OriginOrderID

| `Überbezahlter Betrag`
|
| `order.formattedGeneral.overpaidAmount`
| $OverpaidAmount

| `Bezahlter Betrag`
|
| `order.formattedGeneral.paidAmount`
| $PaidAmount

| `ID des Elternauftrags`
|ID des direkten Vorgängerauftrags +
*_Beispiel:_* Bei einer Gutschrift kann es die ID der Retoure oder des Auftrags sein, aus dem die Gutschrift erzeugt wurde.
| `order.parent_order_id`
| $ParentOrderID

| `Zahlungsart`
|Name der xref:payment:zahlungsarten-verwalten.adoc#65[Zahlungsart] wie im Menü *Einrichtung » Aufträge » Zahlung » Zahlungsarten* gespeichert.
| `order.formattedGeneral.methodOfPaymentName`
| $MethodOfPaymentName

| `Zahlungsart-ID`
|Die ID wird vom System vergeben. Die IDs der xref:payment:zahlungsarten-verwalten.adoc#65[Zahlungsarten] sind im Menü *Einrichtung » Aufträge » Zahlung » Zahlungsarten* aufgeführt.
| `order.formattedProperties.paymentMethod`
| $MethodOfPaymentID

| `Herkunft`
|Name der xref:auftraege:auftragsherkunft.adoc#[Auftragsherkunft] wie im Menü *Einrichtung » Aufträge » Auftragsherkunft* gespeichert.
| `order.formattedReferrer.name`
| $ReferrerName

| `Herkunfts-ID`
|ID der xref:auftraege:auftragsherkunft.adoc#[Auftragsherkunft] wie im Menü *Einrichtung » Aufträge » Auftragsherkunft* gespeichert.
| `order.formattedReferrer.id`
| $ReferrerID

| `Nachbestellungs-ID`
|ID der xref:warenwirtschaft:nachbestellungen-verwalten.adoc#[Nachbestellung].
| `order.formattedReorder.id`
| $ReorderID

| `Verkäuferkonto`
|
| `order.formattedProperties.sellerAccount`
|

| `Status-ID`
|ID des xref:auftraege:auftraege-verwalten.adoc#1200[Auftragsstatus] wie im Menü *Einrichtung » Aufträge » Status* gespeichert.
| `order.statusId`
| $OrderStatusID

| `Status`
|Name des Auftragsstatus wie im Menü *Einrichtung » Aufträge » Status* gespeichert.
| `order.statusName`
| $OrderStatusLabel

| `Gesamtrechnungsbetrag`
|*_Beispiel:_* 1.234,00
| `order.formattedGeneral.invoiceTotal \| number_format(2, ',', '.')`
| $InvoiceTotal

| `Gesamtrechnungsbetrag, durch Punkt getrennt`
|*_Beispiel:_* 1234.00
| `order.formattedGeneral.invoiceTotal \| number_format(2, '.', '')`
| $InvoiceTotalDecimalSeparatorDot

| `Gesamtbetrag der Mehrwertsteuer`
|
| `order.formattedGeneral.totalVat`
| $TotalVAT

| `Wert des Artikels`
|
| `order.formattedGeneral.valueOfItems`
| $ValueOfItems

| `eBay-Zahlungs-ID`
|
| `order.formattedProperties.ebayUniquePaymentID`
| $EbayUniquePaymentID

|====

[#variablen-auftrag-lieferadresse]
==== Variablen: Auftrag / Lieferadresse

[[table-variables-order-delivery-address]]
.Variablen in der Unterkategorie *Auftrag / Lieferadresse*
[cols="1,3,2"]
|====
|Name der Variable |Twig expression |Name der alten Variablefootnote:1[]

| `Lieferadresse Adresszusatz`
| `order.formattedAddresses.deliveryAddress.address3`
| $DeliveryAddressAdditionalAddress

| `Lieferadresse Firmenname`
| `order.formattedAddresses.deliveryAddress.name1`
| $DeliveryAddressCompany

| `Lieferadresse Kontaktperson`
| `order.formattedAddresses.deliveryAddress.formattedOptions.contactPerson`
| $DeliveryAddressContactPerson

| `Lieferadresse Land`
| `order.formattedAddresses.deliveryAddress.country.name`
| $CustomerCountry

| `Lieferadresse Länder-ID`
| `order.formattedAddresses.deliveryAddress.country.id`
| $CustomerCountryID

| `Lieferadresse Länder-ISO-Code 2`
| `order.formattedAddresses.deliveryAddress.country.isoCode2`
| $CustomerCountryIsoCode

| `Lieferadresse Länder-ISO-Code 3`
| `order.formattedAddresses.deliveryAddress.country.isoCode3`
| $CustomerCountryIsoCode

| `Lieferadresse Vorname`
| `order.formattedAddresses.deliveryAddress.name2`
| $DeliveryAddressFirstName

| `Lieferadresse Vorname und Nachname`
| `order.formattedAddresses.deliveryAddress.name2 ~ ' ' ~ order.formattedAddresses.deliveryAddress.name3`
| $DeliveryAddressFullName

| `Lieferadresse Hausnummer`
| `order.formattedAddresses.deliveryAddress.address2`
|

| `Lieferadresse Nachname`
| `order.formattedAddresses.deliveryAddress.name3`
| $DeliveryAddressLastName

| `Lieferadresse Telefon`
| `order.formattedAddresses.deliveryAddress.formattedOptions.telephone`
|

| `Lieferadresse Postleitzahl`
| `order.formattedAddresses.deliveryAddress.postalCode`
| $DeliveryAddressZip

| `Lieferadresse Postleitzahl und Ort`
| `order.formattedAddresses.deliveryAddress.postalCode ~ ' ' ~ order.formattedAddresses.deliveryAddress.town`
|

| `Lieferadresse Bundesland`
| `order.formattedAddresses.deliveryAddress.state.name`
| $DeliveryAddressState

| `Lieferadresse Straße`
| `order.formattedAddresses.deliveryAddress.address1`
| $DeliveryAddressStreet

| `Lieferadresse Ort`
| `order.formattedAddresses.deliveryAddress.town`
| $DeliveryAddressCity

|====

[#variablen-auftrag-rechnungsadresse]
==== Variablen: Auftrag / Rechnungsadresse

[[table-variables-order-invoice-address]]
.Variablen in der Unterkategorie *Auftrag / Rechnungsadresse*
[cols="1,3,2"]
|====
|Name der Variable |Twig expression |Name der alten Variablefootnote:1[]

| `Rechnungsadresse Adresszusatz`
| `order.formattedAddresses.invoiceAddress.address3`
| $BillingAddressAdditionalAddress

| `Rechnungsadresse Firmenname`
| `order.formattedAddresses.invoiceAddress.name1`
| $BillingAddressCompany

| `Rechnungsadresse Kontaktperson`
| `order.formattedAddresses.invoiceAddress.formattedOptions.contactPerson`
| $BillingAddressContactPerson

| `Rechnungsadresse Land`
| `order.formattedAddresses.invoiceAddress.country.name`
|

| `Rechnungsadresse Länder-ID`
| `order.formattedAddresses.invoiceAddress.country.id`
|

| `Rechnungsadresse Länder-ISO-Code 2`
| `order.formattedAddresses.invoiceAddress.country.isoCode2`
| $CustomerCountryIsoCode

| `Rechnungsadresse Länder-ISO-Code 3`
| `order.formattedAddresses.invoiceAddress.country.isoCode3`
| $CustomerCountryIsoCode

| `Rechnungsadresse Vorname`
| `order.formattedAddresses.invoiceAddress.name2`
| $BillingAddressFirstName

| `Rechnungsadresse Vorname und Nachname`
| `order.formattedAddresses.invoiceAddress.name2 ~ ' ' ~ order.formattedAddresses.invoiceAddress.name3`
| $BillingAddressFullName

| `Rechnungsadresse Hausnummer`
| `order.formattedAddresses.invoiceAddress.address2`
|

| `Rechnungsadresse Nachname`
| `order.formattedAddresses.invoiceAddress.name3`
| $BillingAddressLastName

| `Rechnungsadresse Telefon`
| `order.formattedAddresses.invoiceAddress.formattedOptions.telephone`
|

| `Rechnungsadresse Postleitzahl`
| `order.formattedAddresses.invoiceAddress.postalCode`
|

| `Rechnungsadresse Postleitzahl und Ort`
| `order.formattedAddresses.invoiceAddress.postalCode ~ ' ' ~ order.formattedAddresses.invoiceAddress.town`
|

| `Rechnungsadresse Bundesland`
| `order.formattedAddresses.invoiceAddress.state.name`
| $CustomerState

| `Rechnungsadresse Straße`
| `order.formattedAddresses.invoiceAddress.address1`
|

| `Rechnungsadresse Ort`
| `order.formattedAddresses.invoiceAddress.town`
|

|====


[#variablen-auftrag-auftragspositionen]
==== Variablen: Auftrag / Auftragspositionen (nur für Artikellisten-Widget)

[[table-variables-order-order-items]]
.Variablen in der Unterkategorie *Auftrag / Auftragspositionen (nur für Artikellisten-Widget)*
[cols="2,4,3,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `ASIN`
|Amazon Standard Ident Number (ASIN) des Artikels
| `orderItem.formattedBarcodes.ASIN`
| $ItemASIN

| `Attributwerte`
| xref:artikel:attribute.adoc#[Attributwerte] wie im Menü *Einrichtung » Artikel » Attribute* gespeichert.
| `orderItem.attributeValues`
| $VariantName

| `Verfügbarkeits-ID`
|ID der xref:artikel:verfuegbarkeit.adoc#[Artikelverfügbarkeit] des Netttowarenbestands wie im Menü *Einrichtung » Artikel » Verfügbarkeit* gespeichert. Die ID wird automatisch vergeben und kann nicht geändert werden.
| `orderItem.formattedAvailability.availabilityId`
| $ItemAvailabilityID

| `Verfügbarkeits-ID physischer Warenbestand`
|ID der Artikelverfügbarkeit des physischen Warenbestands
| `orderItem.formattedAvailability.availabilityPhysicalStockId`
| $ItemAvailabilityPhysicalStockID

| `Verfügbarkeitstext`
|Name der Artikelverfügbarkeit des Nettowarenbestands
| `orderItem.formattedAvailability.availabilityName`
| $ItemAvailabilityLabel

| `Verfügbarkeitstext physischer Warenbestand`
|Name der Artikelverfügbarkeit des physischen Warenbestands
| `orderItem.formattedAvailability.availabilityPhysicalStockName`
| $ItemAvailabilityPhysicalStockLabel

| `Codes eines Gutscheins`
|
| `orderItem.formattedVoucherCodes`
| $VoucherCodes

| `Inhalt`
|
| `orderItem.formattedUnit.unitContent`
| $UnitString

| `Rabatt pro Auftragsposition`
|
| `orderItem.formattedAmounts.discount`
| $RebateAmount

| `Externe Artikel-ID`
|
| `orderItem.variation.item.external_article_id`
| $ExternalItemID

| `Externe Token-ID`
|
| `orderItem.formattedExternalTokenId`
| $TransactionID

| `Externe Varianten-ID`
|
| `orderItem.variation.externalId`
| $ExternalVariationID

| `Freitextfeld 1`
| xref:artikel:felder.adoc#[Freitextfelder] für die Artikel wie im Menü *Einrichtung » Artikel » Freitextfelder* gespeichert. +
*_Beispiel:_* `Freitextfeld 3` gibt den Text aus, der in *Feld 3* gespeichert ist.
| `orderItem.variation.item.free1`
| $Free

| `Freitextfeld 2`
|
| `orderItem.variation.item.free2`
| $Free

| `Freitextfeld 3`
|
| `orderItem.variation.item.free3`
| $Free

| `Freitextfeld 4`
|
| `orderItem.variation.item.free4`
| $Free

| `Freitextfeld 5`
|
| `orderItem.variation.item.free5`
| $Free

| `Freitextfeld 6`
|
| `orderItem.variation.item.free6`
| $Free

| `Freitextfeld 7`
|
| `orderItem.variation.item.free7`
| $Free

| `Freitextfeld 8`
|
| `orderItem.variation.item.free8`
| $Free

| `Freitextfeld 9`
|
| `orderItem.variation.item.free9`
| $Free

| `Freitextfeld 10`
|
| `orderItem.variation.item.free10`
| $Free

| `Freitextfeld 11`
|
| `orderItem.variation.item.free11`
| $Free

| `Freitextfeld 12`
|
| `orderItem.variation.item.free12`
| $Free

| `Freitextfeld 13`
|
| `orderItem.variation.item.free13`
| $Free

| `Freitextfeld 14`
|
| `orderItem.variation.item.free14`
| $Free

| `Freitextfeld 15`
|
| `orderItem.variation.item.free15`
| $Free

| `Freitextfeld 16`
|
| `orderItem.variation.item.free16`
| $Free

| `Freitextfeld 17`
|
| `orderItem.variation.item.free17`
| $Free

| `Freitextfeld 18`
|
| `orderItem.variation.item.free18`
| $Free

| `Freitextfeld 19`
|
| `orderItem.variation.item.free19`
| $Free

| `Freitextfeld 20`
|
| `orderItem.variation.item.free20`
| $Free

| `GTIN`
|Global Trade Item Number (GTIN) des Artikels
| `orderItem.formattedBarcodes.GTIN`
| $ItemEAN

| `ISBN`
|ISBN-Code des Artikels
| `orderItem.formattedBarcodes.ISBN`
| $ItemISBN

| `Artikel-ID`
|ID des xref:artikel:artikelsuche.adoc#580[Artikels]. Die ID wird automatisch vergeben und kann nicht geändert werden.
| `orderItem.variation.itemId`
| $ItemID

| `URL zum Artikel`
|Gibt die URL zum Artikel im Webshop aus.
| `orderItem.formattedLink`
| $ItemImageURL

| `Artikelname`
|Name des des xref:artikel:artikelsuche.adoc#580[Artikels].
| `orderItem.orderItemName`
| $ItemName

| `Artikelnummer`
|
| `orderItem.variation.item.ArtNo`
| $ItemNumber

| `Wert der Bestelleigenschaft`
|
| `orderItem.formattedOrderProperty.value`
| $OrderItemOrderPropertyValue

| `Bruttopreis`
|Bruttopreis des Artikels.
| `orderItem.formattedAmounts.grossPrice`
| $ItemPrice

| `Artikeleigenschaften`
|
| `orderItem.formattedProperties.all`
| $OrderProperties

| `Artikelmenge`
|
| `orderItem.quantity`
| $ItemQuantity

| `Artikeltyp`
|Gibt den Artikeltypen aus, der im Artikel im Tab *Global* gespeichert ist. Mögliche Werte: Standard, Set, Multipack.
| `orderItem.formattedStockType`
|

| `Herstellername`
|Name des xref:artikel:hersteller.adoc#[Herstellers.]
| `orderItem.variation.item.producer`
| $ItemProducerName

| `Modell`
|Modellbezeichnung des Artikels
| `orderItem.variation.model`
| $ItemModel

| `Nettopreis`
|Nettopreis des Artikels.
| `orderItem.formattedAmounts.netPrice`
| $ItemPriceNet

| `Herkunft`
|
| `orderItem.formattedReferrer.referrerName`
| $ItemReferrer

| `Erscheinungsdatum`
|
| `orderItem.variation.releasedAt`
| -

| `Retourenkommentar`
|
| `orderItem.formattedReturn.comment`
| $ReturnItemComment

| `Status-ID des retournierten Artikels`
|
| `orderItem.formattedReturn.statusId`
| $ReturnItemStatusID

| `Name des retournierten Artikels`
|
| `orderItem.formattedReturn.statusLabel`
| $ReturnItemStatusLabel

| `ID des Retourengrunds`
|ID des xref:auftraege:auftraege-verwalten.adoc#410[Retourengrunds] wie im Menü *Einrichtung » Aufträge » Auftragstypen » Retoure* gespeichert.
| `orderItem.formattedReturn.reasonId`
| $ReturnReasonID

| `Retourengrund`
|Name des xref:auftraege:auftraege-verwalten.adoc#410[Retourengrunds] wie im Menü *Einrichtung » Aufträge » Auftragstypen » Retoure* gespeichert.
| `orderItem.formattedReturn.reasonLabel`
| $ReturnReasonLabel

| `Wert der Retoure in Prozent`
|
| `orderItem.formattedReturn.percentage`
| $ReturnItemValuePercentage

| `Zolltarifnummer`
|
| `orderItem.variation.customsTariffNumber`
|

| `Gesamtpreis (Einzelpreis x Menge)`
|
| `orderItem.formattedAmounts.totalPrice`
| -

| `URL zum Variantenbild`
|Gibt die URL zum Variantenbild aus.
| `orderItem.formattedImageUrl`
| -

| `Einheit`
|
| `orderItem.formattedUnit.unitName`
| -

| `Grundpreis`
|
| `orderItem.formattedUnit.unitPrice`
|-

| `Mehrwertsteuersatz`
|
| `orderItem.vatRate`
| $ItemVatRate

| `Varianten-ID`
|
| `orderItem.variation.id`
| $VariationId

| `Variantenname`
|
| `orderItem.variation.name`
| $VariationName

| `Variantennummer`
|
| `orderItem.variation.number`
| $VariationNumber

| `Lager-ID`
|ID des xref:warenwirtschaft:lager-einrichten.adoc#[Lagers] wie im Menü *Einrichtung » Waren » Lager* gespeichert.
| `orderItem.warehouseId`
| $ItemWarehouseID

|====


[#variablen-auftrag-versand]
==== Variablen: Auftrag / Versand

[[table-variables-order-shipping]]
.Variablen in der Unterkategorie *Auftrag / Versand*
[cols="2,4,3,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `Lieferschein-ID`
|ID des xref:auftraege:lieferscheine-erzeugen.adoc#[Lieferscheins].
| `order.formattedDocuments.deliveryNote`
| -

| `Voraussichtliches Lieferdatum`
|
| `order.formattedDates.estimatedDeliveryDate`
| $OrderEstimatedDeliveryDate

| `Voraussichtliches Versanddatum`
|
| `order.formattedDates.estimatedShippingDate`
| $OrderEstimatedShipmentDate

| `Paketnummernliste`
|Paketnummern bzw. Tracking-Nummern werden nach erfolgreicher Auftragsanmeldung beim Versanddienstleister im Auftrag im Tab *Einstellungen* gespeichert.
| `order.formattedShipping.packageNumberList`
|$PackageCount

| `Paketgewicht`
|Paketgewicht und Einheit wie im Menü *Aufträge » Versand-Center* im Bereich *Versandpakete* gespeichert.
| `order.formattedShipping.packageWeight`
| -

| `Mögliches Lieferdatum`
|
| `order.formattedDates.earliestDeliveryDate`
| $OrderEarliestDeliveryDate

| `Nachbestellung Lieferdatum`
|
| `order.formattedReorder.estimatedDeliveryDate`
| $ReorderDeliveryDate

| `Datum des Retoureneingangs`
|
| `order.formattedDates.returnDate`
| $OrderReturnDate

| `Retourenpaketnummer`
|
| `order.returns_code`
| $ReturnsCode

| `Versandkosten gesamt`
|
| `order.formattedGeneral.shippingCosts`
| $ShippingCosts

| `Versandprofil`
| Name des xref:fulfillment:versand-vorbereiten.adoc#1000[Versandprofils] wie im Menü *Einrichtung » Aufträge » Versand » Optionen* im Tab *Versandprofile* gespeichert.
| `order.formattedShipping.profileName`
| $ShippingProfileName

| `Versandprofil-ID`
|Wird automatisch vom System vergeben. Die ID des xref:fulfillment:versand-vorbereiten.adoc#1000[Versandprofils] findest du im Menü *Einrichtung » Aufträge » Versand » Optionen* im Tab *Versandprofile*.
| `order.formattedShipping.profileId`
| $ShippingProfileID

| `Versanddienstleister`
|Name des xref:fulfillment:versand-vorbereiten.adoc#800[Versanddienstleisters] wie im Menü *Einrichtung » Aufträge » Versand » Optionen* im Tab *Versanddienstleister* gespeichert.
| `order.formattedShipping.providerName`
| $ShippingServiceProviderName

| `Versanddienstleister-ID`
|Wird automatisch vom System vergeben. Die ID des xref:fulfillment:versand-vorbereiten.adoc#800[Versanddienstleisters] findest du im Menü *Einrichtung » Aufträge » Versand » Optionen* im Tab *Versanddienstleister*.
| `order.formattedShipping.providerId`
| $ShippingServiceProviderID

| `Tracking-URL`
|Dient zur Sendungsverfolgung. Die xref:fulfillment:versand-vorbereiten.adoc#840[Tracking-URL] des Versanddienstleisters wird im Menü *Einrichtung » Aufträge » Versand » Optionen* im Tab *Versanddienstleister* gespeichert. +
*_Hinweis:_* Schau auch in unser xref:crm:praxisbeispiel-tracking-url-senden.adoc#[Praxisbeispiel zu diesem Thema]. Dort wird beschrieben, welche Einstellungen du vornehmen musst, um die Tracking-URL an deine Kund:innen zu senden.
| `order.formattedShipping.trackingURL`
| $TrackingURL

|====

[#variablen-auftrag-abonnement]
==== Variablen: Auftrag / Abonnement

[[table-variables-order-subscription]]
.Variablen in der Unterkategorie *Auftrag / Abonnement*
[cols="2,4,3,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `Enddatum des Abonnements`
|Ende des Abonnements.
| `order.formattedSubscription.endDate`
| $SchedulerEndDate

| `Abonnement-ID`
|ID des Abonnements. Wird automatisch vom System vergeben und kann _nicht_ geändert werden.
| `order.formattedSubscription.id`
| $SchedulerID

| `Abonnementintervall`
|Intervall des Abonnements wie im Menü *Einrichtung » Aufträge » Abonnement* festgelegt. Das Intervall legt fest, in welchen Zeitabständen Artikel an Kund:innen versendet werden. + 
Mögliche Werte: *1 Monat*, *3 Monate*, *6 Monate*, *12 Monate*.
| `order.formattedSubscription.interval`
| $SchedulerInterval

| `Abonnement: Anzahl der Ausführungen`
|Anzahl der Aufträge, die basierend auf einem Abonnement, angelegt wurde. +
*_Beispiel:_* Wenn das Abonnement im Mai 2021 mit einem Intervall von 3 Monaten gestartet hat, wurden bis Mai 2022 4 Aufträge angelegt. In diesem Fall würde für diese Variable der Wert `4` in der E-Mail-Vorlage ausgegeben werden.
| `order.formattedSubscription.numberOfExecutions`
| $SchedulerExecutionCount

| `Startdatum des Abonnements`
|Beginn des Abonnements.
| `order.formattedSubscription.startDate`
| $SchedulerStartDate

| `Gesamtbetrag des Abonnements`
|
| `order.formattedSubscription.totalAmount \| number_format(2, '.', ',')`
| $SchedulerTotalAmount

|====

[#variablen-kontakt-allgemein]
==== Variablen: Kontakt allgemein

[[table-variables-order-contact]]
.Variablen in der Kategorie *Kontakt*
[cols="2,4,3,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `Kontoinhaber (Kontakt)`
| xref:crm:kontakt-bearbeiten.adoc#bankdaten[Kontoinhaber:in] wie im Kontaktdatensatz gespeichert.
| `contact.formattedBanks.accountOwner`
|

| `BIC des Kontakts`
| xref:crm:kontakt-bearbeiten.adoc#bankdaten[BIC] wie im Kontaktdatensatz gespeichert.
| `contact.formattedBanks.bic`
| $CustomerBIC

| `Bankname des Kontakts`
| xref:crm:kontakt-bearbeiten.adoc#bankdaten[Bankname] wie im Kontaktdatensatz gespeichert.
| `contact.formattedBanks.bankName`
| $CustomerBankName

| `Klasse`
| Kundenklasse, der der Kontakt zugeordnet ist. xref:crm:vorbereitende-einstellungen.adoc#kundenklasse-erstellen[Klassen] erstellst du im Menü *Einrichtung » CRM » Kundenklassen*.
| `contact.formattedClass.name`
| $CustomerClass

| `Firmenname`
|Name der xref:crm:kontakt-bearbeiten.adoc#firma[Firma].
| `contact.formattedAccounts.companyName`
| $CustomerCompany

| `Kontakt-ID`
|ID des xref:crm:kontakt-bearbeiten.adoc#[Kontakts]. Die ID wird automatisch vergeben und kann nicht geändert werden.
| `contact.id`
| $CustomerID

| `Vorname`
|
| `contact.firstName`
| $CustomerFirstName

| `Vorname und Nachname des Systembenutzers`
|Vorname und Nachname des Systembenutzers, der als xref:crm:kontakt-bearbeiten.adoc#kontaktdetails[Eigner] am Kontaktdatensatz gespeichert ist.
| `contact.formattedUser.realName`
|

| `Vollständiger Name`
|
| `contact.fullName`
| $CustomerFullName

| `Geschlecht`
|Anzeige, wenn männlich: *male* +
Anzeige, wenn weiblich: *female* +
Anzeige, wenn divers: leere Option
| `contact.gender is same as ('diverse') ? '' : contact.gender`
|

| `IBAN des Kontakts`
|IBAN wie im Kontaktdatensatz gespeichert.
| `contact.formattedBanks.iban`
| $CustomerIBAN

| `Sprache`
|Sprache wie im Kontaktdatensatz gespeichert. Wenn du eine E-Mail-Vorlage in der gewählten Sprache erstellt hast, werden E-Mail-Vorlagen in dieser Sprache an den Kontakt versendet.
| `contact.lang`
| $CustomerLang

| `Nachname`
|
| `contact.lastName`
| $CustomerLastName

| `Newsletter-Empfang: Zustimmung durch Kontakt`
|Datum, wann der Kontakt dem Newsletter-Empfang zugestimmt hat. +
Datumsformat in der E-Mail: `mm-tt-jjjj`. +
Im Kontaktdatensatz wird zusätzlich zum Datum im Format `tt-mm-jjjj` der Zeitstempel im Format `00:00:00` gespeichert.
| `contact.newsletterAllowanceAt`
| $IsNewsletterActive

| `Nummer`
|Zusätzliche Nummer für den Kontakt
| `contact.number`
| $CustomerNumber

| `Anzahl der Aufträge`
|
| `contact.formattedOrdersCount`
| $OrderCount

| `Anrede geschäftlich`
|
| `contact.formattedOptions.salutationWork`
| $CustomerSalutationLabel

| `Anrede`
|
| `contact.formattedSalutation.label`
| $CustomerSalutationKey

| `Anrede privat`
|
| `contact.formattedOptions.salutationPrivate`
| $CustomerSalutationLabel

| `Signatur des Systembenutzers`
|Signatur des Systembenutzers, der als xref:crm:kontakt-bearbeiten.adoc#kontaktdetails[Eigner] am Kontaktdatensatz gespeichert ist, im Textformat.
| `contact.formattedUser.signatureNoHtml`
| $ContactOwnerSignature

| `Signatur des Systembenutzers im HTML-Format`
|Signatur des Systembenutzers, der als xref:crm:kontakt-bearbeiten.adoc#kontaktdetails[Eigner] im Kontaktdatensatz gespeichert ist, im HTML-Format.
| `contact.formattedUser.signatureHtml`
| $ContactOwnerSignatureHtml

| `Titel`
|
| `contact.title`
| $CustomerTitle

|====

[#variablen-kontakt-lieferadresse]
==== Variablen: Kontakt / Lieferadresse

[TIP]
*_Hinweis:_* Wenn es sich um eine Nachbestellung handelt, werden einige der folgenden Variablen für die Adressoptionen der Lieferadresse nicht in der E-Mail an deine Kund:innen ausgegeben. Das liegt daran, dass die Adressen, die an einem Lieferanten gespeichert werden, nicht berücksichtigt werden, weil du einen Lieferanten auch ohne Adresse in deinem System speichern kannst.

[[table-variables-order-contact-delivery-address]]
.Variablen in der Unterkategorie *Kontakt / Lieferadresse*
[cols="1,3,2"]
|====
|Name der Variable |Twig expression |Name der alten Variablefootnote:1[]

| `Lieferadresse Adresszusatz`
| `contact.formattedAddresses.deliveryAddress.address3 ~ ' ' ~ contact.formattedAddresses.deliveryAddress.address4`
| $DeliveryAddressAdditionalAddress

| `Lieferadresse Firmenname`
| `contact.formattedAddresses.deliveryAddress.name1`
| $DeliveryAddressCompany

| `Lieferadresse Land`
| `contact.formattedAddresses.deliveryAddress.country.name`
| $DeliveryAddressCountry

| `Lieferadresse Länder-ID`
| `contact.formattedAddresses.deliveryAddress.country.id`
| $DeliveryAddressCountryID

| `Lieferadresse Länder-ISO-Code 2`
| `contact.formattedAddresses.deliveryAddress.country.isoCode2`
| $DeliveryAddressCountryIsoCode

| `Lieferadresse Länder-ISO-Code 3`
| `contact.formattedAddresses.deliveryAddress.country.isoCode3`
| $DeliveryAddressCountryIsoCode

| `Lieferadresse Vorname`
| `contact.formattedAddresses.deliveryAddress.name2`
| $DeliveryAddressFirstName

| `Lieferadresse Vorname und Nachname`
| `contact.formattedAddresses.deliveryAddress.name2 ~ ' ' ~ contact.formattedAddresses.deliveryAddress.name3`
| $DeliveryAddressFullName

| `Lieferadresse Hausnummer`
| `contact.formattedAddresses.deliveryAddress.address2`
|

| `Lieferadresse Nachname`
| `contact.formattedAddresses.deliveryAddress.name3`
| $DeliveryAddressLastName

| `Lieferadresse Telefon`
| `contact.formattedAddresses.deliveryAddress.formattedOptions.telephone`
| $DeliveryAddressPhone

| `Lieferadresse Postleitzahl`
| `contact.formattedAddresses.deliveryAddress.postalCode`
| $DeliveryAddressZip

| `Lieferadresse Postleitzahl und Ort`
| `contact.formattedAddresses.deliveryAddress.postalCode ~ ' ' ~ contact.formattedAddresses.deliveryAddress.town`
| $DeliveryAddressCityWithZip

| `Lieferadresse Bundesland`
| `contact.formattedAddresses.deliveryAddress.state.name`
| $DeliveryAddressState

| `Lieferadresse Straße`
| `contact.formattedAddresses.deliveryAddress.address1 ~ ' ' ~ contact.formattedAddresses.deliveryAddress.address2`
| $DeliveryAddressStreet

| `Lieferadresse Ort`
| `contact.formattedAddresses.deliveryAddress.town`
| $DeliveryAddressCity

|====

[#variablen-kontakt-rechnungsadresse]
==== Variablen: Kontakt / Rechnungsadresse

[TIP]
*_Hinweis:_* Wenn es sich um eine Nachbestellung handelt, werden einige der folgenden Variablen für die Adressoptionen der Rechnungsadresse nicht in der E-Mail an deine Kund:innen ausgegeben. Das liegt daran, dass die Adressen, die an einem Lieferanten gespeichert werden, nicht berücksichtigt werden, weil du einen Lieferanten auch ohne Adresse in deinem System speichern kannst.

[[table-variables-order-contact-invoice-address]]
.Variablen in der Unterkategorie *Kontakt / Rechnungsadresse*
[cols="1,3,2"]
|====
|Name der Variable |Twig expression |Name der alten Variablefootnote:1[]

| `Rechnungsadresse Adresszusatz`
| `contact.formattedAddresses.invoiceAddress.address3 ~ ' ' ~ contact.formattedAddresses.invoiceAddress.address4`
|

| `Rechnungsadresse Firmenname`
| `contact.formattedAddresses.invoiceAddress.name1`
|

| `Rechnungsadresse Land`
| `contact.formattedAddresses.invoiceAddress.country.name`
|

| `Rechnungsadresse Länder-ID`
| `contact.formattedAddresses.invoiceAddress.country.id`
|

| `Rechnungsadresse Länder-ISO-Code 2`
| `contact.formattedAddresses.invoiceAddress.country.isoCode2`
|

| `Rechnungsadresse Länder-ISO-Code 3`
| `contact.formattedAddresses.invoiceAddress.country.isoCode3`
|

| `Rechnungsadresse Vorname`
| `contact.formattedAddresses.invoiceAddress.name2`
|

| `Rechnungsadresse Vorname und Nachname`
| `contact.formattedAddresses.invoiceAddress.name2 ~ ' ' ~ contact.formattedAddresses.invoiceAddress.name3`
|

| `Rechnungsadresse Hausnummer`
| `contact.formattedAddresses.invoiceAddress.address2`
|

| `Rechnungsadresse Nachname`
| `contact.formattedAddresses.invoiceAddress.name3`
|

| `Rechnungsadresse Telefon`
| `contact.formattedAddresses.invoiceAddress.formattedOptions.telephone`
|

| `Rechnungsadresse Postleitzahl`
| `contact.formattedAddresses.invoiceAddress.postalCode`
|

| `Rechnungsadresse Postleitzahl und Ort`
| `contact.formattedAddresses.invoiceAddress.postalCode ~ ' ' ~ contact.formattedAddresses.invoiceAddress.town`
|

| `Rechnungsadresse Bundesland`
| `contact.formattedAddresses.invoiceAddress.state.name`
|

| `Rechnungsadresse Straße`
| `contact.formattedAddresses.invoiceAddress.address1 ~ ' ' ~ contact.formattedAddresses.invoiceAddress.address2`
|

| `Rechnungsadresse Ort`
| `contact.formattedAddresses.invoiceAddress.town`
|

|====

[#variablen-kontakt-optionen]
==== Variablen: Kontakt / Optionen

[[table-variables-order-contact-options]]
.Variablen in der Unterkategorie *Kontakt / Optionen*
[cols="1,3,2"]
|====
|Name der Variable |Twig expression |Name der alten Variablefootnote:1[]

| `Zusätzlicher Ansprechpartner`
| `contact.formattedOptions.additionalContactPerson`
|

| `E-Mail geschäftlich`
| `contact.formattedOptions.emailWork`
| $CustomerEmail

| `E-Mail PayPal`
| `contact.formattedOptions.emailPayPal`
| $CustomerEmail

| `E-Mail privat`
| `contact.formattedOptions.emailPrivate`
| $CustomerEmail

| `Fax geschäftlich`
| `contact.formattedOptions.telefaxWork`
| $CustomerFax

| `Fax privat`
| `contact.formattedOptions.telefaxPrivate`
| $CustomerFax

| `Mobiltelefon geschäftlich`
| `contact.formattedOptions.telephoneMobileWork`
| $CustomerMobilePhone

| `Mobiltelefon privat`
| `contact.formattedOptions.telephoneMobilePrivate`
| $CustomerMobilePhone

| `Telefon geschäftlich`
| `contact.formattedOptions.telephoneWork`
| $CustomerPhone

| `Telefon privat`
| `contact.formattedOptions.telephonePrivate`
| $CustomerPhone

| `eBay-Name`
| `contact.formattedOptions.marketplaceEbay`
| $CustomerEbayName

|====

[#variablen-global]
==== Variablen: Global

[[table-variables-global]]
.Variablen in der Kategorie *Global*
[cols="2,4,3,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `Kontoinhaber (Stammdaten)`
|Kontoinhaber:in aus den xref:willkommen:schnelleinstieg-basiseinstellungen.adoc#100[Stammdaten] deines plentymarkets Systems. Wird im *Basics*-Assistenten im Schritt *Bankdaten* gespeichert. Du findest den Assistenten im Menü *Einrichtung » Assistenten » Grundeinstellungen*. +
Alternativ findest du den:die Kontoinhaber:in im Menü *Einrichtung » Einstellungen » Bank*.
| `globals.bank.owner`
|

| `BIC (Stammdaten)`
|BIC aus den xref:willkommen:schnelleinstieg-basiseinstellungen.adoc#100[Stammdaten] deines plentymarkets Systems. Wird im *Basics*-Assistenten im Schritt *Bankdaten* gespeichert. Du findest den Assistenten im Menü *Einrichtung » Assistenten » Grundeinstellungen*. +
Alternativ findest du die gespeicherte BIC im Menü *Einrichtung » Einstellungen » Bank*.
| `globals.bank.bic`
|

| `Bankname (Stammdaten)`
|Bankname aus den xref:willkommen:schnelleinstieg-basiseinstellungen.adoc#100[Stammdaten] deines plentymarkets Systems. Wird im *Basics*-Assistenten im Schritt *Bankdaten* gespeichert. Du findest den Assistenten im Menü *Einrichtung » Assistenten » Grundeinstellungen*. +
Alternativ findest du den gespeicherten Banknamen im Menü *Einrichtung » Einstellungen » Bank*.
| `globals.bank.name`
| $BankName

| `Widerrufsrecht im HTML-Format`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Widerrufsrecht* und dort im Tab *HTML* gespeichert.
| `globals.legalInformation.cancellationRights.html`
| $CancellationRightsHTML

| `Widerrufsrecht im reinen Textformat`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Widerrufsrecht* und dort im Tab *Text* gespeichert.
| `globals.legalInformation.cancellationRights.plain`
| $CancellationRightsText

| `Gutschein-Code (1)`
| xref:auftraege:gutscheine.adoc#[Gutschein-Codes] werden in der Kampagne im Menü *Aufträge » Gutscheine* generiert. Ein Gutschein-Code kann immer nur jeweils einer Kampagne zugeordnet werden, um diesen Gutschein-Code aus der Kampagne in der E-Mail-Vorlage zu versenden.
| `globals.coupons.couponCode1`
| $CouponCode1

| `Gutschein-Code (2)`
|
| `globals.coupons.couponCode2`
| $CouponCode2

| `Gutschein-Code (3)`
|
| `globals.coupons.couponCode3`
| $CouponCode3

| `Gutschein-Code (4)`
|
| `globals.coupons.couponCode4`
| $CouponCode4

| `Gutschein-Code (5)`
|
| `globals.coupons.couponCode5`
| $CouponCode5

| `Gutschein-Code (6)`
|
| `globals.coupons.couponCode6`
| $CouponCode6

| `Gutschein-Code (7)`
|
| `globals.coupons.couponCode7`
| $CouponCode7

| `Gutschein-Code (8)`
|
| `globals.coupons.couponCode8`
| $CouponCode8

| `Gutschein-Code (9)`
|
| `globals.coupons.couponCode9`
| $CouponCode9

| `Gutschein-Code (10)`
|
| `globals.coupons.couponCode10`
| $CouponCode10

| `EORI-Nummer`
|Eindeutige Identifizierungsnummer, die für Zollzwecke benötigt wird.
| `globals.account.EORINumber`
|

| `Allgemeine Geschäftsbedingungen im HTML-Format`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *AGB* und dort im Tab *HTML* gespeichert.
| `globals.legalInformation.termsConditions.html`
|

| `Allgemeine Geschäftsbedingungen im reinen Textformat`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *AGB* und dort im Tab *Text* gespeichert.
| `globals.legalInformation.termsConditions.plain`
|

| `IBAN (Stammdaten)`
|IBAN aus den xref:willkommen:schnelleinstieg-basiseinstellungen.adoc#100[Stammdaten] deines plentymarkets Systems. Wird im *Basics*-Assistenten im Schritt *Bankdaten* gespeichert. Du findest den Assistenten im Menü *Einrichtung » Assistenten » Grundeinstellungen*. +
Alternativ findest du die gespeicherte IBAN im Menü *Einrichtung » Einstellungen » Bank*.
| `globals.bank.iban`
| $BankIBAN

| `Impressum im HTML-Format`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Impressum* und dort im Tab *HTML* gespeichert.
| `globals.legalInformation.withdrawalForm.html`
| $LegalDisclosureHTML

| `Impressum im reinen Textformat`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Impressum* und dort im Tab *Text* gespeichert.
| `globals.legalInformation.legalDisclosure.plain`
| $LegalDisclosureText

| `Datenschutzerklärung im HTML-Format`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Datenschutzerklärung* und dort im Tab *HTML* gespeichert.
| `globals.legalInformation.privacyPolicy.html`
| $PrivacyPolicyHTML

| `Datenschutzerklärung im reinen Textformat`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Datenschutzerklärung* und dort im Tab *Text* gespeichert.
| `globals.legalInformation.privacyPolicy.plain`
| $PrivacyPolicyText

| `Signatur im HTML-Format`
|Die Signatur wird im Assistenten *E-Mail-Konten* im Schritt *Signatur* gespeichert. Du findest den Assistenten im Menü *Einrichtung » Assistenten » Grundeinrichtung*.
| `globals.account.signatureHTML`
| $SignatureHTML

| `Signatur im reinen Textformat`
|Die Signatur wird im Assistenten *E-Mail-Konten* im Schritt *Signatur* gespeichert. Du findest den Assistenten im Menü *Einrichtung » Assistenten » Grundeinrichtung*.
| `globals.account.signatureText`
| $SignatureText

| `Heutiges Datum`
|Gibt das heutige Datum im Format `tt-mm-jjjj` aus.
| `"now"\|date("d-m-Y")`
| $TodaysDate

| `URL zum Warenkorb`
|Gibt die URL zum Warenkorb im Webshop aus.
| `globals.links.linkBasket`
|

| `URL zum Ändern des Passworts`
|Gibt die URL zum Bereich *Passwort ändern* im Webshop aus. Dort können Kund:innen ein neues Passwort eingeben.
| `globals.links.linkChangePassword`
| $CustomerPassword

| `URL zum Checkout`
|Gibt die URL zum Checkout-Bereich des Auftrags im Webshop aus.
| `globals.links.linkCheckout`
|

| `URL zum Bestätigen der E-Mail-Adresse`
|Gibt die URL zum Bestätigen der E-Mail-Adressänderung des Kontakts aus.
| `globals.account.newCustomerEmail`
|$NewCustomerEmail

| `URL zum neuen Passwort`
|Gibt die URL zu einem Formular zum Erstellen eines neuen Passworts aus. Dort geben Kund:innen ihre E-Mail-Adresse ein.
| `globals.links.linkNewPassword`
|

| `URL zum Webshop`
|Gibt die URL zum Webshop aus.
| `globals.links.linkWebstore`
|

| `URL zu den Geschäftsbedingungen`
|Gibt die URL zu den AGB aus.
| `globals.links.linkTermsConditions`
|

| `Widerrufsformular im HTML-Format`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Widerrufsformular* und dort im Tab *HTML* gespeichert.
| `globals.legalInformation.withdrawalForm.html`
| $WithdrawalFormHTML

| `Widerrufsformular im reinen Textformat`
|Der Text wird im Menü *Einrichtung » Mandant » [Mandant wählen] » Webshop » Rechtliches » [Sprache aufklappen]* im Tab *Widerrufsformular* und dort im Tab *Text* gespeichert.
| `globals.legalInformation.withdrawalForm.plain`
| $WithdrawalFormText

|====

[#variablen-newsletter]
==== Variablen: Newsletter

[[table-variables-newsletter]]
.Variablen in der Kategorie *Newsletter*
[cols="2,5,2,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `Newsletter Vorname`
|Vorname der Person, die den xref:crm:newsletter-versenden.adoc#[Newsletter] abonnieren möchte.
| `newsletter.firstName`
| -

| `Newsletter Nachname`
|Nachname der Person, die den xref:crm:newsletter-versenden.adoc#[Newsletter] abonnieren möchte.
| `newsletter.lastName`
| -

| `URL zur Bestätigung des Newsletter-Abonnements`
|Gibt die URL zum Bestätigen des xref:crm:newsletter-versenden.adoc#[Newsletter-Abonnements] aus.
| `newsletter.formattedConfirmUrl`
| $NewsletterConfirmURL

|====

[#variablen-ticket]
==== Variablen: Ticket

[[table-variables-ticket]]
.Variablen in der Kategorie *Ticket*
[cols="2,5,2,2"]
|====
|Name der Variable |Erläuterung |Twig expression |Name der alten Variablefootnote:1[]

| `Ticket Backend-URL`
|Verlinkt zum Ticket im Menü xref:crm:ticketsystem-nutzen.adoc#[CRM » Ticketsystem].
| `ticket.formattedUrl.backendUrl`
| $TicketBackendURL

| `Ticket: Nachrichtenhistorie`
|Gibt den zuletzt gespeicherten Text im Ticket aus. Das ist entweder der Text eines Kommentars oder einer Nachricht.
| `ticket.formattedMessage.history`
| $TicketHistory

| `Ticket-ID`
|Gibt die ID des Tickets aus, aus dem die E-Mail versendet wurde.
| `ticket.id`
| $TicketID

| `Ticket: Letzter Kommentar`
|Gibt den Text des letzten xref:crm:ticketsystem-nutzen.adoc#2500[Kommentars] aus. +
*_Hinweis:_* Kommentare dienen der internen Kommunikation und sind für deine Kund:innen _nicht_ sichtbar.
| `ticket.formattedMessage.lastComment`
| $TicketLastComment

| `Ticket: Letzte Nachricht`
|Gibt den Text der letzten xref:crm:ticketsystem-nutzen.adoc#2400[Nachricht] aus.
| `ticket.formattedMessage.lastMessage`
| $TicketLastMessage

| `Ticket-Priorität`
|Gibt die Priorität des Tickets als ID aus. Die Werte der Sterne werden aufsteigend mit Zahlen von `0` (grauer Stern, niedrigste Priorität) bis `5` (2 gelbe Sterne, höchste Priorität) angezeigt.
| `ticket.priorityId`
| $TicketPriority

| `Ticket-Status`
|Gibt den Status des Tickets aus.
| `ticket.formattedStatus`
| $TicketStatus

| `Ticket-Tags`
|Gibt die Tags des Tickets aus.
| `ticket.formattedTags`
| $TicketTags

| `Ticket-Titel`
|Gibt den Titel des Tickets aus.
| `ticket.title`
| $TicketTitle

| `Ticket-URL`
|Verlinkt zum Ticket im Bereich *Mein Konto* des Kunden. Kund:innen können dann dort die Nachricht lesen und direkt eine Antwortnachricht eingeben und versenden. +
Beachte dazu das Kapitel xref:crm:ticketsystem-nutzen.adoc#5500[Tickets im Mein Konto-Bereich erstellen] auf der Handbuchseite xref:crm:ticketsystem-nutzen.adoc#[Ticketsystem].
| `ticket.formattedUrl.url`
| $TicketURL

|====

[#variablen-messenger]
==== Variablen: Messenger

[[table-variables-messenger]]
.Variablen in der Kategorie *Messenger*
[cols="2,5,2"]
|====
|Name der Variable |Erläuterung |Twig expression

| `Inhalt der Nachricht`
|
| `messenger.message \| raw`

| `ID der Konversation`
|Dient als eindeutiges Kennzeichen, damit die Nachricht immer korrekt zugeordnet werden kann. Daher sollte diese Variable nicht aus der Vorlage entfernt werden.
| `messenger.conversationId`

| `Hat abgerechnete Nachrichten`
|
| `messenger.metaData.timeCapture.chargeable ? trans('module_mail_templates::Widget.confirm', [], params.lang) : trans('module_mail_templates::Widget.notConfirm', [], params.lang)`

| `Minuten der Nachricht`
|
| `messenger.metaData.timeCapture.minutes`

| `Vorschau der Nachricht`
|
| `messenger.preview`

| `Betreff der Nachricht`
|
| `messenger.title`

| `ID der Nachricht`
|
| `messenger.uuid`

|====

[#code-beispiele-code-widget]
== Code-Beispiele für das Code-Widget

Setze in deinen E-Mail-Vorlagen Fallunterscheidungen nach den Prinzipien der if-Abfragen ein oder verwende for-Schleifen. In den folgenden Unterkapiteln findest du einige if-Abfragen und for-Schleifen, die du einfach in dein <<#intable-widget-code, Code-Widget>> kopieren kannst.

[#code-beispiel-versandprofil]
=== Code-Beispiel: Versandprofil

Füge in das <<#intable-widget-code, Code-Widget>> einen Code ein, der bewirkt, dass ein Hinweis bezüglich der Spedition und Kontaktaufnahme in der E-Mail an deine Kund:innen nur angezeigt wird, wenn der Versanddienstleister im Versandprofil eine Spedition ist. In unserem Beispiel hat das Versandprofil mit der Spedition die ID `6`.

Das Code-Beispiel findest du link:https://raw.githubusercontent.com/plentymarkets/plenty-manual-docs/main/docs/de-de/modules/crm/examples/emailbuilder-code-beispiel-versandprofil.txt[unter diesem Link^].

[#code-beispiel-bankdaten]
=== Code-Beispiel: Bankdaten

Füge in das <<#intable-widget-code, Code-Widget>> einen Code ein, der bewirkt, dass deine Bankdaten in der E-Mail an deine Kund:innen nur angezeigt werden, wenn sie im plentyShop die Zahlungsart *Vorkasse* (ID `0`) gewählt haben.

Das Code-Beispiel findest du link:https://raw.githubusercontent.com/plentymarkets/plenty-manual-docs/main/docs/de-de/modules/crm/examples/emailbuilder-code-beispiel-bankdaten.txt[unter diesem Link^].

[#code-beispiel-auftragspositionen]
=== Code-Beispiel: Auftragspositionen

Füge in das <<#intable-widget-code, Code-Widget>> einen Code ein, der bewirkt, dass die Auftragspositionen mit den Varianten-IDs, den Artikelnamen, der Artikelanzahl und dem Preis in einer Tabelle angezeigt werden.

Das Code-Beispiel findest du link:https://raw.githubusercontent.com/plentymarkets/plenty-manual-docs/main/docs/de-de/modules/crm/examples/emailbuilder-code-beispiel-auftragspositionen.txt[unter diesem Link^].

[#code-beispiel-artikel-liste]
=== Code-Beispiel: Artikel des Auftrags als Liste

Füge in das <<#intable-widget-code, Code-Widget>> einen Code ein, der bewirkt, dass die Artikel-IDs und die Artikelmenge aller Artikel, die im Auftrag enthalten sind, als Liste angezeigt werden.

Das Code-Beispiel findest du link:https://raw.githubusercontent.com/plentymarkets/plenty-manual-docs/main/docs/de-de/modules/crm/examples/emailbuilder-code-beispiel-artikel-liste.txt[unter diesem Link^].

[#code-beispiele-betreff]
== Code-Beispiele für den Betreff

Füge in den Betreff deiner Vorlage einen Code ein, der bewirkt, dass ein bestimmtes Wort am Anfang des Betreffs angezeigt wird, wenn es sich um bestimmte Auftragsherkünfte handelt. In unserem Beispiel wird immer der Begriff `[WICHTIG]` am Anfang des Betreffs eingefügt, wenn die Herkünfte zwischen `9` und `11` liegen.

Das Code-Beispiel findest du link:https://raw.githubusercontent.com/plentymarkets/plenty-manual-docs/main/docs/de-de/modules/crm/examples/emailbuilder-code-beispiel-betreff.txt[unter diesem Link^].
