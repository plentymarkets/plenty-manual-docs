= Messenger (Test phase)
:keywords:
:description: Learn how to use the Messenger in plentymarkets to send and receive emails.
:author: team-crm

The *CRM » Messenger (Test phase)* menu allows you to manage the external communication with your customers via emails as well as the internal communication via messages. If you use the whisper mode in messages, these messages are only visible in your plentymarkets system and _cannot_ be seen by your contacts. 

The *CRM » Messenger (Test phase)* menu is structured as follows:

* *Navigation*: Here you can navigate through different parts of the menu. The currently selected area (blue background) is displayed in the main window on the right. Click on icon:bars[] to expand or collapse the navigation bar. +
** Available areas in the navigation: New message, inbox, new messages, my messages, trash.
* *Toolbar*: Here you can <<#search-message, search>> for messages, <<#configure-columns, adjust the columns in the overview>>, set the results to be shown per page and click through the pages with the messages.
* *Main window*: Here you can see whichever area is currently open. +
** *Overview*: When you start a search, you’ll see the results in an overview. The overview provides information about the conversations found at a glance. You see, for example, the email addresses of the senders, the subject, the date when the message was received, the assigned tags and by means of the icon icon:attach_file[set=material], you can see whether the message has an attachment. +
** *Detail view*: When you open a message, the details will become visible below the main window. The detail view of a message is divided into the conversation, i.e. the message stream, and the editor where you type in your replies.

[discrete]
== New features

[.collapseBox]
.New features compared to the “old” Messenger
--
You can find the following improvements in the new Messenger that haven’t been available in the “old” Messenger:

* Receiving emails from your customers
* Sending emails to your customers
* Using the group function in the Messenger
* Possibility to subscribe for conversations and receive notifications regarding new messages
* Display when system user is replying to a message
--

[#preparatory-settings]
== Preparatory settings

If users of the type *Back end* should be able to work with the messenger, a person with *Admin* access has to assign rights to those users. Moreover, you have to create tags in order that these are available for the Messenger. You also have to grant certain rights for the tags.

[#user-rights-back-end-user]
=== Assigning rights for back end users

:rights-purpose: see and create messages in the messenger
:right-one: pass:quotes[*CRM > Message > Show*]
:right-two: pass:quotes[*CRM > Message > Create*]
:right-three: pass:quotes[*Comments > Show*]
:right-four: pass:quotes[*Comments > Create*]
:right-five: pass:quotes[*Setup > Property > Show*]
:right-six: pass:quotes[*Setup > Property > Create*]

include::_includes:page$rights.adoc[]

[#tags-messenger]
=== Creating tags for the messenger

You can assign tags to the messages in the Messenger and filter them in the overview. Tags are keywords that make grouping messages very easy.

Which user rights are required and how to create tags is explained below.

[#rights-tags]
==== Assigning rights for back end users

include::_includes:page$tags-rights.adoc[]

[#create-tags]
==== Creating tags

include::_includes:page$tags-creation.adoc[]
[TIP]
If you want to create messages that should be *billed* via the Messenger, you have to create tags for the availability _Message (billable)_ in the same way. You have to add these tags to the <<#create-message, message>>.

[#complete-assistant]
=== Completing the assistant

To be able to send and receive messages with the Messenger, you have to complete the *Messenger configuration* assistant in the *Setup » Assistants » Basic setup* menu. This assistant has several steps to complete. These steps are explained in the following.

[TIP]
You have to complete the assistant for every inbox that you want to create. +
You can assign tags to each inbox to be able to <<#search-message, filter>> for these tags later.

[#service-activation]
[discrete]
==== Service activation

In this step, activate the Messenger service. If the button is blue (icon:toggle_on[set=material, role=skyBlue]), the service is activated. If the button is grey (icon:toggle_off[set=material, role=darkGrey]), the service has _not_ been activated yet.

[#email-forwarding]
[discrete]
==== Email forwarding

In this step, a cryptic email address is automatically created that builds the forwarding email address. Use this email address to set up your email client. This ensures that your emails will be forwarded automatically. Note that you _cannot_ change this cryptic email address.

In the lower part, enter all email addresses that are allowed to send messages to the cryptic, forwarding email address stated above.

You can add as many email addresses as you like by clicking on *Add* (icon:plus-square[role="green"]).

[#verification-email-addresses]
[discrete]
==== Verification of email addresses

In this step, you can see the progress of the verification process. plentymarkets sends an email to all email addresses that you entered in the previous step <<#email-forwarding, Email forwarding>>. The system then checks whether the email addresses are valid and the forwarding works correctly.

[#settings-email-despatch]
[discrete]
==== Settings for the email despatch

In this step, save the login details of the email inbox from which you want to send emails so that your plentymarkets system can send emails such as order or shipping confirmations from this email address. 

After having entered the login details (host name, user name, port, password), select the encryption method and enter the sender email address and the sender name. This email address and this name will be shown to the recipients of your emails from this inbox.

*_Note for mailbox.org mailboxes:_* Enter the port *465* and select *SSL* as encryption method.

Select also in this step an email template for the email despatch. Be sure to have the email template created in the xref:crm:emailbuilder.adoc[EmailBuilder] in advance. Note that the template you select here should contain Messenger variables. 

The following Messenger-related variables are available in the EmailBuilder:

* Message ID
* Message conversation ID
* Message content
* Message title
* Message preview
* Message minutes
* Billable message minutes

[#settings-email-receipt]
[discrete]
==== Settings for receiving emails

In this step, you select one or multiple tags that should be assigned to the messages when these messages are received from the forwarded addresses.

In the last section, select the subscribers who should be informed in case of new messages. Either select individual users from the drop-down list or select roles in order that all users that are assigned to this role will subscribe for new messages in this inbox.

[#create-message]
== Creating a message

Proceed as described below to create a new message in the Messenger.

[.instruction]
Creating a message:

. Go to *CRM » Messenger (Test phase)*.
. Click in the top left on icon:add[set=material] *New message*.
. Enter a value in the *Receiver* field and select the appropriate value from the suggestion list. +
*_Example:_* If you enter a number, possible receivers with this order ID or contact ID will be suggested (see <<#image-messenger-new-message-suggestion-list>>).
. Enter the subject of the message in the *Subject* field.
. Click on the top right on *Tags* (icon:local_offer[set=material]) to add tags to the message.
. Enter the message in the text field.
. Click on icon:attach_file[set=material] to add attachments to the message.
. Select further options, if needed, by clicking on icon:more_vert[set=material].
. Note <<#table-create-new-message>>.
. Click no icon:forward_to_inbox[set=material] *SEND*.

[[image-messenger-new-message-suggestion-list]]
.Example: Suggestion list in the receiver field after having entered “102”
image::messenger-new-message-suggestion-list.png[width=640, height=360]

[[table-create-new-message]]
.Creating a new message in the messenger
[cols="1,3"]
|====
|Setting |Explanation

| *Recipients*
|Enter a value here and select the appropriate value from the suggestion list (see <<#image-messenger-new-message-suggestion-list>>).

| *Subject*
|Enter a subject for the message.

| *Tags* (icon:local_offer[set=material])
|By clicking on icon:local_offer [set=material] you can <<#context-menu-tags, add tags>> to the message.

| *Text field*
|Enter the content of the message here.

| *Attachments* (icon:attach_file[set=material])
|Click on icon:attach_file[set=material] to add attachments to your message. Select as many attachments as you like from your computer. +
The following file types can be sent as an attachment: +
bmp, csv, gif, jpeg, json, pdf, png, tiff, txt, xlsx, zip.

| *Bill* (icon:more_vert[set=material)])
|You can bill a message if it is not a whispered message. Click on icon:more_vert[set=material] first. If you activate the button *Bill* (icon:toggle_on[set=material, role=skyBlue], this message will be billed. The button icon:forward_to_inbox [set=material] *SEND* will be changed to icon:forward_to_inbox[set=material] *BILL AND SEND*. +
*_Note:_* Once the button *Bill* is activated, it is not possible to activate the whisper mode for this message.

| *Timer* (icon:more_vert[set=material)])
|You can start a timer for every message. Click on icon:more_vert[set=material] first. If you activate the *Timer* button (icon:toggle_on[set=material, role=skyBlue]), the timer will automatically next to the *SEND* button. +
Click on icon:pause-circle-o[] to stop the timer and on icon:play-circle[] to start the timer again.

| *Whisper* (icon:more_vert[set=material)])
|You can whisper messages to make these messages only visible for internal purposes. Click on icon:more_vert[set=material] first. If you activate the *Whisper* button (icon:toggle_on[set=material, role=skyBlue]), this message will be whispered. This means that this message can only be used for internal purposes and _cannot_ be sent to third parties. You may recognise a whispered message in this view by means of the *Whisper* button (icon:visibility_off[set=material]) next to the *SEND* button. +
In the overview, whispered messages are shown in _italics_. +
*_Note:_* Once the whisper mode has been activated for this message, it is not possible to activate the *Bill* button.

| *Send*
|By clicking on icon:forward_to_inbox[set=material] *SEND*, the message will be sent.

|====

[#search-conversation]
== Searching for a conversation in the Messenger

Open all conversations in a list or select filters (icon:tune[set=material]) to narrow down the search results in the Messenger overview.

[.instruction]
Searching for a conversation in the Messenger:

. Go to *CRM » Messenger (Test phase)*. +
* *_Option 1:_* Click on icon:search[set=material] to see a list of all conversations.
* *_Option 2:_* Enter a value in the search field and select the appropriate filter from the suggestion list.
* *_Option 3_*: Click on icon:tune[set=material] to narrow down the search results with filters.
. Note the explanations about the filters in <<#table-search-message>>.

[[table-search-message]]
.Filter options in the Messenger
[cols="1,3"]
|====
|Filter |Explanation

| *Content*
|Enter a word to search for conversations containing this word in their subject line.

| *Short ID*
|Enter the ID of the message to only search for the message with this ID.
 
| *From* / *To*
|Enter a date or select the dates from the calendars (icon:today[set=material]) to search for conversations within a certain time period.

| *Referrer*
|Select a referrer to only search for conversations with this referrer. +
Available options: *Back end*, *REST*, *Plugin* and *PayPal plugin*.

| *Status*
|Select a status to search for conversations with this specific status. +
Available values: *Done* and *Not done*.

| *Tags*
|Select (icon:check-square[role="blue"]) tags to only search for conversations with these <<#tags-messenger, tags>>.

| *Reset*
|Resets the selected filter criteria.

| *Search*
|Executes the search. The conversations found are listed in the overview. +
*_Tip:_* Don’t choose any filters if you want to see all of the conversations in the overview.

|====

[#configure-columns]
=== Configuring columns

You can have the following columns displayed in the overview of the Messenger:

* Selection
** This option shows the checkbox for the group function (icon:check_box_outline_blank[set=material]) in the overview.
* Status
* Short ID
* Referrer
* From
* Title
* Created on
* Tags
* Attachment
* Subscription status
* <<#context-menu, Context menu>>

Click on the button *Configure columns* (icon:settings[set=material]) on the top right to deactivate the columns that are already shown in the overview.

[#switch-view]
=== Switching the view

It is possible to change the view in the Messenger from a table to a list. To do so, click on *Change view* (icon:list[set=material]) in the top right of the overview. +
The table view is selected by default.

[#context-menu]
== Editing conversations in the overview

In the Messenger overview the following functions are available when clicking in the line of the conversation on icon:more_vert[set=material].

* <<#context-menu-mark-as-read-unread, Marking a conversation as read / unread>>
* <<#context-menu-tags, Assigning tags to a conversation>>
* <<#context-menu-mark-as-done-not-done, Marking a conversation as done / not done>>
* <<#context-menu-delete-conversation, Deleting a conversation>>

[#context-menu-mark-as-read-unread]
=== Marking a conversation as read / unread

Proceed as described in the following sub-chapters to mark a conversation as <<#conversation-mark-as-read, read>> or <<#conversation-mark-as-unread, unread>>.

[#conversation-mark-as-read]
==== Marking a conversation as read

Proceed as described below to mark a conversation in the overview as read.

[.instruction]
Marking a conversation as read:

. Go to *CRM » Messenger (Test phase)*.
. In the line of the conversation that you want to mark as read, click on icon:more_vert[set=material].
. Click on icon:mark_email_read[set=material] *Mark as read*. +
→ The line of the conversation is no longer shown in bold and the blue circle icon:circle[role="blue"] at the beginning of the line disappears.

[#conversation-mark-as-unread]
==== Marking a conversation as unread

Proceed as described below to mark a conversation in the overview as unread.

[.instruction]
Marking a conversation as unread:

. Go to *CRM » Messenger (Test phase)*.
. In the line of the conversation that you want to mark as unread, click on icon:more_vert[set=material].
. Click on icon:mark_email_unread[set=material] *Mark as unread*. +
→ The line of the conversation is shown in bold and a blue circle icon:circle[role="blue"] appears at the beginning of the line.

[#context-menu-tags]
=== Assigning tags to a conversation

Proceed as described below to assign a tag to a conversation. You can also search for tags that are available for the Messenger. This might also be useful if you really created a lot of tags for the *Messages* or *Messages (billable)* areas.

[.instruction]
Assigning tags to a conversation:

. Go to *CRM » Messenger (Test phase)*.
. Click in the line of the conversation on icon:more_vert[set=material].
. Click on icon:local_offer[set=material] *Tags* to see a list of all tags that you have already <<#tags-messenger, created>> for the areas *Messages* and *Messages (billable)*. +
*_Tip:_* If you have created a lot of tags for the *Messages* or *Messages (billable)* areas, enter the name of the tag in the search field *Search for tag*.
. Select (icon:check-square[role="blue"]) the tags that you want to assign to the conversation. +
→ The tag is assigned to the conversation and you see the tag in the overview in the *Tags* column.

[#add-tag]
==== Adding a tag

If you could not find the tag you were looking for as described in the <<#context-menu-tags, Assigning tags>> chapter, you can create a new tag from the Messenger overview. To do so, proceed as described below.

[.instruction]
Creating a new tag:

. Go to *CRM » Messenger (Test phase)*.
. Click in the line of the conversation on icon:more_vert[set=material].
. Click on icon:local_offer[set=material] *Tags*.
. Click on icon:add[set=material] *Add tag* to create a new tag. +
→ You will automatically be redirected to the *Setup » Settings » Tags* menu. You can create more tags for the areas *Messages* or *Messages (billable)* there.

[#edit-tag]
==== Editing a tag

Proceed as described below to edit a tag from the Messenger overview.

[.instruction]
Editing a tag:

. Go to *CRM » Messenger (Test phase)*.
. Click in the line of the conversation on icon:more_vert[set=material].
. Click on icon:local_offer[set=material] *Tags*.
. Click on icon:edit[set=material] *Edit tag* to edit an existing tag. +
→ You will automatically be redirected to the *Setup » Settings » Tags* menu. There, you can edit the tags.

[#context-menu-mark-as-done-not-done]
=== Marking a conversation as done / not done

Proceed as described in the following sub-chapters to mark a conversation as <<#context-menu-mark-as-done, done>> or <<#context-menu-mark-as-not-done], not done>>.

[#context-menu-mark-as-done]
==== Marking a conversation as done

Proceed as described below to mark a conversation in the overview as done.

[.instruction]
Marking a conversation as done:

. Go to *CRM » Messenger (Test phase)*.
. In the line of the conversation that you want to mark as done, click on icon:more_vert[set=material].
. Click on icon:done_all[set=material] *Mark as done*. +
→ At the beginning of the conversation’s line, the icon icon:done_all[set=material] is shown.

[#context-menu-mark-as-not-done]
==== Marking a conversation as not done

Proceed as described below to mark a conversation in the overview as not done.

[.instruction]
Marking a conversation as not done:

. Go to *CRM » Messenger (Test phase)*.
. In the line of the conversation that you want to mark as not done, click on icon:more_vert[set=material].
. Click on icon:remove_done[set=material] *Mark as not done*. +
→ At the beginning of the conversation’s line, the icon icon:done_all[set=material] will be removed.

[#context-menu-delete-conversation]
=== Deleting a conversation

Proceed as described below to delete a conversation in the overview.

[.instruction]
Deleting a conversation:

. Go to *CRM » Messenger (Test phase)*.
. In the line of the conversation that you want to delete, click on icon:more_vert[set=material].
. Click on icon:delete[set=material] *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on *Yes*. +
→ The conversation is deleted and moved to trash.

[#subscribe-for-conversations]
== Subscribing for conversations

You can subscribe for conversations where you are not directly part of so that you will be informed in case of new messages within this conversation. Not being directly part of it means that you are neither a recipient nor a sender of a message within this conversation. Of course, you can unsubscribe from a conversation’s subscriber list any time with just one click.

[#subscribe-for-conversation]
=== Subscribing for conversations

Proceed as follows to subscribe for a conversation.

[.instruction]
Subscribing for a conversation:

. Go to *CRM » Messenger (Test phase)*.
. Click in the line of the conversation that you want to subscribe for. +
→ The conversation opens.
. Click on *Subscribed* (icon:notifications_active[set=material]) to subscribe for the conversation. +
→ In the top right of your plentymarkets system, you will get a notification via the icon icon:notification[set=material].

[#unsubscribe-conversation]
=== Unsubscribing from a conversation

Proceed as described below to unsubscribe from a conversation.

[.instruction]
Unsubscribing from a conversation:

. Go to *CRM » Messenger (Test phase)*.
. Click in the line of the conversation that you want to unsubscribe from +
→ The conversation opens.
. Click on *Not subscribed* (icon:notifications_off[set=material]) to unsubscribe from this conversation. +
→ From now on, you will no longer receive notifications when a new message arrives in this conversation.

[#bill-message]
== Billing a message

[#edit-single-message]
== Editing a single message

You already know the <<#context-menu, context menu for the conversations>> that is described earlier on this page. Of course, you can also edit single messages using a context menu. Proceed as described in the following sub-chapters.

[#open-single-message]
=== Opening a message

[#assign-tags-to-single-message]
=== Assigning tags to a message

[#delete-single-message]
=== Deleting a message

[#group-function]
== Carrying out the group function

Once you have selected a message in the overview (icon:check-square[role="blue"]), the different buttons become visible (see <<#image-messenger-group-functions-conversations>>). <<#table-group-functions-messenger>> lists the elements from the group functions as well as their explanations.

[[image-messenger-group-functions-conversations]]
.Group function in the overview
image::messenger-group-functions-conversations.png[width=640, height=360]

[[table-group-functions-messenger]]
.Using the group function in the Messenger
[cols="2,1,6"]
|====
|Element |Symbol |Explanation

| *Mark as read*
|icon:mark_email_read[set=material]
|Marks all selected conversations as read.

| *Mark as unread*
|icon:mark_email_unread[set=material]
|Marks all selected conversations as unread.

| *Mark as done*
|icon:done_all[set=material]
|Marks all selected conversations as done.

| *Mark as not done*
|icon:remove_done[set=material]
|Marks all selected conversations as not done.

| *Tags*
|icon:local_offer[set=material]
|Assigns the desired tag to all selected conversations.

| *Delete conversation*
|icon:delete[set=material]
|Deletes all selected conversations after having confirmed your decision.

|====

[#new-messages]
== New messages

[#my-messages]
== My messages

[#trash]
== Trash 

 

   


 

