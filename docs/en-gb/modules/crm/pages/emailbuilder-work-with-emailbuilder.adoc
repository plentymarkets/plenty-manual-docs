= Working with the EmailBuilder
:keywords: create folder, create sub-folder, delete folder, manage templates, header template, footer template, show preview, create text block, custom styling, css styling, adjust own styling of template, widgets, edit widgets, insert widget, emailbuilder widgets, text widget, code widget, order items widget, item list widget, if-else widget, image widget, edit default templates, show preview with order id, edit template, search template, delete template, copy template, change subject, change template subject, add language to template, template usage, see template usage in automations
:description: Find out what options you have for working with the EmailBuilder.
:page-pagination:
:author: team-crm

Learn on this user manual page how to work optimally with the EmailBuilder. For example, you will learn how to manage <<#manage-folders, folders>> and <<#manage-templates, templates>>, create <<#create-text-block, text blocks>> and regular <<#create-template, templates>>, <<#insert-widgets, insert widgets in your templates>> and use <<#create-default-template, default templates>>. Also you can see in which areas of your systems the EmailBuilder template has been <<#template-usage, used>>.

[#manage-folders]
== Managing folders

In the EmailBuilder, you can create as many <<#create-folder, folders>> as you like and upt to 3 <<#create-sub-folder, sub-folders>>. After you created the folder, click on material:more_vert[] to create new sub-folders, new templates in general and new header and footer templates and <<#rename-folder, rename>>, <<#move-folder, move>> or <<#delete-folder, delete>> the folders.

Your system contains a folder with pre-defined default templates. These are explained further down on this page in the <<#use-default-templates, Using default templates>> chapter.

[[image-emailbuilder-folder-structure]]
.Folder structure in the EmailBuilder
image::crm:emailbuilder-add-folder-template-header-footer.png[width=320, height=180]

[#create-folder]
=== Creating a folder

Create folders to get a better overview of your email templates at a later point in time. Proceed as described below to create a new folder.

[.instruction]
Creating a folder:

. Go to *CRM » EmailBuilder*.
. In the bottom left corner, click on material:add[] *Add* material:play_arrow[].
. Click on material:folder[] *Folder*. +
→ The *Add new folder* window opens.
. Enter the name for the folder.
. Click on *Save*. +
→ The new folder is added to the folder list.

[TIP]
Once you have carried out all settings as described in the following – so you have created sub-folders, templates, headers and footers –, you can open the main folder by clicking on material:chevron_right[] _Name of the folder_. You will see there at a glance all sub-folders, templates, headers and footers that you created directly in the main folder.

[#rename-folder]
=== Renaming the folder

You can update the folder name at any time. To do so, proceed as described below.

[.instruction]
Renaming the folder:

. Go to *CRM » EmailBuilder*.
. In the line of the folder that you want to rename, click on material:more_vert[] and then on material:edit[] *Rename*. +
→ The *Rename folder* window opens.
. Enter an other name for the folder.
. Click on *Save*. +
→ The new folder name is updated and shown in the list.

[#move-folder]
=== Moving a folder

You can move the folder to another position at any time. To do so, proceed as described below.

[.instruction]
Moving a folder:

. Go to *CRM » EmailBuilder*.
. In the line of the folder that you want to move, click on material:more_vert[] and then on material:open_with[] *Move*. +
→ The *Move* window opens.
. Select the target folder.
. Click on material:open_with[] *Move*. +
→ The folder is moved to the selected folder.

[#create-sub-folder]
=== Creating a sub-folder

Create sub-folders in your folders to group your email templates in even more detailed topics. You can create up to 3 sub-folders within a folder.

[TIP]
.Create a draft for your folder structure in advance
====
We recommend creating a draft in advance to avoid confusing and unclear nesting levels in your folder structure. Because: The more levels you create, the more complex the structure will be.
====

[.instruction]
Creating a sub-folder:

. Go to *CRM » EmailBuilder*.
. In the line of the folder that you want to create a sub-folder for, click on material:more_vert[] and then on material:add[] *Add*.
. Click on material:folder[] *Folder*. +
→ The *Create new folder* window opens.
. Enter the name for the sub-folder.
. Click on *Save*. +
→ The sub-folder is created within the main folder.

Open the sub-folder by opening the main folder with a click on material:chevron_right[]. You can see all sub-folders that you created at a glance.

[#delete-folder]
=== Deleting a folder

You can delete folders and sub-folders at any time. Note that the entire content in the folder will also be deleted.

[.instruction]
Deleting a folder:

. Go to *CRM » EmailBuilder*.
. In the line of the folder or sub-folder that you want to delete, click on material:more_vert[] and then on material:delete[] *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on material:delete[role=red] *Delete*. +
→ The folder with all corresponding sub-folders and templates contained in there will be deleted.

[#manage-templates]
== Managing templates

Learn in the following sub-chapters how to create templates for <<#create-header, headers>> and <<#create-footer, footers>> and <<#create-template, general templates>>. Moreover, it is described how you <<#search-template, search for>>, <<#move-template, move>>, <<#copy-template, copy>>, <<#edit-template, edit>> and <<#delete-template, delete>> templates. +
You can also use pre-defined <<#use-default-templates, default templates>>. You will also learn everything about the available <<#insert-widget, widgets>> and how you can use these widgets in your templates.

[TIP]
Once you created a template, the template ID is shown in brackets in front of the template name. The systems assigns the IDs consecutively and automatically. This ID _cannot_ be changed.

The widgets and variables that are contained in the template form the actual content of your email. Via the widgets, you can insert as many variables as you like into a template by using drag-and-drop. These variables will then be replaced with the correct content when the email is sent to your customers.

You can find a detailed list of which variables are available for your email templates in the tables on manual page xref:crm:emailbuilder-variables-twig-expressions.adoc#[Using variables and twig expressions].

[#template-header-footer]
=== Creating templates for header and footer

Create templates for the header and the footer that you can later use in all of your email templates. Header and footer are globally active. This means: Changes you make to the header and footer affect the rest of all existing templates and all other templates that you will create in the future.

You can insert, for example, your company logo into the header and insert into the footer your signature and the general company details such as the address, links to social media, the legal structure of your company, details about your company’s executive board, and much more.

Proceed as described below to create a template for the <<#create-header, header>> and the <<#create-footer, footer>>.

[#create-header]
==== Creating a header template

Proceed as described below to create a template for the header of your email template.

[.instruction]
Creating a header template:

. Go to *CRM » EmailBuilder*.
. In the line of the folder or sub-folder that you want to create a header for, click on material:more_vert[] and then on material:add[] *Add* material:play_arrow[].
. Click on material:web_asset[] *Header*. +
→ The *Add new header* window opens.
. Enter a name for the header.
. Click on *Save*. +
→ The header template is created.
. Click on *Add* (material:add[]) to <<#add-language, add a language>>. +
→ A new window opens.
. Select a language from the list. +
→ The window *New name* opens.
. Enter the header template’s subject.
. Click on *Save*.
. In the *General settings* area, select (material:check_box[role=skyBlue]) the owner and the client.
. Click on *Edit* (material:edit[]).
. Edit the header according to your wishes and insert <<#insert-widget, widgets>> and xref:crm:emailbuilder-variables-twig-expressions.adoc#available-variables[variables].
. *Save* (material:save[]) the settings.

[#show-header-preview]
==== Showing the preview of the header

You can view a preview of your header template at any time. This is possible either in HTML format or as plain text. Enter an order ID to fill the preview with real order data. Proceed as follows to open the preview of the template.

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the header for which you want to show the preview.
. Click on the header.
. Click on *Preview* (material:preview[]). +
→ The *Preview* window opens.
. Select from the drop-down list *Preview format* the option *HTML* or *Plain text*.
. In the *Order ID* field, enter the ID of the order that you want to see a preview of.
. Click on material:preview[] *PREVIEW*. +
→ The preview opens in a separate window. +
*_Note:_* Your system remembers the value of the order ID you entered until the next login or until the browser cache is cleared.
. Check the header template.
. *Close* the window.

If you are not satisfied with the result, edit the content of your header again.

[#create-footer]
==== Creating a footer template

Proceed as described below to create a template for the footer of your email template.

[.instruction]
Creating a footer template:

. Go to *CRM » EmailBuilder*.
In the line of the folder or sub-folder that you want to create a footer for, click on material:more_vert[] and then on material:add[] *Add* material:play_arrow[].
. Click on material:video_label[] *Filter*. +
→ The *Add new footer* window opens. +
. Enter a name for the footer.
. Click on *Save*. +
→ The footer template is created.
. Click on *Add* (material:add[]) to <<#add-language, add a language>>. +
→ A new window opens.
. Select a language from the list. +
→ The window *New name* opens.
. Enter the footer template’s subject.
. Click on *Save*.
. In the *General settings* area, select (material:check_box[role=skyBlue]) the owner and the client.
. Click on *Edit* (material:edit[]).
. Edit the footer according to your wishes and insert <<#insert-widget, widgets>> and xref:crm:emailbuilder-variables-twig-expressions.adoc#available-variables[variables].
. *Save* (material:save[]) the settings.

[#show-footer-preview]
==== Showing the preview of the footer

You can view a preview of your footer template at any time. This is possible either in HTML format or as plain text. Enter an order ID to fill the preview with real order data. Proceed as follows to open the preview of the template.

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the footer for which you want to show the preview.
. Click on the footer.
. Click on *Preview* (material:preview[]). +
→ The *Preview* window opens.
. Select from the drop-down list *Preview format* the option *HTML* or *Plain text*.
. In the *Order ID* field, enter the ID of the order that you want to see a preview of.
. Click on material:preview[] *PREVIEW*. +
→ The preview opens in a separate window. +
*_Note:_* Your system remembers the value of the order ID you entered until the next login or until the browser cache is cleared.
. Check the footer template.
. *Close* the window.

If you are not satisfied with the result, edit the content of your footer again.

[#create-text-block]
== Creating a text block

Create a text block that you can later xref:crm:messenger.adoc#insert-text-block[insert into the Messenger message]. Text blocks are ready-made text modules that save you a lot of time and effort, particularly if you often answer the same questions or deal with the same problems. You can also enter long texts here and save a lot of time when working with your messages. +
Think about a useful structure of folders, sub-folders and questions in advance.

[.instruction]
Creating a text block:

. Go to *CRM » EmailBuilder*.
. Search for the <<#create-folder-text-block, folder that you have just created>> and click on material:more_vert[].
. Click on material:add[] *Add* material:play_arrow[] and then on material:text_fields[] *Text blocks*. +
→ The *Add new text block* window opens.
. Enter the name.
. Click on *Save*. +
→ The text block is created and opened.
. Click on material:add[] (*Add*).
. Select a language from the list.
. In the *Content* area, click on material:edit[].
. Enter the text block’s content in the editor.
. Use the editor’s formatting options, if desired.
. Click on *Save*.

[IMPORTANT]
If you have been using plentysystems for a long time and have already created text blocks or FAQs in the old menu *CRM » Text blocks / FAQ*, you will see the folder *Text blocks (migrated)* in the *CRM » EmailBuilder* menu. This folder contains all folders, sub-folders and FAQs that you created in the old menu.

[#create-template]
== Creating a template

Now create the template and save basic settings such as the name, the subject, CC and BCC and select the appropriate <<#create-header, header>> and <<#create-footer, footer>> for the template. Proceed as described below to create a new template.

[IMPORTANT]
.Important: Add header and footer in the corresponding language
====
If you created a template in <<#add-language, multiple languages>>, remember to create also the header and footer in these languages and to link them with the template. Otherwise, the template cannot be sent.
====

[TIP]
.Switching between multiple templates
====
If you later edit multiple templates in the editor at the same time, you can use the navigation on the left to switch between the individual templates. The template you have just opened is highlighted in blue at the beginning of the line.
====

[[image-emailbuilder-template]]
.Creating a template in the EmailBuilder
image::crm:emailbuilder-new-template.png[width=640, height=360]

[.instruction]
Creating a template:

. Go to *CRM » EmailBuilder*.
. In the bottom left corner, click on material:add[] *Add* material:play_arrow[]. +
icon:map-signs[] *_Or:_* In the line of the folder in which you want to create a template, click on material:more_vert[] and then on material:add[] *Add* material:play_arrow[]. +
. Click on material:description[] *Template*. +
→ The *Add new template* window opens.
. Carry out the settings. Note <<#table-emailbuilder-create-template>> and <<#image-emailbuilder-template>>.
. *Save* (material:save[]) the settings.

*_Note:_* If you do not want to create the template within a folder, click on the start page of the *CRM » EmailBuilder* menu in the bottom left on material:add[] *Add* material:play_arrow[] and select material:description[] *Template* afterwards. The template will then be created on the first level and does not belong to a folder.

[TIP]
.Email templates are sent in multipart format
====
The email templates in the EmailBuilder use the multipart format. This means that the emails are sent in an HTML and in a text version at the same time. +
This ensures that your emails can be read by all recipients, even if their email client restricts or completely disables the display of HTML in emails. On the other hand, the HTML versions of your emails that you designed are displayed for the recipients whose email client allows the display of HTML. The advantage for you is that you only have to maintain one email template.
====

[[table-emailbuilder-create-template]]
.Creating a template in the EmailBuilder
[cols="1,3"]
|====
|Setting |Explanation

2+^| *Add new template* window

|[#intable-template-settings-name]*Name*
|What’s the name of the template? Enter a descriptive name so you can easily find the template at a later point in time. +
*_Note:_* This field is a mandatory field.

|[#intable-template-settings-expert-mode]*Expert mode*
|Activate (material:toggle_on[role=skyBlue]) the option if you want to create the template in xref:crm:emailbuilder-expert-mode.adoc#[expert mode]. +
*_Note:_* If you activate the expert mode, the following options *Header*, *Footer* and *Build from default template* are deactivated.

|[#intable-template-settings-header]*Header*
|Which header do you want to show in this template? Select a header from the drop-down list (material:arrow_drop_down[]). +
The list contains all <<#create-header, headers>> that you have already created.

|[#intable-template-settings-footer]*Footer*
|Which footer do you want to show in this template? Select a footer from the drop-down list (material:arrow_drop_down[]). +
The list contains all <<#create-footer, footers>> that you have already created.

|[#intable-template-settings-default-template]*Build from default template*
|Expand the area (material:arrow_drop_down[]) to select one of the <<#use-default-templates, default templates>> and link it with the new template. +
*_Note:_* In the next step, you can adjust the default template that you select here according to your needs.

| *Save*
|Saves the settings.

2+^| Area for the template’s content +
In this area, you add the language and create the content of your template using widgets and variables. Note the information about line spacing in our xref:crm:faq.adoc#faq-line-spacing[FAQ area].

|[#intable-template-settings-add]*Add*
|Click on material:add[] (*Add*) to select the <<#add-language, language of the template>>. +
<<#image-emailbuilder-add-languages>> shows the list with the languages after you clicked on material:add[].

|[#intable-template-settings-subject]*Enter subject*
|What’s the subject of your email? Enter the subject in the corresponding language.
*_Note:_* By default, the language abbreviation is saved as subject. You can <<#adjust-subject, adjust>> the subject at any time.

| *Save*
|Saves the settings.

2+^|[#intable-content-and-subject]*Content and subject* +
This area is automatically opened.

|[#intable-template-settings-subject]*Subject*
|You can see the template’s subject here. You can <<#adjust-subject, adjust the subject>>, if needed. +
Click on material:integration_instructions[] (*Show variables*) at the end of the line to open the variable list. You can either search for the desired variable using the categories and sub-categories or you enter the variable’s name into the search field. When you click on the desired variable, the corresponding twig expression including the double curly brackets will be inserted in the subject line. +
*_Note:_* The *Subject* field is _not_ available for templates of the type *Header* and *Footer*.

|[#intable-template-settings-edit]*Edit*
|At the end of the *Content and subject* line, click on material:edit[] to edit the content of the template and to insert <<#insert-widget, widgets>> and xref:crm:emailbuilder-variables-twig-expressions.adoc#available-variables[variables]. +
The editor area opens and you can edit the content of the template by clicking on the widgets. +
Click on material:css[] in the toolbar on the top to adjust the <<#intable-template-settings-custom-styles, custom styles>> of your template. +
*_Note:_* The email templates use the multipart format. This means that the emails are sent in an HTML and in a text version at the same time.

|[#intable-template-settings-preview]*Preview*
|Click on material:preview[] *Preview* at the end of the line *Content and subject* and select from the *Preview format* list the option *HTML* or *Plain text*. Enter the ID of the order into the *Order ID* field to fill the preview with real order data. The preview opens in a separate window.

2+^|[#intable-language-specific-settings]*Language settings* +
In this area, you carry out the language-specific settings of the template. For example, you can link product data sheets or user manuals in the corresponding language with the template and determine the time, date and number formats for each language individually. +
*_Note:_* If the template is of the type *Header* or *Footer*, only the field <<#intable-template-settings-custom-styles, custom styles>> is available in this area. A subject and static attachments are not available for headers and footers.

|[#intable-template-settings-copy]*Copy*
|At the end of the *Language settings* line, click on material:more_vert[] and then on material:content_copy[] *Copy* to copy the content and the language settings of the template for another language. +
*_Note:_* The content is _not_ translated automatically. You have to add the translation yourself.

|[#intable-template-settings-delete]*Delete*
|At the end of the *Language settings* line, click on material:more_vert[] and then on material:delete[] *Delete*. After you have confirmed your decision, the template will be deleted.

| *Language ID*
|The ID is shown here. This ID _cannot_ be changed.

|[#intable-template-settings-static-attachments]*Static attachments*
|This drop-down list provides all attachments that you uploaded before in the *CMS » Documents* menu. These are, for example, installation guides or product data sheets in the corresponding language. Select (material:check_box[role=skyBlue]) up to 3 static attachments from the drop-down list. +

| *UPLOAD* material:file_upload[]
| Here, you can upload the attachments directly from your computer without the need to upload them in the *CMS » Documents* menu in advance. +
*_Note:_* This drop-down list is _not_ available for templates of the type *Header* and *Footer*.

|[#intable-template-settings-custom-styles]*Custom styles*
|You can adjust the CSS styling of your template, header and footer here. The <<#examples-custom-styles, Custom styles: Common CSS examples>> chapter below this table contains some common examples for adjusting the styling of your template. +
*_Tip:_* Save the settings and open the *Preview* (material:preview[]) to check your entries and to make further adjustments, if needed.

|[#intable-template-settings-number-format]*Number format*
|Select the German or English notation for the number format from the list.

*_Example:_* The German notation shows the number formats as follows: 1,25 or 1.000,25. The English notation shows the number formats as follows: 1.25 or 1,000.25.

|[#intable-template-settings-decimals]*Number of decimals*
|Enter a number that defines the number of decimals.

|[#intable-template-settings-date-format]*Date format*
a|Select the date format from the drop-down list.

`dd` represents the day, `mm` the month and `yyyy` the year. By default, the date format `dd.mm.yyyy` is preselected for German systems and the format `dd-mm-yyyy` for all other languages. +
Available formats:

* yyyy-mm-dd
* dd.mm.yyyy
* dd-mm-yy
* dd/mm/yyyy
* mm-dd-yyyy

Also note the code examples regarding the date format for the code widget on this xref:crm:emailbuilder-code-examples.adoc#code-example-date-format[page].

|[#intable-template-settings-time-format]*Time format*
a|Select the time format from the drop-down list.

`hh` represents the hour in 12h format, `HH` represents the hour in 24h format, `ii` the minutes and `ss` the seconds. `a` returns the addition AM or PM depending on the time of day. By default, the time format `HH:ii` is preselected. +
Available formats:

* hh:ii:ss a
* hh.ii.ss a
* hh-ii-ss a
* hh:ii a
* hh.ii a
* hh-ii a
* HH:ii:ss
* HH.ii.ss
* HH-ii-ss
* HH:ii
* HH.ii
* HH-ii

2+^|[#intable-general-template-settings]*General settings* +
In the *General settings* area on the right side of your screen, you carry out the general settings for the template in the corresponding language. 

|[#intable-template-settings-name]*Name*
|You can see the name here that you have just entered. If needed, you can adjust the name.

|[#intable-template-settings-owner]*Owner*
|Select the owner from the drop-down list.

|[#intable-template-settings-client]*Client*
|Select (material:check_box[role=skyBlue]) one or multiple clients from the list.

|[#intable-template-settings-header]*Header*
|You can see the header here that you have just selected for the template. If needed, you can select another header. +
*_Important:_* Make sure to select a header here that has the same language as the template.

|[#intable-template-settings-footer]*Footer*
|You can see the footer here that you have just selected for the template. If needed, you can select another footer. +
*_Important:_* Make sure to select a footer here that has the same language as the template.

|[#intable-template-settings-dynamic-attachments]*Dynamic attachments*
|This drop-down list provides all xref:orders:order-documents.adoc#100[location-based documents] that you set up in the *Setup » Client » [Select client] » Locations » [Select location] » Documents* menu and in the *Setup » Documents » DocumentBuilder* menu. +
The option *Custom order document* refers to the document that you have created in the xref:orders:document-builder.adoc#[DocumentBuilder]. +
If you select the option *External documents*, all external documents that you have uploaded in the *Documents* area of the order will be attached to the email template. +
Select (material:check_box[role=skyBlue]) up to 4 dynamic attachments from the drop-down list.

//| *From*
//|This is the sender of the email just as it is saved in the email settings of your system.

|[#intable-template-settings-reply-to]*Reply to*
|Who is the recipient of this email? Enter the email address(es). +
*_Note:_* When you enter several email addresses, separate them with a comma each.

|[#intable-template-settings-cc]*CC*
|To whom do you want to send a copy of this email? Enter the email address(es). +
*_Note:_* When you enter several email addresses, separate them with a comma each.

|[#intable-template-settings-bcc]*BCC*
|To whom do you want to send a blind copy of this email? Enter the email address(es). +
*_Note:_* When you enter several email addresses, separate them with a comma each.

2+^|[#intable-toolbar]*Toolbar*

|[#intable-toolbar-save]*Save*
|Saves the changes that you have made to the template.

|[#intable-toolbar-template-usage]*Template usage*
|Click on material:assessment[] to open the *Template usage* window. Here, you can see in which areas of your system the EmailBuilder template has been used. For further information, refer to this <<#template-usage, chapter>>.

|====

[#examples-custom-styles]
== Custom styles: Common CSS examples

<<#table-emailbuilder-examples-css-styling>> lists some common examples to adjust the CSS styling of your template. You can adjust the CSS styling using the following options: 

* in the *Language settings* are of the template in the *Custom styling* field
* by clicking on material:edit[] within in the template and then on material:css[]
* in the widget settings in the fields *Custom CSS* and *Custom element ID*

[IMPORTANT]
material:warning[] In order for the CSS styling to be displayed correctly, it has to be surrounded by a class or an element ID. +
If you want to save multiple CSS stylings for the template, enter all values one after the other, separated by a semicolon. +
*_Tip:_* Take a look at the CSS tutorial on this link:https://www.w3schools.com/css/default.asp[page^] that comes with illustrative examples.

Expand the following box to see examples.

[.collapseBox]
.Positive and negative examples for the CSS styling
--
<<#image-emailbuilder-css-positive-example-without-class-name>> shows a *[green]#positive example#* for the CSS styling. Here, the class has no name, but only consists of *. +
*_Note:_* You can see an example of a class with name in <<#image-emailbuilder-css-own-class>> further down below in this box.

[[image-emailbuilder-css-positive-example-without-class-name]]
.CSS styling: *[green]#positive example#*
image::crm:emailbuilder-css-positive-example-without-class-name.png[width=320, height=180]

In contrast to the first image, <<#image-emailbuilder-css-negative-example>> shows a *[red]#negative example#*. Here, the class is missing. This is why CSS styling would _not_ work for the template.

[[image-emailbuilder-css-negative-example]]
.CSS styling: *[red]#negative example#*
image::crm:emailbuilder-css-negative-example.png[width=320, height=180]

If you have created multiple classes or element IDs and want to use them differently in your templates, we recommend that you always give the class or element ID a name. This makes it easier for you to recognise the correct class later if you want to select it in the widget settings in the *Custom CSS class* or *Custom element ID* fields:

image::crm:emailbuilder-custom-css-class-element-id.png[width=320, height=180]

The following two images show the example once with a named class and once with a named ID. +
*_Note:_* If you enter a name for the class, it always has to start with .. If you enter a name for the ID, it always has to start with #.

[[image-emailbuilder-css-own-class]]
.CSS styling: Own class
image::crm:emailbuilder-css-custom-class.png[width=320, height=180]

[[image-emailbuilder-css-own-id]]
.CSS styling: Own ID
image::crm:emailbuilder-css-custom-id.png[width=320, height=180]

--

[[table-emailbuilder-examples-css-styling]]
.Examples: CSS styling
[cols="2,4"]
|===
|CSS-Styling |Explanation

|Template width
|Enter `max-width:` in the *Custom styles* field followed by the desired width in pixel. +
*_Example:_* `max-width:1200px`

|Background colour
|Enter `background-color:` in the *Custom styles* field followed by the desired link:https://htmlcolorcodes.com/[HTML colour code^]. +
*_Example:_* `background-color:&#35;A9F5D0;`

|Font colour
|Enter `color:` in the *Custom styles* field followed by the desired link:https://htmlcolorcodes.com/[HTML colour code^]. +
*_Example:_* `color:&#35;A0A1B;`

|Font size
|Enter `font-size:` in the *Custom styles* field followed by the desired font size in pixel. +
*_Example:_* `font-size:20px;`

|Font weight
|Enter `font-weight:` in the *Custom styles* field followed by the desired font weight. +
*_Example:_* `font-weight:700;`

|Text alignment
|Enter `text-align:center;` in the *Custom styles* field if the text should be placed in the middle. Enter `text-align:right;` if the text should be aligned on the right.

|Background image
|Enter `background-image: url(_link_to_image_);` in the *Custom styles* field and replace `_link_to_image_` with the corresponding image link to show a background image in your template.

|Text frame
|Enter e.g. `border: 1px solid blue;` in the *Custom styles* field to insert a blue frame with 1px around the text.

|Inner margin
|Enter `padding:10px;` in the *Custom styles* field if the margin should be 10px on all sides. +
Enter `padding: 10px 20px;` if the margin should be 10px on the top and bottom and 20px on the left and right sides.

|===

[#insert-widget]
== Inserting a widget into a template

In the editor, you can find a selection of widgets whose contents are already pre-configured for you. It is possible for some widgets to later insert xref:crm:emailbuilder-variables-twig-expressions.adoc#available-variables[variables]. +
The following widgets are available:

* Two-column layout
* Three-column layout
* Text
* Code
* Contact address
* Order address
* Order items
* Item list
* Image
* If-else widget

For example, you will find in the *Order items* widget a pre-defined list with the most important variables around the ordered item such as item name, the number of ordered items, the prices, the shipping costs and the total invoice amount. However, you can adjust the content at any time according to your needs and add further column names and individual items.

Proceed as described below to insert one or multiple widgets into your template.

[.instruction]
Inserting a widget into a template:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template you want to edit.
. Click on the template.
. Click on *Edit* (material:edit[]). +
→ The editor opens and the widgets are loaded.
. Click on the widget on the left side and drag-and-drop it to the shaded area.
. Depending on the widget you are using, click on material:edit[] or material:settings[] and carry out the settings. Note the explanations about the individual widgets and their editing options in <<#table-available-widgets-emailbuilder>>.
. *Save* (material:save[]) the settings.

[[table-available-widgets-emailbuilder]]
.Available widgets in the EmailBuilder
[cols="1,3a"]
|====
|Widget |Explanation

|[#intable-widget-two-column-layout]*Two-column layout*
a|Allows to display text in a two-column layout. +
For further details about this widget, refer to the <<#widget-two-column-layout, Widget: Two-column layout>> chapter below this table.

|[#intable-widget-three-column-layout]*Three-column layout*
a|Allows to display text in a three-column layout. +
For further details about this widget, refer to the <<#widget-three-column-layout, Widget: Three-column layout>> chapter below this table.

|[#intable-widget-text]*Text*
|In this widget, you can enter text and use variables. You can also format the text you entered. +
For further details about this widget, refer to the <<#widget-text, Widget: Text>> chapter below this table.

|[#intable-widget-code]*Code*
|In this widget, you can insert text in HTML format and use xref:crm:emailbuilder-variables-twig-expressions.adoc#twig-code-widget[twig expressions]. To do so, some basic HTML skills are needed. +
For further details about this widget, refer to the <<#widget-code, Widget: Code>> chapter below this table.

|[#intable-widget-contact-address]*Contact address*
|This widget contains data of the contact address. The layout of the address depends on the settings that you saved in the *Setup » CRM » Address layout* menu. +
For further details about this widget, refer to the <<#widget-contact-address, Widget: Contact address>> chapter below this table.

|[#intable-widget-order-address]*Order address*
|This widget contains data of the order address. The layout of the address depends on the settings that you saved in the *Setup » CRM » Address layout* menu. +
For further details about this widget, refer to the <<#widget-order-address, Widget: Order address>> chapter below this table.

|[#intable-widget-order-items]*Order items*
|This widget contains a pre-defined layout for the order items that you can adjust, of course. You can add columns, adjust the column’s width and carry out more settings. +
For further details about this widget, refer to the <<#widget-order-items, Widget: Order items>> chapter below this table.

|[#intable-widget-item-list]*Item list*
|In this widget, you can enter text and use variables. Note that you can only use variables from the sub-category xref:crm:emailbuilder-variables-twig-expressions.adoc#variables-order-order-items[Order / Order items (only for item list widget)] in this widget. +
For further details about this widget, refer to the <<#widget-item-list, Widget: Item list>> chapter below this table.

|[#intable-widget-image]*Image*
|Use this widget to upload images such as your company logo to show it in your email templates. +
For further details about this widget, refer to the <<#widget-image, Widget: Image>> chapter below this table.

|[#intable-widget-if-else]*If-else widget*
|Use this widget to implement if-else conditions. +
For further details about this widget, refer to the <<#widget-if-else, Widget: If-else>> chapter below this table.

|====

[#widget-two-column-layout]
=== Widget: Two-column layout

This is widget is a structural widget. It allows to display text in a two-column layout.

Click on material:settings[] to open the settings. You can also determine the relation how the fields are displayed. The following values are available:

* 50% / 50% (standard)
* 30% / 70%
* 70% / 30%

You can insert further widgets in this widget by dragging them to one of the two columns. Insert, for example, an <<#widget-image, image widget>>. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

Click on *Close settings* (material:close[]) to close the settings. Click on *Delete widget* (material:delete[]) to remove the widget.

[#widget-three-column-layout]
=== Widget: Three-column layout

This is widget is a structural widget. It allows to display text in a three-column layout.

You can insert further widgets in this widget by dragging them to one of the three columns. Insert, for example, an <<#widget-image, image widget>>.

Click on material:settings[] to open the settings. Here, you can remove the widget by clicking on *Delete widget* (material:delete[]). Further settings cannot be carried out in this area. Click on *Close settings* (material:close[]) to close the settings. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

[#widget-text]
=== Widget: Text

You can enter text in this widget and use xref:crm:emailbuilder-variables-twig-expressions.adoc#[variables]. You can also format the text you entered. To do so, double-click on the word that you want to format.

Click on material:edit[] to open the list with the variables on the left side of the screen. Use the search function to find the variables or find the appropriate variables by expanding the individual areas (material:chevron_right[]). Click on the variable you want to insert. Enter additional text in the widget, if needed.

Click on material:settings[] to open the settings. Use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>. +
Here, you can remove the widget by clicking on *Delete widget* (material:delete[]). Click on *Close settings* (material:close[]) to close the settings.

|[#intable-widget-code]*Code*
|In this widget, you can insert text in HTML format and use xref:crm:emailbuilder-variables-twig-expressions.adoc#twig-code-widget[twig expressions]. To do so, some basic HTML skills are needed.

Click on icon:code[] to open the view. +
On the left side of the code editor, you can see the xref:crm:emailbuilder-variables-twig-expressions.adoc#available-variables[list with the available variables]. The difference to the variable list that opens in the text widget, for example, is that the twig expression is automatically inserted into the code editor when you click on the variable.

Click on material:settings[] to open the settings. Here, you can remove the widget by clicking on *Delete widget* (material:delete[]). Further settings cannot be carried out in this area. Click on *Close settings* (material:close[]) to close the settings. 

Also note the code examples for the code widget on this xref:crm:emailbuilder-code-examples.adoc#code-example-code-widget[user manual page].

[#widget-code]
=== Widget: Code

In this widget, you can insert text in HTML format and use xref:crm:emailbuilder-variables-twig-expressions.adoc#twig-code-widget[twig expressions]. To do so, some basic HTML skills are needed.

Click on icon:code[] to open the view. +
On the left side of the code editor, you can see the xref:crm:emailbuilder-variables-twig-expressions.adoc#available-variables[list with the available variables]. The difference to the variable list that opens in the text widget, for example, is that the twig expression is automatically inserted into the code editor when you click on the variable.

Click on material:settings[] to open the settings. Here, you can remove the widget by clicking on *Delete widget* (material:delete[]). Further settings cannot be carried out in this area. Click on *Close settings* (material:close[]) to close the settings. 

Also note the code examples for the code widget on this xref:crm:emailbuilder-code-examples.adoc#code-example-code-widget[user manual page].

[#widget-contact-address]
=== Widget: Contact address

This widget contains data of the contact address. The layout of the address depends on the settings that you saved in the *Setup » CRM » Address layout* menu. This means: The layout in the EmailBuilder is displayed in the same way as the address layout that you defined as the xref:crm:preparatory-settings.adoc#[standard address layout] in the *Setup » CRM » Address layout* menu.

Click on material:settings[] to open the settings. Select the address type *Invoice address* or *Delivery address* from the drop-down list.

Click on *Close settings* (material:close[]) to close the settings. Click on *Delete widget* (material:delete[]) to remove the widget. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

*_Note:_* You can find all addresses that are saved for the contact in the contact data record in the xref:crm:edit-contact.adoc#addresses[Addresses] area. The contact’s primary delivery and invoice address are saved in the contact data record in the xref:crm:edit-contact.adoc#primary-address[Primary address] area.

[#widget-order-address]
=== Widget: Order address

This widget contains data of the order address. The layout of the address depends on the settings that you saved in the *Setup » CRM » Address layout* menu. This means: The layout in the EmailBuilder is displayed in the same way as the address layout that you defined as the xref:crm:preparatory-settings.adoc#[standard address layout] in the *Setup » CRM » Address layout* menu.

Click on material:settings[] to open the settings. Select the address type *Invoice address* or *Delivery address* from the drop-down list.

Click on *Close settings* (material:close[]) to close the settings. Click on *Delete widget* (material:delete[]) to remove the widget. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

*_Note:_* You can find all addresses that are saved for the contact in the contact data record in the xref:crm:edit-contact.adoc#addresses[Addresses] area. The contact’s primary delivery and invoice address are saved in the contact data record in the xref:crm:edit-contact.adoc#primary-address[Primary address] area.

[#widget-order-items]
=== Widget: Order items

This widget contains a pre-defined layout for the order items that you can adjust, of course.

Click on material:settings[] to open the settings. Select from the *Currency settings* list whether you want to show the currency symbol (e.g. *€*) or the ISO symbol (e.g. *EUR*) in the widget.

Use the drop-down list *Column value* to decide which content is to be shown in the columns and as individual positions. +
Enter in the fields *Set column width* below a value in percent to adjust the table’s column widths. +
If you want to change the column name: Enter in the fields *Set column name* each the new name for the column shown. +
Click on material:unfold_more[] to change the order of the columns shown. +
You can immediately see in the preview how the changes affect the table. +
Click on material:add[] (*Add new entry*) in the settings to add further columns. Click on *Remove entry* (material:delete[]) to delete the columns from the overview. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

*Available columns and individual positions in the table of the “Order items” widget*

*Available columns*:

* Quantity
* Item ID
* Item name
* Item image
* Attribute values
* Barcode
* Barcode image
* Unit price (gross)
* Unit price (net)
* External variation ID
* VAT value
* VAT rate
* Price (gross)
* Price (net)
* Discount (%)
* Discount (gross)
* Discount (net)
* Variation ID
* Variation name
* Variation number
* Availability
* Order property value

*_Tip:_* You can enter a number in percent in the *Column width* field to determine the column width yourself.

*Available individual positions*:

* VAT rates and values
* Discount (gross)
* Discount (net)
* Shipping costs (gross)
* Shipping costs (net)
* Value of items (gross)
* Value of items (net)

* Open amount
* Amount paid
* Invoice amount (gross)
* Invoice amount (net)

[#widget-item-list]
=== Widget: Item list

In this widget, you can enter text and use variables. Note that you can only use variables from the sub-category xref:crm:emailbuilder-variables-twig-expressions.adoc#variables-order-order-items[Order / Order items (only for item list widget)] in this widget.

Click on material:edit[] to open the list with the variables on the left side of the screen. Use the search function to find the variables or find the appropriate variables by expanding the individual areas (material:chevron_right[]). Click on the variable you want to insert. Enter additional text in the widget, if needed.

Click on material:settings[] to open the settings. Use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>. +
Here, you can remove the widget by clicking on *Delete widget* (material:delete[]). Click on *Close settings* (material:close[]) to close the settings.

[#widget-image]
=== Widget: Image

Use this widget to upload images such as your company logo to show it in your email templates.

Click on material:settings[] to open the settings. You can upload the image, enter the width and height of the image in px or %, enter an alternative text, adjust the styling in CSS format and save the image link. +
*_Important:_* Always use `https` for the image link. +
*_Tip:_* If you want to place the image to a certain position, you can adjust the CSS styling in the field *Custom styling*, e.g. `margin-left: auto; margin-right: 0; display: block;` or `float:right;display:block;`. Further information can be found link:https://www.w3schools.com/css/css3_images.asp[here^] and link:https://www.caniemail.com/[here^].

Click on *Close settings* (material:close[]) to close the settings. Click on *Delete widget* (material:delete[]) to remove the widget. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

[#widget-if-else]
=== Widget: If-else

Use this widget to implement if-else conditions. +
Click on material:settings[] to open the settings. You can select the following *variables* here:

* Client ID
* Payment method
* Shipping profile
* Class
* Availability
* Warehouse
* Order referrer
* Language
* Variation ID

After you selected a variable, select one of the following *relational operators* from the list:

* Is equal to
* Is not equal
* Greater than
* Less than
* Greater than or equal to
* Less than or equal to

Once you have selected a relational operator, the values available in your system for the variable selected above are available. Select an option from the list. +
*_Note:_* For the variable *Variation ID*, an input field is available, for all other variables a drop-down list.

Click on *Close settings* (material:close[]) to close the settings. Click on *Delete widget* (material:delete[]) to remove the widget. +
*_Note:_* In the widget settings, you can use the *Custom CSS* and *Custom element ID* fields to adjust your template’s CSS styling yourself. You can find further information and examples in this <<#examples-custom-styles, chapter>>.

////
[TIP]
.Weitere twig expressions für das Artikellisten-Widget
====
In addition, you can use the twig expressions listed in the following in the item list widget. Note that these values are only available as twig expressions. Therefore, you _cannot_ search for them in the list of available variables for the item list widget in the EmailBuilder.

* {⁠{order.formattedSubtotals.totalDiscountGross}⁠} 
// ** Returns the gross total amount of the discount.

* {⁠{order.formattedSubtotals.totalDiscountNet}⁠}
// ** Returns the net total amount of the discount.

* {⁠{order.formattedSubtotals.subtotalPriceGross}⁠}
// ** Returns the gross price.

* {⁠{order.formattedSubtotals.subtotalPriceNet}⁠}
// ** Returns the net price.

* {⁠{order.formattedSubtotals.shippingCostsGross}⁠}
// ** Returns the gross shipping costs.

* {⁠{order.formattedSubtotals.shippingCostsNet}⁠}
// ** Returns the net shipping costs.

* {⁠{order.formattedSubtotals.vats}⁠}
// ** Returns the VAT rates.

====
////

[#show-widget-preview]
=== Showing the preview of the widget

Check the widget by opening the preview.

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template for which you want to show the preview.
. Click on the template.
. Click on *Preview* (material:preview[]).
. Select *Preview HTML* or *Preview plain text*. +
→ The preview opens in a separate window.
. Check the widget.
. *Close* the window.

If you are not satisfied with the result, <<#edit-widget, edit>> the widget.

[#edit-widget]
== Editing the widget

You can edit the content of the widgets at any time. To do so, proceed as described below.

[TIP]
Note the information about line spacing in our xref:crm:faq.adoc#faq-line-spacing[FAQ area].

[.instruction]
Editing a widget:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template you want to edit.
. Click on the template.
. Click on *Edit* (material:edit[]). +
→ The editor opens and the widgets are loaded.
. Click on material:settings[]. +
→ The widget settings open – if they are available.
. Click on material:edit[] - if available. +
→ The variables open on the left side.
. Use the search function to find the variables or find the appropriate variables by expanding the individual areas (material:chevron_right[]).
. Click on the variable that you want to show in the widget. +
→ The variable is taken to the widget.
. *Save* the settings.

[#use-default-templates]
== Using default templates

Before you <<#create-folder, created a new folder>>, you might have recognised the folders *Standardvorlagen* and *Default templates*? These folders contain pre-defined templates in German and English language. You can either use the default templates as they are available in your system or you can adjust their content according to your needs.

Besides the content of the email template, the subject is already filled in in a default template. This means that you only have to select the owner, the client and header and footer and fill the fields *Reply to* and, if needed, also *CC* and *BCC*. Also it is possible to adjust the pre-filled subject and attach dynamic and static attachments as well as define the number format, date format and date format and the number of decimals.

[TIP]
.Switching between multiple templates
====
If you later edit multiple templates in the editor at the same time, you can use the navigation on the left to switch between the individual templates. The template you have just opened is highlighted in blue at the beginning of the line.
====

[[image-emailbuilder-example-default-template]]
.Example: Default template *Order: Shipping confirmation*
image::crm:emailbuilder-example-default-template.png[width=640, height=360]

[#create-default-template]
=== Creating a default template

12 default templates in total are available in German and English each in your system. When creating a new template, you can select one of these default templates and adjust it, if needed. Refer to the <<#default-templates-name-and-subject, Available default templates>> chapter to see which default templates are available and what their subject is.

[.instruction]
Creating a default template:

. Go to *CRM » EmailBuilder*.
. In the line of the folder in which you want to create a default template, click on material:more_vert[] and then on material:add[] *Add* material:play_arrow[].
. Click on material:description[] *Template*. +
→ The *Create new template* window opens.
. Enter a name for the template.
. Select header and footer for the default template from the drop-down list.
. Select a default template from the drop-down list *Build from default template*.
. *Save* (material:save[]) the settings. +
→ The template is created and opened. 

[TIP]
If you do not want to create the default template within a folder, click on the start page of the *CRM » EmailBuilder* menu in the bottom left on material:add[] *Add* material:play_arrow[] and select material:description[] *Template* afterwards. The template will then be created on the first level and does not belong to a folder.

[#default-template-adjust-subject]
=== Adjusting the default template’s subject

As soon as the default template is created, you can see the prefilled content in the toolbar. Simply click in the line of the subject to adjust it. Click on material:integration_instructions[] (*Show variables*) at the end of the subject line to open the variable list. You can either search for the desired variable using the categories and sub-categories or you enter the variable’s name into the search field. When you click on the desired variable, the corresponding twig expression including the double curly brackets will be inserted in the subject line.

[#default-template-static-attachments-and-styling]
== Selecting static attachments and adjusting the default template’s styling

In the *Language settings* area, you can select up to 3 static attachments that you can attach to your email template. Also in this area, you can adjust the <<#examples-custom-styles, custom styles>> of the template such as the template width and font size and define the <<#intable-template-settings-number-format, number format>>, <<#intable-template-settings-date-format, date format>> and <<#intable-template-settings-time-format, time format>> for your templates.

[#edit-default-template]
== Editing the default template

Besides the language settings where you can select static attachments for your template, for example, you can also adjust the template’s content or the subject by clicking on material:edit[] in the *Content and subject* line.

In the *General settings* area of the template, select an owner, the client and the header and footer, if not done already. In this area, you can also select up to 4 dynamic attachments and fill the fields *Reply to*, *CC* and *BCC*.

[#default-templates-name-and-subject]
== Available default templates

Would you like to know which default templates are already available in the EmailBuilder and how their subjects are? Simply expand the following area by clicking on material:expand_more[].

[.collapseBox]
.Default templates in the EmailBuilder and their subjects
--

*English default templates in the EmailBuilder and their subjects*

[[table-default-templates-english]]
.English default templates in the EmailBuilder and their subjects
[cols="2,2"]
|====
|English template |Subject

|Order: Changes
|Change to your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Partial payment received
|Partial payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; received

|Order: Shipping confirmation
|Shipping confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Payment complete
|Payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; fully received

|Order: Payment reminder
|Payment status for the order placed on &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125; with order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Invoice
|Invoice for order ID: &#123;&#8288;&#123;order.id&#125;&#8288;&#125; from &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125;

|eBay: dispute / cancellation, no payment
|Your order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; was cancelled

|eBay: Order confirmation
|eBay auction won: Order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Order confirmation with bank details without checkout
|Order confirmation for your eBay order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: New password
|Your requested login details for our online shop

|Shop: Newsletter registration
|Confirmation of newsletter registration

|Shop: Order confirmation
|Order confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

*German default templates in the EmailBuilder and their subjects*

[[table-default-templates-german]]
.German default templates in the EmailBuilder and their subjects
[cols="2,2"]
|====
|German template |Subject

|Auftrag: Änderung
|Auftragsänderung Ihrer Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Teilzahlung erhalten
|Teilzahlung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; erhalten

|Auftrag: Versandbestätigung
|Versandbestätigung für Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Zahlungseingang vollständig
|Zahlung für Auftrag &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vollständig erhalten

|Auftrag: Zahlungserinnerung
|Zahlungsstatus für den Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vom &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125;

|Auftrag: Rechnung PDF-Anhang
|Rechnung zu Order-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vom &#123;&#8288;&#123;order.formattedDates.createdOn&#125;&#8288;&#125;

|eBay: Disput / Storno, keine Zahlung
|Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; wurde storniert

|eBay: Eingangsbestätigung Bestellung
|eBay-Auktion gewonnen: Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Eingangsbestätigung mit Bankdaten ohne Checkout
|Eingangsbestätigung zum eBay-Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: Neues Passwort
|Ihre angeforderten Zugangsdaten zu unserem Webshop

|Shop: Newsletter-Anmeldung
|Bestätigung zur Newsletter-Anmeldung

|Shop: Eingangsbestätigung Bestellung
|Auftragsbestätigung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

--

[#template-show-preview]
== Showing the preview of the template

You can view a preview of your template at any time. This is possible either in HTML format or as plain text. Enter an order ID to fill the preview with real order data. Proceed as follows to open the preview of the template.

[TIP]
.Email templates are sent in multipart format
====
The email templates in the EmailBuilder use the multipart format. This means that the emails are sent in an HTML and in a text version at the same time. +
This ensures that your emails can be read by all recipients, even if their email client restricts or completely disables the display of HTML in emails. On the other hand, the HTML versions of your emails that you designed are displayed for the recipients whose email client allows the display of HTML. The advantage for you is that you only have to maintain one email template.
====

[.instruction]
Showing the preview:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template for which you want to show the preview.
. Click on the template.
. Click on *Preview* (material:preview[]). +
→ The *Preview* window opens.
. Select from the drop-down list *Preview format* the option *HTML* or *Plain text*.
. In the *Order ID* field, enter the ID of the order that you want to see a preview of.
. Click on material:preview[] *PREVIEW*. +
→ The preview opens in a separate window. +
*_Note:_* Your system remembers the value of the order ID you entered until the next login or until the browser cache is cleared.
. Check the template.
. *Close* the window.

If you are not satisfied with the result, <<#edit-template, edit>> the content of your template.

[#search-template]
== Searching for a template

In order to search for specific templates, enter a search term in the search fields. You can enter multiple search terms into the search fields at once. This makes your search run quicker and more accurate.

[.instruction]
Searching for a template:

. Go to *CRM » EmailBuilder*.
* *_Alternative 1:_* Enter a value in the search field and select the appropriate filter from the suggestion list. *_Example:_* If you enter a number, the possible filters with this ID will be suggested such as for example the template ID.
* *_Alternative 2:_* Click on material:tune[] to narrow down the search results with filters.
. Note the explanations about the filters in <<#table-search-template>>. +
*_Tip:_* You can enter multiple search terms into the search fields at one time. This makes your search run quicker and be more accurate.
. Click on material:search[] *Search*. +
→ The templates that correspond to the search criteria entered are shown in the overview.

[[table-search-template]]
.Available filters for the template search
[cols="1,3"]
|====
|Filter |Explanation

| *ID*
|Enter an ID to search for the template with this exact ID.

| *Language*
|Select (material:check_box[role=skyBlue]) a language from the drop-down list to only search for templates that were created in this language. You can select one or multiple languages.

| *Name*
|Enter a name to search for templates with this name. +
*_Note:_* If you have already created “old” templates in the past in the *Setup » Client » [Select client] » Email » Templates* menu, you can use this field to search for the ID of the old template. During the migration, the old ID of the template has been written in brackets behind the name.

| *Client*
|Select (material:check_box[role=skyBlue]) a client from the drop-down list to only search for templates that were created for this client.

| *Type*
|Select (material:check_box[role=skyBlue]) a type from the drop-down list to only search for templates with this template type. You can select one or multiple types. +
Available options: *Template*, *Header*, *Footer*.

| *Owner*
|Select (material:check_box[role=skyBlue]) an owner from the drop-down list to only search for templates that were created for this owner.

| material:replay[]
|Resets the selected filter criteria.

| material:search[] *SEARCH*
|Starts the search. +
→ The templates that correspond to the search criteria are displayed. +
*_Tip:_* Don’t choose any filters if you want to see all of the templates in the overview.

|====

[#move-template]
== Moving a template

You can move your templates to another folder at any time. To do so, proceed as described below.

[.instruction]
Moving a template:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template you want to move.
. In the line of the template, click on material:more_vert[] and then on material:open_with[] *Move*. +
→ The *Move* window opens.
. Select the target folder.
. Click on material:open_with[] *Move*. +
→ The template is moved to the selected folder.

[#edit-template]
== Editing a template

The following instruction describes how to edit templates in general. The procedure is thus identical for editing all templates, i.e. also editing the templates that you created for the header and the footer.

[TIP]
.Switching between multiple templates
====
If you later edit multiple templates in the editor at the same time, you can use the navigation on the left to switch between the individual templates. The template you have just opened is highlighted in blue at the beginning of the line.
====

[.instruction]
Editing a template:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template you want to edit.
. Click on the template.
. Carry out the changes. Note <<#table-emailbuilder-create-template>>.
. *Save* (material:save[]) the settings.

Besides the language settings where you can select static attachments for your template, for example, you can also adjust the template’s content or the subject by clicking on material:edit[] in the *Content and subject* line.

In the *General settings* area of the template, select an owner, the client and the header and footer, if not done already. In this area, you can also select up to 4 dynamic attachments and fill the fields *Reply to*, *CC* and *BCC*.

[#adjust-subject]
== Adjusting the template’s subject

As soon as the template is created, you can see the template’s language in the toolbar. Simply click in the line of the subject to adjust it. Click on material:integration_instructions[] (*Show variables*) at the end of the subject line to open the variable list. You can either search for the desired variable using the categories and sub-categories or you enter the variable’s name into the search field. When you click on the desired variable, the corresponding twig expression including the double curly brackets will be inserted in the subject line.

[#static-attachments-and-styling]
== Selecting static attachments and adjusting the template’s styling

In the *Language settings* area, you can select up to 3 static attachments that you can attach to your email template. Also in this area, you can adjust the <<#examples-custom-styles, custom styles>> of the template such as the template width and font size and define the <<#intable-template-settings-number-format, number format>>, <<#intable-template-settings-date-format, date format>> and <<#intable-template-settings-time-format, time format>> for your templates.

[#add-language]
== Adding a language to the template

[[image-emailbuilder-add-languages]]
.Adding languages to a template
image::crm:emailbuilder-new-language.png[width=640, height=360]

You can add the following languages to your template, your header and your footer:

* All
** Select *All* if you use your company logo in the header only and therefore don’t need to take into account any content-related adjustments or a translation to another language.
* German
* English
* Bulgarian
* French
* Italian
* Spanish
* Turkish
* Dutch
* Polish
* Portuguese
* Norwegian
* Romanian
* Danish
* Swedish
* Czech
* Russian
* Slovakian
* Chinese
* Vietnamese

Let’s assume, you have created a shipping confirmation in English and added widgets and variables. Now, you want to create this shipping confirmation also in French for your French-speaking customers. The quickest way is to copy the template and adjust the translation afterwards. How to proceed in this case is described in the <<#copy-template, Copying a template>> chapter.

[IMPORTANT]
.Important: Add header and footer in the corresponding language
====
If you created a template in <<#add-language, multiple languages>>, remember to create also the header and footer in these languages and to link them with the template. Otherwise, the template cannot be sent.
====

[#copy-template]
== Copying a template

You want to copy an existing template to save time when creating a new template with similar content? To do so, proceed as follows.

[TIP]
_Before copying the template_, carry out the settings in the <<#intable-general-template-settings, General settings>> area. The advantage of this sequence is that you also copy the settings themselves and not only the template content. Thus, you don’t need to carry out the settings for the other templates again.

[.instruction]
Copying a template:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template you want to copy.
. In the line of the template that you want to copy, click on material:more_vert[] and then on material:content_copy[] *Copy*. +
→ A new window opens.
. Enter the subject of the copied template in the selected language.
. Select in the folder structure under *Target* the target folder that you want to use to save the template in.
. Click on material:content_copy[] *Copy*. +
→ The template is copied and opened.
. Adjust the subject.
. Now <<#edit-template, edit>> the copied template according to your needs and adjust the translation.

[#delete-template]
== Deleting a template

Proceed as described below to delete templates. Only the assembled template will be deleted but _not_ the components contained in it such as the header and footer.

[.instruction]
Deleting a template:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template you want to delete.
. In the line of the template that you want to delete, click on material:more_vert[] and then on material:delete[] *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on material:delete[] *Delete*. +
→ The template is deleted.

[#remove-language]
== Removing a language from the template

Proceed as described below to remove a certain language from the template.

[.instruction]
Removing a language from the template:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template from which you want to remove a language.
. Click on the template.
. Click on material:more_vert[] and then on material:delete[] *Delete* at the top of the template’s tab whose language you want to remove. +
→ A window opens and you need to confirm your decision.
. Click on material:delete[] *Delete*. +
→ The language is removed from the template.

[#template-usage]
== Viewing the template usage

Here, you can see with one click in which areas of your system the EmailBuilder template has been used.

The following filters are available:

* Email accounts assistant - Automatic despatch
* Messenger inbox
* Messenger automation
* Order event
* Order procedure
* Process

[.instruction]
Viewing the template usage:

. Go to *CRM » EmailBuilder*.
. Expand the folder (material:chevron_right[]) that contains the template from which you want to remove a language.
. Click on the template.
. Click at the top on material:assessment[] (*Template usage*). +
→ The *Template usage* window opens. The overview lists the location in the system in which the template has been used as well as the template’s name and whether the template is active or not.
. Use the filters (material:tune[]) *Location/Type* and *Is active* to narrow down the search results. +
*_Tip:_* Click on the respective line in the search results to be forwarded directly to the corresponding menu.
. Click on *Close* to close the window again.
