= Messenger
:keywords: Messenger, Messenger configuration, Messenger integration, Messenger service, Messenger assistant, activate Messenger, send emails with Messenger, emails messenger, send emails, receive emails
:description: Learn how to use the Messenger in plentysystems both to send and receive emails and to use it for internal communication purposes.
:page-aliases: messenger-testphase.adoc
:author: team-crm

[TIP]
.Guided tour available
====
The guided tour *Messenger overview* is available for the *CRM » Messenger* menu. The tour shows you the most important functions step by step. +
You can find the tour in the bottom left corner of the *CRM » Messenger* menu. Click on material:rocket_launch[] *Guided tours* to start the tour.
====

The *CRM » Messenger* menu allows you to manage the external communication with your customers via emails as well as the internal communication via messages. If you use the whisper mode in messages, these messages are only visible in your system and _cannot_ be seen by your contacts.

[#box-complete-assistant]
[IMPORTANT]
.Complete assistant only for sending and receiving emails via Messenger
====
If you want to use the Messenger for sending and receiving emails, you have to complete the *Messenger configuration* <<#complete-assistant, assistant>> in the *Setup » CRM » Messenger » Inboxes* menu. +
If you only want to whisper messages which means that you use the Messenger as notes only without sending and receiving emails via the Messenger, you do _not_ have to complete the *Messenger configuration* assistant.
====

The *CRM » Messenger* menu is structured as follows:

image::crm:messenger-menu-structure.png[width=640, height=360]

* *Navigation*: Here you can navigate through different parts of the menu. The currently selected area (blue background) is displayed in the main window on the right. Click on material:menu[] to expand or collapse the navigation bar. +
** Available areas in the navigation: <<#create-message, New conversation>>, <<#pin-conversation, Pinned conversations>>, <<#inbox, Inbox>>, <<#new-messages, New messages>>, <<#my-messages, My messages>>, <<#my-folders, My folders>>, <<#my-filters, My filters>>, <<#archive, Archive>>, <<#trash, Trash>> and shortcuts for the settings. The number behind the inbox shows the number of unread messages.
* *Toolbar*: Here you can <<#search-conversation, search>> for conversations, <<#configure-columns, adjust the columns in the overview>>, set the results to be shown per page and click through the pages with the conversations.
* *Main window*: Here you can see whichever area is currently open. +
** *Overview*: When you start a search, you’ll see the results in an overview. The overview provides information about the conversations found at a glance. You see, for example, the email addresses of the senders, the subject, the date when the message was received, the assigned tags and by means of the icon material:attach_file[], you can see whether the message has an attachment. +
** *Detail view*: When you open a message, the details will become visible below the main window. The detail view of a conversation is divided into the messages and the editor where you type in your replies.

[discrete]
== New features

[.collapseBox]
.New features compared to the “old” Messenger
--
You can find the following improvements in the new Messenger that haven’t been available in the “old” Messenger:

* Receiving emails from your customers
* Sending emails to your customers
* Using the group function in the Messenger
* Possibility to subscribe for conversations and receive notifications regarding new messages within this conversation
* Display in the back end when other system users are replying to a message
--

[#preparatory-settings]
== Preparatory settings

If users without admin rights should be able to work with the Messenger, a person with *Admin* access has to assign rights to those users. Moreover, you have to create tags in order that these are available for the Messenger. You also have to grant certain rights for the tags.

[#user-rights-users]
=== Assigning rights

:rights-purpose: see and create messages in the messenger
:right-one: pass:quotes[*CRM > Message > Read*]
:right-two: pass:quotes[*CRM > Message > Create*]
:right-three: pass:quotes[*CRM > Messenger > Read*]
:right-four: pass:quotes[*CRM > Messenger > Update*]
:right-five: pass:quotes[*CRM > Messenger > Create*]
:right-six: pass:quotes[*Comments > Read*]
:right-seven: pass:quotes[*Comments > Create*]
:right-eight: pass:quotes[*Setup > Tag > Read*]
:right-nine: pass:quotes[*Setup > Tag > Create*]

include::_includes:partial$rights.adoc[]


[#tags-messenger]
=== Creating tags for the Messenger

You can assign tags to the messages in the Messenger and filter them in the overview. Tags are keywords that make grouping messages very easy.

Which user rights are required and how to create tags is explained below.

[#rights-tags]
==== Assigning rights

include::_includes:page$tags-rights.adoc[]

[#create-tags]
==== Creating tags

include::_includes:page$tags-creation.adoc[]

[TIP]
.Creating tags for the area *Messenger: Billable messages*
====
If you want to create messages and <<#capture-minutes, capture minutes>> that should be _billed_ via the Messenger, you have to create tags for the availability *Messenger: Billable messages* in the same way. You have to add these tags to the <<#create-message, message>>.
====

[#search-tag]
==== Searching for tags

include::_includes:page$tags-search.adoc[]

[#complete-assistant]
=== Completing the assistant

[IMPORTANT]
.Complete assistant only for sending and receiving emails via Messenger
====
If you want to use the Messenger for sending and receiving emails, you have to complete the *Messenger configuration* <<#complete-assistant, assistant>> in the *Setup » CRM » Messenger » Inboxes* menu. +
If you only want to whisper messages which means that you use the Messenger as notes only without sending and receiving emails via the Messenger, you do _not_ have to complete the *Messenger configuration* assistant.
====

To be able to send and receive messages with the Messenger, you have to complete the *Messenger configuration* assistant in the *Setup » CRM » Messenger » Inboxes* menu. This assistant has several steps to complete. These steps are explained in the following.

[TIP]
You have to complete the assistant for every inbox that you want to create. +
You can assign tags to each inbox to be able to <<#search-conversation, filter>> for these tags later.

[#service-activation]
==== Service activation

In the *Service activation* step, activate the Messenger service for this inbox. If the button is blue (material:toggle_on[role=skyBlue]), the service is activated. If the button is grey (material:toggle_off[]), the service is _not_ activated.

If you later activate multiple inboxes, which means that you completed the assistant multiple times for the individual inboxes, you can deactivate the corresponding inbox again in this step.

[#email-forwarding]
==== Email forwarding

In the *Email forwarding* step, a cryptic email address is automatically created that builds the forwarding email address. Copy this email address and set up an email forwarding to this address with your email provider. This way, you ensure that your emails will be forwarded automatically. Note that you _cannot_ change this cryptic email address.

[TIP]
.Setting up an email forwarding with common providers
====
How to set up an email forwarding with common providers, is described on the user manual page xref:crm:practical-example-email-forwarding-messenger.adoc#[Practical example: Setting up email forwarding for the Messenger].
====

In the lower part, enter all email addresses that are allowed to send messages to the cryptic, forwarding email address stated above. You can add as many email addresses as you like by clicking on *Add new entry* (material:add[]). Existing email addresses can be deleted by clicking on *Remove entry* (material:delete[]). *_Note:_* At least one email address has to be entered here.

[#settings-email-despatch]
==== Settings for sending emails

In the *Settings for sending emails* step, save the login details of the email inbox that you want to use to send emails from. This is necessary to make sure that your system is able to send and receive emails via the Messenger.

After having entered the login details, select the encryption method and enter the sender email address and the sender name. This email address and this name will be shown to the recipients of your emails from this inbox.

*_Note for mailbox.org mailboxes:_* Enter the port *465* and select *SSL* as encryption method.

In the *Default inbox*, you can activate (material:check_box[role=skyBlue]) the option *Determine as default inbox* to make sure that this inbox is preselected when writing new messages in the Messenger.

Select also in this step an email template for the email despatch.

[IMPORTANT]
.Live mode in *Email accounts* assistant has to be activated
====
In the xref:crm:emailbuilder.adoc#email-server-login-details[Login details] step of the *Email accounts* assistant, the option *Activate live mode* has to be activated (material:check_box[role=skyBlue]) in the *Would you like to activate the live mode?* area. This ensures that the test mode will be deactivated and all emails sent to the respective recipients. 

Activating the live mode applies globally for the entire email despatch in plentysystems. Thus, it also applies for the email despatch via the Messenger.
====

[TIP]
.Use the default template *Messenger default NEW*
====
We recommend to use the default template *Messenger default NEW* for the Messenger. This template is already available in your system in the *CRM » EmailBuilder* menu in the *Default templates* folder. You can, of course, adjust this template according to your needs. This template will be automatically preselected when you write a new conversation.

The template contains the following variables:

* Name of the client in the subject line, displayed as &#123;&#8288;&#123;globals.clientName&#125;&#8288;&#125;
** So called _twig expressions_ in double curly brackets need to be inserted in the template’s subject because it is not possible to use “normal” variables in the subject line. For further information, refer to the xref:crm:emailbuilder.adoc#variables-emailbuilder[Available variables and twig expressions] chapter on the xref:crm:emailbuilder.adoc#[EmailBuilder] page.
* Full name
* Signature in HTML format
====

Of course, you can select a template in this step that you have created yourself in the *CRM » EmailBuilder* menu.

[#settings-email-receipt]
==== Settings for receiving emails

In the *Settings for receiving emails* step, save a name for the inbox. Also select one or multiple tags that should be assigned to the messages when these messages are received from and sent to the forwarded addresses.
You can also select a default type and default status in this step. New messages in this inbox will then receive this type and status. Furthermore, determine subscribers who should be informed in case of new messages in this inbox.

// Either select individual users from the drop-down list or select roles in order that all users that are assigned to this role will subscribe for new messages in this inbox.

If you activate (material:check_box[role=skyBlue]) the option *Activate notifications* in the last section, you will be informed in your plentysystems back end next to the material:notifications[] symbol as soon as a
<<#notification-new-message, new message is available in the Messenger>>.

[#summary]
==== Summary

In this step, a summary of all entries that you made in the single steps is listed. You can take a look at all the settings that you carried out, adjust setting within the steps, if needed and complete the assistant afterwards via the summary step.

[#collect-messages]
=== Collecting messages in the Messenger

In the *Messenger integration* step of the *Email accounts* assistant, you can determine whether all sent emails and attachments should be collected in the Messenger. Furthermore, you can decide in which inbox the emails should be collected and which tags should be assigned to the conversations.

If you activate the service to collect the emails, the emails from the following plentysystems areas will be saved and shown in the Messenger: 

* Automatic despatch
* Order events
* Order procedures
* Group function in the contact data record
* Orders » Orders
* Group function in the order

You can find the *Email accounts* assistant in the *Setup » Client » Global » Email accounts* menu. For further information about collecting the emails, refer to the xref:crm:emailbuilder.adoc#email-messenger-integration[Messenger integration] chapter on the xref:crm:emailbuilder.adoc#[EmailBuilder] page.

[#create-type-status]
=== Creating groups, types and statuses

Proceed as described below to create groups, types and statuses for the Messenger. Note that only a person with Admin rights is able to create groups, types and statuses.


==== Creating a group

Proceed as described below to create a new group for the Messenger.

[.instruction]
Creating a group:

. Go to *Setup » CRM » Messenger » Groups, types and statuses*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:checklist_rtl[] *Groups, types and statuses*.
. Click on material:add[] *Add group*.
. Enter a position number.
. Enter the German name for the group.
. Click on material:add[] (*Add language*) to add the group name also in English.
. Click on material:save[]. +
→ The group is created and the area *Types* is automatically opened.

Now, proceed as described in the following <<#messenger-add-type, chapter>>.

[#add-messenger-type]
==== Adding a type and status

You can create as many different types for a Messenger group as you want, e.g. `Customer inquiry` or `Complaint`. In the next step, you can add a status for the type with a colour and a progress indicator in percent. You can create groups, types and statuses in German and English.

The following describes how to create a status and a type directly one after the other. If you would like to add further statuses to an existing type at a later stage, the description in the <<#add-messenger-status, Adding a new status to an existing type>> chapter will help you.

[.instruction]
Adding a type:

. Go to *Setup » CRM » Messenger » Groups, types and statuses*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:checklist_rtl[] *Groups, types and statuses*.
. Open the group.
. In the *Types* area, click on material:add[] *Add type*.
. In the *Details* area, enter a number for the position.
. In the *Names* area, enter a name for the type.
. Enter a name for the type. +
*_Optional:_* Click on material:add[] *Add language* to add the type name also in English.
. *Save* (material:save[]) the settings. +
→ The type opens and the *Status* area appears.
. In the *Status* area, click on material:add[] *Add status*.
. In the *Details* area, select a percentage value from the *Progress* drop-down list.
. In the *Colour* field, enter the link:https://html-color-codes.info/webfarben_hexcodes/[Hex code^] of the colour or select the colour by clicking on material:rectangle[].
. In the *Position* area, enter a number for the position.
. *Save* (material:save[]) the settings.
. In the *Names* area, enter a name for the status. +
*_Optional:_* Click on material:add[] *Add language* to add the status name also in English.
. *Save* (material:save[]) the settings.

[#add-messenger-status]
==== Adding a new status to an existing type

For each <<#add-messenger-type, type>> in the Messenger, determine one or multiple statuses with percentage indicator and colour to track the processing progress of your conversations.

[.instruction]
Adding a new status to an existing type:

. Go to *Setup » CRM » Messenger » Groups, types and statuses*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:checklist_rtl[] *Groups, types and statuses*.
. Open the group.
. In the *Types* area, click in the line of the type that you want to add a status to.
. In the *Status* area, click on material:add[] *Add status*.
. In the *Details* area, select a percentage value from the *Progress* drop-down list.
. In the *Colour* field, enter the link:https://html-color-codes.info/webfarben_hexcodes/[Hex code^] of the colour or select the colour by clicking on material:rectangle[].
. In the *Position* area, enter a number for the position.
. *Save* (material:save[]) the settings.
. In the *Names* area, enter a name for the status. +
*_Optional:_* Click on material:add[] *Add language* to add the status name also in English.
. *Save* (material:save[]) the settings.

The selected type and the selected status are then shown in the open conversation next to the tags. You can also search for conversations with certain <<#intable-filter-type, types>> and <<#intable-filter-status, statuses>> and sort the conversations in the overview in ascending and descending order by the type and status (material:arrow_upward[] and material:arrow_downward[]).

[#create-message]
== Creating a new conversation

Proceed as described below to create a new conversation in the Messenger.

[.instruction]
Creating a conversation:

. Go to *CRM » Messenger*.
. In the top left corner, click on material:add[] *New conversation*.
. Enter a value in the *Recipient* field and select the appropriate value from the suggestion list. +
*_Example:_* If you enter a number, possible receivers with this order ID or contact ID will be suggested. Also the external order ID and the external number that is saved in the contact details will be taken into account here.
. Select a template from the list.
. Select the template language.
. Enter the subject of the message in the *Subject* field.
. Select the inbox from the drop-down list.
. Enter the message in the text field.
. Click on *Add attachments* (material:attach_file[]) to add attachments to the message.
. Click on *Assign tags to message* (material:local_offer[]) to assign tags for the message.
. Select further options, if needed, by clicking on material:more_vert[]. Note <<#table-create-new-message>>.
. Click on material:forward_to_inbox[role=skyBlue] *SEND*.

[[table-create-new-message]]
.Creating a new conversation in the Messenger
[cols="1,3"]
|====
|Setting |Explanation

|[#intable-recipients]*Recipient*
|Enter a name or ID here and select the appropriate value from the suggestion list. You can add more recipients. +
*_Note:_* When entering an ID, besides the contact ID and the order ID also the external order ID and the external number from the contact details are taken into account here.

|[#intable-template]*Template*
|Select a template from the list. The list shows all templates that you created in the xref:crm:emailbuilder.adoc#[EmailBuilder]. +
*_Tip:_* Enter at least 3 characters to see a suggestion list with already available email templates. +

|[#intable-template-language]*Template language*
|Select the template language. +
If the selected language does not correspond with the recommended language (based on the recipients), a note is shown.

|[#intable-template-subject]*Subject*
|Enter the subject. This is a mandatory field.

|[#intable-inbox]*Inbox*
|Select an inbox from the drop-down list. The list shows the names of the inboxes that you set up by <<#complete-assistant, completing the assistant *Messenger configuration*>>.

|[#intable-text-field]*Text field*
|Enter the content of the message here.

|[#intable-add-attachments]*Add attachments* (material:attach_file[])
|Click on material:attach_file[] to add attachments to your message. Select as many attachments as you like from your computer. +
The following file types can be sent as an attachment: bmp, csv, gif, jpeg, json, pdf, png, tiff, txt, xlsx, zip.

|[#intable-whisper-mode]*Whisper mode* (material:visibility[] / material:visibility_off[role=skyBlue])
|You can whisper messages to make these messages only visible for internal purposes but _not_ for your contacts. To do so, click on *Whisper mode* (material:visibility[]). +
You can see in this view that a message is whispered by means of the button material:visibility_off[role=skyBlue]. The button changes from material:forward_to_inbox[role=skyBlue] *SEND* to material:visibility_off[role=skyBlue] *WHISPER*. +
In the overview, whispered messages are shown in _italics_. +
*_Note:_* Once the whisper mode has been activated for this message, you can <<#intable-capture-minutes, capture minutes for the message>>.

|[#intable-assign-tags-message]*Assign tags to message* (material:local_offer[])
|Click on material:local_offer[] to search for tags and select already existing tags for the message (material:check_box[role=skyBlue]), add new tags (material:add[]) and edit existing tags (material:edit[]). +
*_Note:_* Once you selected a tag for the message, the button is shown in blue material:local_offer[role=skyBlue]. This way you can see at a glance whether the message has tags. +
*_Important:_* To be able to <<#intable-capture-minutes, capture minutes for the message>>, you have to create at least one tag of the type *Messenger: Billable messages* and assign this tag to the message.

|[#intable-capture-minutes]*Capture minutes* (material:more_vert[])
|You can always capture minutes for a message as long as it is a <<#intable-whisper-mode, whispered message>>. To do so, click on material:more_vert[] first. If you then activate the button *Capture minutes* (material:toggle_on[role=skyBlue]), minutes will be captured for this message. The button changes from material:forward_to_inbox[role=skyBlue] *SEND* to material:visibility_off[role=skyBlue] *CAPTURE MINUTES*. +
*_Note:_* You can only activate the button *Capture minutes* if the <<#intable-whisper-mode, whisper mode>> has been activated for this message.

|[#intable-timer]*Show timer* (material:more_vert[])
|You can start a timer for every message. To do so, click on material:more_vert[] first. If you then activate the *Show timer* button (material:toggle_on[role=skyBlue]), the timer next to the button material:forward_to_inbox[role=skyBlue] *SEND* will start running automatically. +
Click on material:pause_circle[] to stop the timer or on material:play_circle[] to start the timer again.

|[#intable-manage-inboxes]*Manage inboxes* (material:more_vert[])
|First, click on material:more_vert[] and then on material:edit[] *Manage inboxes*. This will redirect you to the *Setup » CRM » Messenger » Inboxes* menu. Here, you can edit the inboxes via the available *Messenger configuration* <<#complete-assistant, assistants>>.

|[#intable-send]*SEND*
|By clicking on material:forward_to_inbox[role=skyBlue] *SEND*, the message will be sent. +
*_Note:_* If you <<#intable-capture-minutes, capture minutes>> for the message, the button changes to material:visibility_off[role=skyBlue] *CAPTURE AND SEND*. +
If you <<#intable-whisper-mode, whisper>> the message, this button is changed to material:visibility_off[role=skyBlue] *WHISPER*.

|====

[#search-conversation]
== Searching for a conversation in the Messenger

Open all conversations in a list or select filters (material:tune[]) to narrow down the search results in the Messenger overview.

Once you have found the desired conversation, you can <<#open-single-message, open>> the single messages that are contained in the conversation.

[.instruction]
Searching for a conversation in the Messenger:

. Go to *CRM » Messenger*. +
* *_Option 1:_* Click on material:search[] to see a list of all conversations.
* *_Option 2:_* Enter a search term from the conversation’s subject or the message content in the search field and select the appropriate filter from the suggestion list.
* *_Option 3:_* Click on material:tune[] to narrow down the search results with filters.
. Note the explanations about the filters in <<#table-search-message>>.

[[table-search-message]]
.Filter options in the Messenger
[cols="1,3"]
|====
|Filter |Explanation

|[#intable-filter-subject]*Subject*
|Enter a word to only search for conversations containing this word in their subject line.

|[#intable-filter-message]*Message*
|Enter a word to only search for contents within the message body.

|[#intable-filter-from-to]*From* / *To*
|Enter a date or select the dates from the calendars (material:today[]) to search for conversations within a certain time period.

|[#intable-filter-type]*Type*
|Select a <<#add-messenger-type, type>> from the list to only search for conversations with this type.

|[#intable-filter-status]*Status*
|Select a <<#add-messenger-status, status>> from the list to only search for conversations with this status. +
*_Note:_* The *Status* filter is only visible when you select the <<#intable-filter-type, type>> filter before.

|[#intable-filter-referrer]*Referrer*
a|Select a referrer to only search for conversations with this referrer. +
Possible values:

* *Back end*
* *REST*
* *Plugin*
* *PayPal plugin* (icon:paypal[])

|[#intable-filter-short-id]*Short ID*
|Enter the ID of the conversation to only search for the conversation with this ID.

|[#intable-filter-sender]*Sender*
|Select a sender from the list to only search for conversations from this sender.

|[#intable-filter-done]*Done*
|Select *Yes* to only search for conversations that have been <<#context-menu-mark-as-done, marked as done>>. Select *No* to only search for conversations that are not done yet.

|[#intable-filter-has-attachments]*Has attachments*
|Select *Yes* to only search for conversations with attached files. Select *No* to only search for conversations that have no files attached.

|[#intable-filter-has-billed-messages]*Has billed messages*
|Select *Yes* to only search for conversations that contain billed messages. Select *No* to only search for conversations that do not contain any billed messages.

|[#intable-filter-contact-id]*Contact ID*
|Enter an ID to only search for conversations that are linked with this contact ID.

|[#intable-filter-order-id]*Order ID*
|Enter an ID to only search for conversations that are linked with this order ID. +
*_Note:_* Depending on whether it is a normal xref:orders:order-type-order.adoc#[order], a xref:orders:subscription.adoc#[subscription] or a xref:stock-management:managing-reorders.adoc#[reorder], you will be redirected to the corresponding menu when clicking on the ID within the conversation.

|[#intable-filter-email]*Email*
|Enter an email address to only search for conversations that contain this email address.

|[#intable-filter-tags]*Tags*
|Select (material:check_box[role=skyBlue]) tags to only search for conversations with these <<#tags-messenger, tags>>.


|[#intable-filter-payment-id]*Payment ID*
|Enter an ID to only search for conversations that are linked with this xref:payment:beta-managing-payments-new.adoc#[payment ID].

|[#intable-filter-deadline]*Deadline*
a|Select a value from the list to only search for conversations with a deadline in this range.  +
Available values: 

* Yesterday
* Today
* Tomorrow
* Exceeded
* In the future

|[#intable-filter-priority]*Priority*
a|Select a <<#context-menu-conversation-set-priority, priority>> from the list to only search for conversations with this priority. +
Available priorities: 

* material:keyboard_double_arrow_up[role=red] *Very high*
* material:arrow_upward[role=red] *High*
* terra:equals[role=orange] *Medium*
* material:arrow_downward[] *Low*
* material:keyboard_double_arrow_down[] *Very low* 

|[#intable-filter-follow-up-date]*Follow-up date*
a|Select a value from the list to only search for conversations with a follow-up date in this range.  +
Available values: 

* Yesterday
* Today
* Tomorrow
* Exceeded
* In the future

|[#intable-filter-subscriber]*Subscriber*
|Select a name from the list to only search for conversations with this subscriber. +
*_Tip:_* Enter at least 3 characters in the field to see a suggestion list with the available subscribers.

|[#intable-filter-inbox]*Inbox*
|Select an inbox from the list to only search for conversations from this inbox.

| material:replay[]
|Resets the selected filter criteria.

| material:search[] *SEARCH*
|Starts the search. The conversations found are listed in the overview. +
*_Tip:_* Don’t choose any filters if you want to see all of the conversations in the overview.

|====

[#save-current-filter]
=== Saving the current filter

When you start a search, your selected filters are displayed up top as so-called “chips”. You can save these filters to apply them again more quickly and easily in the future.

[.instruction]
Saving the current filter:

. Start a search.
. Click on *Saved filters* (material:bookmarks[]).
. Click on material:bookmark_border[] *Save current filter*.
. Enter a name for the filter.
. Decide whether
** this filter should be <<#default-filter, set as default filter>> (material:toggle_on[role=skyBlue])
** this filter should be created for all users (material:toggle_on[role=skyBlue]).
. Click on *SAVE*. +
→ The filter now appears under *Saved filters* (material:bookmarks[]).

[TIP]
Use drag-and-drop to arrange the filters in a specific order by clicking on *Move* (material:drag_indicator[]). Click on material:delete[] to delete a filter.

[#apply-saved-filters]
=== Applying saved filters

Proceed as follows to apply an already saved filter for the search.

[.instruction]
Applying saved filters:

. Click on *Saved filters* (material:bookmarks[]).
. Click on a filter that you have already created. +
→ The search is started and the filter settings are displayed up top as so-called “chips”.

[TIP]
Once you apply a saved filter, the folder material:bookmarks[] *My filters* becomes visible in the side navigation on the left side. The folder <<#my-filters, My filters>> contains all <<#save-current-filter, saved filters>>. By clicking on the corresponding filter, the filter settings are applied to the folder that you have currently opened.

[#default-filter]
=== Setting a default filter

To make sure that you don’t have to select a filter that you use quite often from the list of your <<#apply-saved-filters, saved filters>> every time when opening the *CRM » Messenger* menu, you can set a created filter as default filter. Every time when you open the Messenger, this filter will be automatically applied.

You can set the filter as default filter directly when creating it as described in <<#save-current-filter, Saving the current filter>> or you can set the filter as default in the overview afterwards.

In the line of the saved filter, click on material:star[] *Set as default*. If you want to set another filter as default filter, deactivate the currently selected default filter by clicking on material:star_outline[] *Do not use as default*.

[#create-folder]
== Creating a folder

You can create as many folders as you like to better organise your conversations. For example, you can create a `Payments` folder in which you save all conversations that are related to invoices. How you create folders is described in the <<#add-new-folder, Adding new folders>> chapter.

[#configure-columns]
== Configuring columns

In every view of the Messenger, you can click in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop.

[TIP]
.Individually adjusting the width of the table columns
====
You can adjust the columns’ width in every Messenger view according to your needs. When hovering over the respective table columns, blue lines appear which allow you to adjust the size as desired.
====

For further information about the available columns in the individual folders, refer to the corresponding chapters:

* <<#inbox, Inbox>>
* <<#new-messages, New messages>>
* <<#my-messages, My messages>>
* <<#trash, Trash>>

Save time and use the <<#group-function, group function>> to carry out certain functions for the conversations in each folder at once.

[#notification-new-messages]
== Notifications about new messages 

Go to the *Messenger configuration* assistant and open the *Settings for receiving emails* step. In the area *Would you like to activate notifications?*, activate (material:check_box[role=skyBlue]) the option *Activate notifications*. This ensures that you will see the number of new messages at the material:notifications[] symbol in your plentysystems back end when new messages are received. Click on material:notifications[] to open the notification window.

[[image-notifications-new-messages]]
.Notifications about a new Messenger message in the plentysystems back end
image::crm:notification-new-message-messenger.png[width=320, height=180]

In the material:info[] *New Messenger message*, you can see the message’s subject and when the message was sent. Click on material:link[] *Open message* to open the message in the Messenger. +
If you want to remove the notifications for this message, click on material:more_vert[] and then on material:delete[] *Close*. The number next to the material:notifications[] symbol will be reduced by 1.

[#reply-to-message]
== Replying to a message

Search for the <<#search-conversation, conversation>> that contains the message you want to reply to. Click on the message to reply to it.

[TIP]
If you would like to reply to a message and one of your colleagues is replying to that message exactly at the same time, this is shown in the upper part of the message: `User XY is writing a message...`.

You can see the following icons above every message:

[[image-message-buttons]]
.Icons above a message
image::crm:messenger-message-buttons.png[width=320, height=180]

* *Pin conversation*: By clicking on material:push_pin[], the current conversation will be <<#pin-conversation, pinned>> in the side navigation.
* Behind the context menu material:more_vert[], you can find the same editing options for the conversation as in the <<#edit-conversation-overview, Messenger overview>>. The following actions are available:
** Marking the conversation as <<#context-menu-mark-conversation-as-read, read>> / <<#context-menu-mark-conversation-as-unread, unread>>
** <<#context-menu-tags-conversation, Assigning tags to a conversation>>
** <<#context-menu-conversation-manage-folders, Managing folders>>
** Marking the conversation as <<#context-menu-mark-as-done, done>> / <<#context-menu-mark-as-not-done, not done>>
** <<#subscribe-conversation, Subscribing for>> / <<#unsubscribe-conversation, Unsubscribing from>> a conversation
** <<#context-menu-conversation-set-priority, Setting a priority>>
** <<#context-menu-conversation-set-type-status, Setting a type and status>>
** <<#context-menu-conversation-set-deadline, Setting a deadline>>
** <<#context-menu-conversation-set-follow-up-date, Setting a follow-up date>>
** <<#context-menu-conversation-history, Conversation history>>
** <<#context-menu-archive-conversation, Archiving a conversation>>
** <<#context-menu-delete-conversation, Deleting a conversation>>
* *Maximise* / *Minimise*: By clicking on *Maximise* (material:fullscreen[]), the message is displayed in full-screen mode and the overview is hidden. +
Click on *Minimise* (material:fullscreen_exit[]) to leave the full-screen mode and to get back to the overview.
* *Close conversation*: Click on material:close[] to close the opened conversation and to get back to the overview.

When replying to an existing message, you can see all recipients that will receive this message. You can add more recipients. Enter either a part of the name or the ID. When entering an ID, also the contact ID, the order ID, the external order ID and the external number from the contact details are taken into account.

If desired, select a template from the drop-down list *Template* and a template language. Click on *Load template* (material:refresh[]) to make the content and the subject of the selected template visible.

The only difference compared to <<#create-message, creating a message>> is that when replying to a message, you can show and hide the subject line and the template list and open the full-screen mode of the message by clicking on the symbol material:more_vert[] (see <<#image-messenger-reply-to-message>>). 

[[image-messenger-reply-to-message]]
.Replying to a message
image::crm:messenger-reply-to-message.png[width=640, height=360]

If the option *Subject* is activated (material:toggle_on[role=skyBlue]), you can adjust the subject line. If you have _not_ activated the *Subject* option (material:toggle_off[]), the *Subject* field is not visible when replying to the message. The currently selected subject is then automatically transferred when replying to the message.

[#manage-groups]
== Managing groups

In the Messenger, there are groups available. This allows you to obtain a good overview over the individual marketplaces and also to process different types and statuses for individual marketplaces separately from each other, for example.  +
By clicking on the corresponding group, you can switch between the different groups and the corresponding conversations in the Messenger.

By default, the groups *All* and *General* are available and activated in your system. +
The groups *eBay*, *Customer notes* and *Automatically sent emails* are also available in your system, but have to be set to <<#set-group-to-visible, visible>> so that you can see them in the Messenger. It is possible to rename the groups.

* The group *eBay* contains all eBay messages from your linked eBay account. The messages will be directly retrieved from eBay and imported in your system.
* The group *Automatically sent emails* is used by default when automatic emails are collected in the Messenger.
* In the *Customer notes* groups, all internal customer notes are shown that have been created for the contacts in the *Customer notes* area of the contact data record or at the order.

Furthermore, add <<#messenger-add-type, types>> and <<#messenger-add-status, statuses>> for each group so that you can display your conversations even more clearly depending on the group.

[#create-group]
=== Creating a group

Proceed as described below to create a new group for the Messenger.

[.instruction]
Creating a group:

. Go to *Setup » CRM » Messenger » Groups, types and statuses*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:checklist_rtl[] *Groups, types and statuses*.
. Click on material:add[] *Add group*.
. Enter a position number.
. Enter the German name for the group.
. Click on material:add[] (*Add language*) to add the group name also in English.
. Click on material:save[]. +
→ The group is created and the area *Types* is automatically opened.
. Carry out the settings as described in the <<#create-type-status, Creating types and statuses>> chapter. 

[#set-group-to-visible]
=== Setting a group to visible

Proceed as described below to create a group for the Messenger.

[.instruction]
Setting a group to visible:

. Go to *Setup » CRM » Messenger » Groups, types and statuses*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:checklist_rtl[] *Groups, types and statuses*.
. In the line of the group that you want to set to visible, click on material:toggle_on[role=skyBlue] *Visible*.
. Expand the group and carry out further settings for the <<#create-type-status, types and statuses>>, if desired.

[#rename-group]
=== Renaming the group

Proceed as described below to rename a Messenger group.

[.instruction]
Renaming the group:

. Go to *Setup » CRM » Messenger » Groups, types and statuses*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:checklist_rtl[] *Groups, types and statuses*.
. Click in the line of the group that you want to rename to open the group’s detail view.
. In the *Name* area, enter a new name in the corresponding language or remove the language by clicking on material:delete[] *Remove language*.
. *Save* (material:save[]) the settings.

[#define-default-group-type-status]
=== Selecting the default group

In the *Email accounts* assistant in the *Messenger integration* step, select a default group in the *Groups* area. This group will be assigned to new conversations in this inbox. You can find the assistant in the *Setup » Client » Global » Email accounts* menu. +
For further information, refer to the xref:crm:emailbuilder.adoc#email-messenger-integration[EmailBuilder] page.

[IMPORTANT]
.Tip: One inbox per marketplace
====
Create one inbox for each marketplace and select the corresponding default group. You have to complete the *Email accounts*assistant for every inbox that you want to create. 
====

[#manage-ebay-messages-in-messenger]
== Managing eBay messages in the Messenger

You can directly retrieve the eBay messages from your linked eBay account and import them into the Messenger. +
Of course, you can also use the Messenger to type your replies. Your customer receives the message via the eBay messaging system.

[#link-ebay-account]
=== Linking the eBay account

Proceed as described in the following to link the eBay account to the Messenger.

[.instruction]
Linking the eBay account:

. Go to *Setup » CRM » Messenger » Marketplaces » eBay*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, first expand the material:settings[] *Settings* area on the left side and then the terra:item_bundle[] *Marketplaces* area and click on *eBay*.
. Click on material:add[] (*Add eBay settings*) and then on material:add[] *Add eBay account*. +
→ A new window opens.
. Enter the user name and select the platform from the list.
. Click on the gear-wheel icon to activate the eBay account.
 
[#activate-ebay-message-retrieval]
==== Activating the eBay message retrieval

Proceed as described below to activate the message retrieval for eBay. Select a message type and message status there as well. These parameters are automatically assigned to the eBay messages. 

[.instruction]
Activating the eBay message retrieval:

. Go to *Setup » CRM » Messenger » Marketplaces » eBay*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, first expand the material:settings[] *Settings* area on the left side and then the terra:item_bundle[] *Marketplaces* area and click on *eBay*.
. Activate (material:toggle_on[role=skyBlue]) the toggle button *Automatically retrieve messages*. +
→ New messages will be automatically retrieved from eBay every 15 minutes.
. Select *Yes* or *No* from the first drop-down list to determine whether the messages should be marked a s read.
. Select a *message type* and a *message status* from the first two drop-down lists. +
*_Note:_* The types and corresponding statuses that you have created for the *eBay* group are available here.
. *Save* (material:save[]) the settings.

[IMPORTANT]
The first time that eBay messages are imported, only the ones from the last 7 days are retrieved. If an import has been carried out before, messages are imported until the date of the last import. However, this last import may not date back more than 7 days. Otherwise, only messages from the last 7 days are imported again. +
Information about the imports of eBay messages can be found in the *Data » Log* menu.

[#assign-messages]
== Assigning messages in the Messenger

Messages in the Messenger are assigned with the help of keywords or text parameters that are automatically recognised by your system.

Note the keywords that are used for the assignment as listed in <<#table-assignment-messenger>>. Both upper and lower case letters can be used.

[[table-assignment-messenger]]
.Messenger: Assignment parameters, alternative spellings, permitted symbols and examples
[cols="1,3,3,3"]
|====
|Assignment parameters |Alternative spellings |Permitted symbols |Examples

| *Conversation*
a| * conversation / conversations / konversation / konversationen

&#043;

* id / nr / nummer / number / no

&#043; number

| Space, period, colon, minus, equals sign, hash key
|Konversations-ID: 123 +
conversation ID = 123 +
Konversationid 123 +
KonversationID123 +
conversation id #123

| *Customer data*
a| * kunde / kunden / customer / kontakt

&#043;

* id / nr / no / nummer / number

&#043; number

|Space, period, colon, minus, equals sign, hash key
|Customer ID: 123 +
Kunden ID = 123 +
Customer id 123 +
CustomerID123 +
Kundennummer #123

| *Order*
a| * Auftrags / Auftrag / Order

&#043;

* id / nr / no

&#043; number

| Space, period, colon, minus, equals sign, hash key
| Order ID: 123 +
AuftragsID #123 +
Order id 123 +

|*Order* +
Orders from Amazon, eBay, Kaufland and OTTO are detected and assigned

a| * Bestellnummer / Bestellung / Commande / Order / Pedido / Ordine / ID

&#043; number

|Space, colon, hash key, minus

a| *  Order number +
* Order 123 +
* Commande: 123 +
* 123-4567899-9999999 (_example for Amazon_) +
* 12-34567-89999 (_example for eBay_) +
* ABC12DE (_example for Kaufland_) +
* abc1de2fgh (_example for OTTO_)


| *Invoice number*
a| * Rechnung / Rechnungs / invoice

&#043;

* id / nr / no / nummer / number

&#043; number

| Space, period, colon, minus, equals sign, hash key
| Rechnungs-ID: 123 +
Rechnung id 123 +
Invoice no #123

|====

[#edit-conversation-overview]
== Editing a conversation in the overview

In the Messenger overview, the following functions are available when clicking in the line of the conversation on material:more_vert[]:

[[image-messenger-context-menu-overview]]
.Editing a conversation
image::crm:messenger-context-menu-overview.png[width=320, height=180]

* <<#context-menu-mark-conversation-as-read-unread, Marking a conversation as read / unread>>
* <<#context-menu-tags-conversation, Assigning tags to conversation>>
* <<#context-menu-conversation-manage-folders, Managing folders>>
* <<#context-menu-mark-conversation-as-done-not-done, Marking a conversation as done / not done>>
* <<#context-menu-subscribe-unsubscribe-conversation, Subscribing for a conversation / Unsubscribing from a conversation>>
* <<#context-menu-conversation-set-priority, Setting a priority>>
* <<#context-menu-conversation-set-type-status, Setting a type and status>>
* <<#context-menu-conversation-set-deadline, Setting a deadline>>
* <<#context-menu-conversation-set-follow-up-date, Setting a follow-up date>>
* <<#context-menu-conversation-history, Conversation history>>
* <<#context-menu-archive-conversation, Archiving a conversation>>
* <<#context-menu-delete-conversation, Deleting a conversation>>

[TIP]
.Carrying out the group function
====
Use the group function in the Messenger to edit several conversations at once. For further information, refer to the <<#group-function, Using the group function>> chapter.
====

[#context-menu-mark-conversation-as-read-unread]
=== Marking a conversation as read / unread

Proceed as described in the following sub-chapters to mark a conversation as <<#conversation-mark-as-read, read>> or <<#conversation-mark-as-unread, unread>>.

[#conversation-mark-as-read]
==== Marking a conversation as read

Proceed as described below to mark a conversation in the overview as read.

[.instruction]
Marking a conversation as read:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to mark as read, click on material:more_vert[].
. Click on material:mark_email_read[] *Mark conversation as read*. +
→ The line of the conversation is no longer shown in bold and the blue circle material:circle[role=skyBlue] at the beginning of the line disappears.

[#conversation-mark-as-unread]
==== Marking a conversation as unread

Proceed as described below to mark a conversation in the overview as unread.

[.instruction]
Marking a conversation as unread:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to mark as unread, click on material:more_vert[].
. Click on material:mark_email_unread[] *Mark conversation as unread*. +
→ The line of the conversation is shown in bold and a blue circle material:circle[role=skyBlue] appears at the beginning of the line.

[#context-menu-tags-conversation]
=== Assigning tags to a conversation

Proceed as described below to assign a tag to a conversation. You can also search for tags that are available for the Messenger. This might also be useful if you really created a lot of tags for the *Messenger conversations* or *Messenger: Billable messages* areas.

[.instruction]
Assigning tags to a conversation:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation, click on material:more_vert[].
. Click on material:local_offer[] *Assign tags to conversation* to see a list of all tags that you have already <<#tags-messenger, created>> for the areas *Messenger conversation* and *Messenger: Billable messages*. +
*_Tip:_* If you have created a lot of tags for the *Messenger conversations* or *Messenger: Billable messages* areas, enter the name of the tag in the search field *Search for tag*.
. Select (material:check_box[role=skyBlue]) the tags that you want to assign to the conversation. +
→ The tag is assigned to the conversation and you see the tag in the overview in the *Tags* column.

[#add-tag]
==== Adding a tag

If you could not find the tag you were looking for as described in the <<#context-menu-tags-conversation, Assigning tags to a conversation>> chapter, you can create a new tag from the Messenger overview. To do so, proceed as described below.

[.instruction]
Creating a new tag:

. Go to *CRM » Messenger*.
. In the line of the conversation, click on material:more_vert[].
. Click on material:local_offer[] *Assign tags to conversation*.
. Click on material:add[] *Add tag* to create a new tag. +
→ You will automatically be redirected to the *Setup » Settings » Tags* menu. Create more tags for the areas *Messenger conversation* or *Messenger: Billable messages*.

[#edit-tag]
==== Editing a tag

Proceed as described below to edit a tag from the Messenger overview.

[.instruction]
Editing a tag:

. Go to *CRM » Messenger*.
. In the line of the conversation, click on material:more_vert[].
. Click on material:local_offer[] *Assign tags to conversation*.
. Click on material:edit[] *Edit tag* to edit an existing tag. +
→ You will automatically be redirected to the *Setup » Settings » Tags* menu. There, you can edit the tags.

[#context-menu-conversation-manage-folders]
=== Managing folders

Proceed as described below to manage the folders from the conversation. Note that you have to <<#add-new-folder, create a folder>> in advance. 

[.instruction]
Moving a conversation to a folder:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to move to a folder, click on material:more_vert[].
. Click on material:folder[] *Manage folders*.
. Select (material:check_box[role=skyBlue]) one or multiple folders from the list. +
→ *_Note:_* If you activated the *Folder option* via the *Configure columns* function, you can see in the overview in which folder the conversation is saved.

[#context-menu-remove-conversation-from-folder]
[discrete]
=== Removing a conversation from a folder

You can remove a conversation from a folder at any time. 

[.instruction]
Removing a conversation from a folder:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to remove from a folder, click on material:more_vert[].
. Click on material:folder[] *Manage folders*.
. Click on the activated (material:check_box[role=skyBlue]) folder to remove the selection (material:check_box_outline_blank[]).

[TIP]
.Removing a conversation from all folders
====
If you want to remove the conversation from all folders, click on material:folder_off[] *Remove from all folders*.
====

[#context-menu-mark-conversation-as-done-not-done]
=== Marking a conversation as done / not done

Proceed as described in the following sub-chapters to mark a conversation as <<#context-menu-mark-as-done, done>> or <<#context-menu-mark-as-not-done, not done>>.

[#context-menu-mark-as-done]
==== Marking a conversation as done

Proceed as described below to mark a conversation in the overview as done.

[.instruction]
Marking a conversation as done:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to mark as done, click on material:more_vert[].
. Click on material:circle[] *Mark conversation as done*. +
→ At the beginning of the conversation’s line, the icon material:circle[role=green] is shown.

[#context-menu-mark-as-not-done]
==== Marking a conversation as not done

Proceed as described below to mark a conversation in the overview as not done.

[.instruction]
Marking a conversation as not done:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to mark as not done, click on material:more_vert[].
. Click on material:radio_button_unchecked[] *Mark conversation as not done*. +
→ At the beginning of the conversation’s line, the icon material:circle[role=green] is removed.

[#context-menu-subscribe-unsubscribe-conversation]
=== Subscribing for / Unsubscribing from a conversation

You can subscribe for conversations where you are not directly part of so that you will be informed in case of new messages within this conversation. Not being directly part of it means that you are neither a recipient nor a sender of a message within this conversation. Of course, you can unsubscribe from a conversation’s subscriber list any time with just one click.

[#subscribe-conversation]
==== Subscribing for conversations

Proceed as follows to subscribe for a conversation.

[.instruction]
Subscribing for a conversation:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to subscribe for, click on material:more_vert[].
. Click on material:notifications_active[] *Subscribe for conversation*. +
→ In the column material:notifications[] *Subscribed*, the symbol material:done[] is shown.

[#unsubscribe-conversation]
==== Unsubscribing from a conversation

Proceed as described below to unsubscribe from a conversation.

[.instruction]
Unsubscribing from a conversation:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to unsubscribe from, click on material:more_vert[].
. Click on material:notifications_off[] *Unsubscribe from conversation*. +
→ In the column material:notifications[] *Subscribed*, the symbol material:done[] is no longer shown. +
→ From now on, you will no longer receive notifications when a new message arrives in this conversation.

[#context-menu-conversation-set-priority]
=== Setting a priority

Proceed as described below to set a priority for the conversation.

[.instruction]
Setting a priority:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to set a priority for, click on material:more_vert[].
. Click on material:star[] *Set priority*.
. Select a priority from the list.

[.collapseBox]
.Available priorities and their meaning
--
You can save the following priorities for the conversation:

* material:keyboard_double_arrow_up[role=red] *Very high*
* material:arrow_upward[role=red] *High*
* terra:equals[role=orange] *Medium*
* material:arrow_downward[] *Low*
* material:keyboard_double_arrow_down[] *Very low* 

--

The selected priority is then shown next to the tags in the opened conversation. You can also search for conversations with a certain <<#intable-filter-priority, priority>> and sort the conversations in the overview in ascending and descending order by the priority (material:arrow_upward[] and material:arrow_downward[]).

[discrete]
==== Removing the priority

You don’t want to show a priority for the conversation any longer? Proceed as described below to remove the priority from the conversation.

[.instruction]
Removing the priority:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to remove the priority from, click on material:more_vert[].
. Click on material:star[] *Set priority*.
. Click on material:remove_circle_outline[] *Remove priority*.

[#context-menu-conversation-set-type-status]
=== Setting a type and status

Proceed as described below to set a type and status for the conversation. Note that you need to have a <<#create-type-status, type and status>> created in advance.

[.instruction]
Setting a type and status:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to set a type and status for, click on material:more_vert[].
. Click on material:checklist_rtl[] *Set type and status*.
. First, select the type and then the desired status from the list.

[IMPORTANT]
.Default type and default status are overwritten
====
The type and the corresponding status that you select here for the conversation will overwrite the default type and default status that you selected in the *Messenger configuration* assistant in the <<#settings-email-receipt, Settings for receiving emails>> step.
====

The selected type and the selected status are then shown in the open conversation next to the tags. You can also search for conversations with certain <<#intable-filter-type, types>> and <<#intable-filter-status, statuses>> and sort the conversations in the overview in ascending and descending order by the type and status (material:arrow_upward[] and material:arrow_downward[]).

[#context-menu-conversation-set-deadline]
=== Setting a deadline

Proceed as follows to set a deadline for a conversation.

[.instruction]
Setting a deadline:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to set a deadline for, click on material:more_vert[].
. Click on material:calendar_today[] *Set deadline*. +
→ The window *Set deadline* opens.
. Select the date from the calendar (material:today[]).
. Click on material:calendar_today[] *Set deadline*. +
→ The deadline for the conversation is now set.

You can also <<#intable-filter-deadline, search>> for conversations with certain deadlines and sort the conversations in the overview (material:arrow_upward[] and material:arrow_downward[]) in ascending and descending order by the deadline.

[#context-menu-conversation-set-follow-up-date]
=== Setting the follow-up date

Proceed as follows to set a follow-up date for a conversation. The follow-up date is like a resubmission.

[.instruction]
Setting the follow-up date:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to set a follow-up date for, click on material:more_vert[].
. Click on material:calendar_view_day[] *Set follow-up date*. +
→ The *Set follow-up date* opens.
. Select the date from the calendar (material:today[]).
. Click on material:calendar_view_day[] *Set follow-up date*. +
→ The follow-up date for the conversation is now set.

You can also <<#intable-filter-follow-up-date, search>> for conversations with certain follow-up dates and sort the conversations in the overview (material:arrow_upward[] and material:arrow_downward[]) in ascending and descending order by the follow-up date.

[#context-menu-conversation-history]
=== Conversation history

Proceed as follows to open the conversation history. The history shows, for example, which user has changed the type and status of the conversation and when or which user has restored a conversation from the archive.

[.instruction]
Opening the conversation history:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to open the history for, click on material:more_vert[].
. Click on material:history[] *Conversation history*. +
→ The window *Conversation history* opens.

You can also open the history from the opened conversation.


[#context-menu-archive-conversation]
=== Archiving a conversation

Proceed as described below to archive a conversation.

[TIP]
.Automatically archiving conversations
====
How to set that conversations will automatically be moved to the archive after a certain number of days, is described in the <<#automatically-archive-conversations, Automatically archiving conversations>> chapter.
====


[.instruction]
Archiving a conversation:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to archive, click on material:more_vert[].
. Click on material:archive[] *Archive conversation*. +
→ The conversation is moved to the archive.

[#context-menu-delete-conversation]
=== Deleting a conversation

Proceed as described below to delete a conversation in the overview.

[TIP]
.Automatically removing deleted conversations
====
Refer to the <<#automatically-empty-trash, Automatically emptying trash>> chapter to learn how to automatically remove deleted conversations from trash after a certain number of days.
====

[.instruction]
Deleting a conversation:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. In the line of the conversation that you want to delete, click on material:more_vert[].
. Click on material:delete[] *Delete conversation*. +
→ A window opens and you need to confirm your decision.
. Click on *Yes*. +
→ The conversation is deleted and moved to <<#trash, trash>>.

[#pin-conversation]
== Pinning conversations

You can pin conversations in the Messenger to simply and quickly switch between these conversations. To do so, proceed as described below.

[.instruction]
Pinning a conversation:

. Go to *CRM » Messenger*.
. Search for the conversation by means of the filter settings. Note the explanations about the filters in the <<#search-conversation, Searching for a conversation in the Messenger>> chapter.
. Open the conversation.
. In the top right of the opened conversation, click on material:push_pin[] (*Pin conversation*). +
→ The folder *Pinned conversations* that contains all pinned conversations appears in the side navigation.

[#unpin-individual-conversation]
=== Unpinning an individual conversation

There are two ways to unpin a <<#pin-conversation, pinned conversation>>:

* via the side navigation
** To do so, click in the folder *Pinned conversations* in the line of the conversation that you would like to unpin on material:bookmark_remove[] (*Unpin conversation*).

* via the opened conversation
** In the top right of the opened conversation, click on material:bookmark_remove[] (*Unpin conversation*).

[#unpin-all-conversations]
=== Unpinning all conversations

To unpin all pinned conversations at one, click in the line of the folder *Pinned conversations* on material:more_vert[] (*More options*) and then on material:playlist_remove[] (*Unpin conversations*).

[#capture-minutes]
== Capturing minutes

You can always capture minutes for a message if it’s a whispered message and if you assigned at least one tag of the type *Messenger: Billable messages* to the message.

[.instruction]
Capturing minutes:

. Go to *CRM » Messenger*.
. In the top left corner, click on material:add[] *New conversation*.
. Enter a value in the *Recipient* field and select the appropriate value from the suggestion list. +
*_Example:_* If you enter a number, possible receivers with this order ID or contact ID will be suggested. Also the external order ID and the external number that is saved in the contact details will be taken into account here.
. Enter the subject of your conversation in the *Subject* field.
. Enter the message in the text field.
. Click on material:visibility[] to whisper the message. +
*_Note:_* It is only possible to capture minutes for whispered messages. You can recognise a whispered message by means of the material:visibility_off[role=skyBlue] symbol.
. Click on material:local_offer[] to assign tags to the message. +
*_Important:_* To be able to capture minutes for a message, you have to create a tag of the type *Messenger: Billable messages* in the *Setup » Settings » Tags* menu and assign this tag to the message.
. Click on material:more_vert[].
. Activate the button *Capture minutes* (material:toggle_on[role=skyBlue]).
. Click on material:visibility_off[role=skyBlue] *CAPTURE MINUTES*. +
→ The window *Capture minutes* opens (see <<#image-messenger-capture-minutes-window>>).
. In the *Show timer* field, you can see the time that the timer has recorded so far.
. You can adjust the value in the *Minutes* field, if needed.
. Select (material:radio_button_checked[role=skyBlue]) whether it’s about *Free minutes* or *Paid minutes*.
. Select an appropriate tag or multiple tags from the list.
. Click on *CAPTURE AND SAVE*.

[[image-messenger-capture-minutes-window]]
.Capturing minutes
image::crm:messenger-capture-minutes.png[width=640, height=360]

[TIP]
If you select the option *Paid minutes* instead of the option *Free minutes*, the button changes from *CAPTURE AND SAVE* to *BILL AND SAVE*.

[#example-captured-minutes-free]
=== Example of a message with captured and free minutes

This example shows a message with captured minutes where the option *Free minutes* was selected.

[[image-messenger-example-free-minutes]]
.Message with captured and free minutes in the overview
image::crm:messenger-example-free-minutes.png[width=640, height=360]

In this message, you can see from the left to the right the following information:

* Sender of the message
* Date and time of sent message
* Assigned tags (in this example, our tag is called “Messenger”)
* The symbol material:av_timer[] shows that minutes have been captured. +
→ If it’s a <<#example-captured-minutes-paid, message with paid minutes>>, a credit card symbol (material:credit_card[]) is shown here.
* At the end of the line, you can see the number of captured minutes.
* The second line shows the content of the message.

[#example-captured-minutes-paid]
=== Example of a message with captured and paid minutes

This example shows a message with captured minutes where the option *Paid minutes* was selected.

[[image-messenger-example-paid-minutes]]
.Message with captured and paid minutes in the overview
image::crm:messenger-example-paid-minutes.png[width=640, height=360]

In this message, you can see from the left to the right the following information:

* Sender of the message
* Date and time of sent message
* Assigned tags (in our example, the tags are called “tag14” and “test123”) +
→ If multiple tags are assigned to the message, the tags are separated by the  `|`  sign.
* The symbol material:attach_file[] shows that the message has an attachment. +
→ When you hover with your cursor over the symbol, you can see how many attachments the message has.
* The symbol material:av_timer[] shows that minutes have been captured.
* The symbol material:credit_card[] shows that the option *Paid minutes* has been activated. +
→ Compared to a <<#example-captured-minutes-free, message with free minutes>>, the credit card symbol is shown here.
* At the end of the line, you can see the number of captured minutes.
* The second line shows the content of the message.

[#edit-single-message]
== Editing a single message

You already know the different <<#edit-conversation-overview, actions for the conversation>> that is described earlier on this page. Of course, you can also edit single messages. Proceed as described in the following sub-chapters.

[[image-messenger-edit-single-message]]
.Editing a single message via the actions
image::crm:messenger-edit-single-message-en.png[width=320, height=180]

Within the conversation, you can see the individual messages with the basic formatting as a preview without having to <<#open-single-message, open>> the entire message. Behind the subject of the opened conversation, you can see the number of messages that are contained in the conversation in brackets.

[#open-single-message]
=== Opening a message

To open a message, you can either directly click on the message. Or you open the context menu in the line of the message by clicking on material:more_vert[] and then on material:open_in_new[] *Open message*.

[#assign-tags-to-single-message]
=== Assigning tags to the message

Proceed as described below to assign a tag to a single message.

[.instruction]
Assigning tags to the message:

. Go to *CRM » Messenger*.
. Open the conversation that contains the message you want to assign a tag for.
. Open the message by clicking in the line of the message.
. In the top right of the message, click on material:more_vert[] and then on material:local_offer[] *Assign tags to conversation* to see a list of all tags that you have already <<#tags-messenger, created>> for the areas *Messenger conversation* and *Messenger: Billable messages*. +
*_Tip:_* If you have created a lot of tags for the *Messenger conversations* or *Messenger: Billable messages* areas, enter the name of the tag in the search field *Search for tag*.
. Select (material:check_box[role=skyBlue]) the tags that you want to assign to the message. 

[#attachments-single-message]
=== Downloading attachments

You can either download the attachments of the message one by one or download all attachments of the message as a ZIP file to your computer. 

[.instruction]
Downloading attachments:

. Go to *CRM » Messenger*.
. Open the conversation that contains the message whose attachment(s) you want to download.
. Open the message by clicking in the line of the message.
. In the top right of the message, click on material:more_vert[] and then on material:attach_file[] *Attachments*.
. Click on one attachment or on material:file_download[] *Download all files*. +
→ A window opens and you can choose a location on your computer where to save the file(s).

[#delete-single-message]
=== Deleting a message

Proceed as described below to delete a single message.

[TIP]
.Automatically removing deleted messages
====
Refer to the <<#automatically-empty-trash, Automatically emptying trash>> chapter to learn how to automatically remove deleted messages from trash after a certain number of days.
====

[.instruction]
Deleting a message:

. Go to *CRM » Messenger*.
. Open the conversation that contains the message you want to delete.
. Open the message by clicking in the line of the message.
. Click on material:more_vert[].
. Click on material:delete[] *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on *Yes*. +
→ The message is deleted.

[#paypal-dispute]
== Link to PayPal Dispute plugin

The link:https://marketplace.plentymarkets.com/en/paypaldispute_6582[PayPal Dispute^] plugin allows you to work on problems and solve conflicts with your customers directly in your system.

[IMPORTANT]
Note that at least version 1.1.2 of the link:https://marketplace.plentymarkets.com/en/paypaldispute_6582[PayPal Dispute^] plugin is required to be able to use PayPal Dispute with the Messenger.

The advantage of using the PayPal Dispute plugin is that you will be informed about all cases of customers that reported a problem with a merchandise or service to PayPal directly in your plentysystems back end. Go to *CRM » Messenger* to see all dispute messages. The buyer has 4 options to report a problem. The reactions available to you depend on the problem reported by the customer and on the level of escalation the problem has reached. There are 2 escalation levels in case of problems. The first level is called *dispute* and the second level is called *claim*. The 4 options available to the buyer are the following:

* Item not received
* Item not as described
* Unauthorised activity
* Billing issue

As long as a problem is still on the first level of escalation, the *dispute* level, you can still exchange messages with the customer to solve the problem. Once a problem is escalated to PayPal, the level of escalation will be set to *claim* and simple messages will no longer be sent to PayPal.

To see which requirements need to be met, how to install the plugin and many more details about PayPal Dispute, refer to the xref:payment:paypal.adoc#300[PayPal] page.

Within the conversation in the Messenger, you can see that it is a PayPal Dispute case by means of the PayPal symbol. Click on the case to open the *PayPal* plugin and to xref:payment:paypal.adoc#360[react to this case].

[#group-function]
== Carrying out the group function

Instead of <<#edit-conversation-overview, editing each conversation individually>>, you can save time and edit multiple conversations at once using the group function. +
Once you have selected (material:check_box[role=skyBlue]) at least one conversation in the overview of one of the folders <<#inbox, Inbox>>, <<#new-messages, New messages>>, <<#my-messages, My messages>> or <<#trash, Trash>>, the different buttons become visible (see <<#image-messenger-group-functions-conversations>>). <<#table-group-functions-messenger>> lists the elements from the group functions as well as their explanations.

[[image-messenger-group-functions-conversations]]
.Group function
image::crm:messenger-group-function.png[width=320, height=180]

[[table-group-functions-messenger]]
.Using the group function in the Messenger
[cols="3,1,5"]
|====
|Element |Symbol |Explanation

|[#intable-group-function-mark-conversations-read]*Mark conversations as read*
|material:mark_email_read[]
|Marks all selected conversations as read.

|[#intable-group-function-mark-conversations-done]*Mark conversations as done*
|material:circle[]
|Marks all selected conversations as done (material:circle[role=green]).

|[#intable-group-function-assign-tags-conversations]*Assign tags to conversations*
|material:local_offer[]
|Assigns the desired tag to all selected conversations.

|[#intable-group-function-mark-conversations-not-done]*Mark conversations as not done*
|material:radio_button_unchecked[]
|Marks all selected conversations as not done. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-mark-conversations-unread]*Mark conversations as unread*
|material:mark_email_unread[]
|Marks all selected conversations as unread (material:circle[role=skyBlue]). The conversations are displayed in bold. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-change-type-status-conversations]*Change type and status of conversations*
|material:repeat_one[]
|Changes the type and status for all selected conversations. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-change-deadline-conversations]*Change deadline of conversations*
|material:calendar_today[]
|Changes the deadline for all selected conversations. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-change-priority-conversations]*Change priority of conversations*
|material:low_priority[]
|Changes the priority for all selected conversations. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-subscribe-conversations]*Subscribe for conversations*
|material:notifications_active[]
|Subscribes for all selected conversations. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-unsubscribe-conversations]*Unsubscribe from conversations*
|material:notifications_off[]
|Unsubscribes from all selected conversations. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-add-to-folder]*Add to folder*
|material:create_new_folder[]
|Adds all selected conversations to the selected folders. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-remove-from-folder]*Remove from folder*
|material:folder_open[]
|Removes all selected conversations from the selected folders. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-change-follow-up-date]*Change follow-up date*
|material:calendar_view_day[]
|Changes the follow-up date for all selected conversations. +
 *_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-archive-conversations]*Archive conversations*
|material:archive[]
|Moves all selected conversations to the archive. +
 *_Note:_* This function is behind the context menu (material:more_vert[]).

|[#intable-group-function-delete-conversations]*Delete conversations*
|material:delete[]
|Deletes all selected conversations after having confirmed your decision. +
*_Note:_* This function is behind the context menu (material:more_vert[]).

|====

[#inbox]
== Inbox

In the navigation on the left side of the Messenger, you can find the folder material:inbox[] *Inbox*. You can see the number of new messages behind it. This information is updated in real-time.

Click in the *Inbox* folder in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop. The following table lists the available columns in the *Inbox* folder.

Save time and use the <<#group-function, group function>> to carry out certain functions for the conversations in this folder at once.

[TIP]
.Individually adjusting the width of the table columns
====
You can adjust the columns’ width in this Messenger view according to your needs. When hovering over the respective table columns, blue lines appear which allow you to adjust the size as desired. 
====

include::partial$messenger-configure-columns.adoc[]

[#new-messages]
== New messages

In the navigation on the left side of the Messenger, you can find the folder material:mark_chat_unread[] *New messages* below the folder material:inbox[] *Inbox*.

Click in the *New messages* folder in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop. The following table lists the available columns in the *New messages* folder.

Save time and use the <<#group-function, group function>> to carry out certain functions for the conversations in this folder at once.

[TIP]
.Individually adjusting the width of the table columns
====
You can adjust the columns’ width in this Messenger view according to your needs. When hovering over the respective table columns, blue lines appear which allow you to adjust the size as desired. 
====

include::partial$messenger-configure-columns.adoc[]

[#my-messages]
== My messages

In the navigation on the left side of the Messenger, you can find the folder material:3p[] *My messages* below the folder material:inbox[] *Inbox*. You can see all conversations here that you <<#subscribe-conversation, subscribed for>>. 

Click in the *My messages* folder in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop. The following table lists the available columns in the *My messages* folder.

Save time and use the <<#group-function, group function>> to carry out certain functions for the conversations in this folder at once.

[TIP]
.Individually adjusting the width of the table columns
====
You can adjust the columns’ width in this Messenger view according to your needs. When hovering over the respective table columns, blue lines appear which allow you to adjust the size as desired.
====

[TIP]
You will learn how to <<#add-new-folder, add a new folder>> below this table.

include::partial$messenger-configure-columns.adoc[]

[#my-folders]
== My folders

To have a better overview and structure in your conversations, you can create as many folders as you like. The folders you created will then be shown within the folder material:3p[] *My folders*.

The folders then work like a filter. Click on one of the folders and all conversations will be shown in the overview that are assigned to this folder.

[#add-new-folder]
=== Adding a new folder

Proceed as described below to add a new folder.

[.instruction]
Adding a new folder:

. Go to *CRM » Messenger*.
. In the side navigation on the left, click in the line material:3p[] *My folders* on material:more_vert[] (*More options*) and then on material:add[] *Add new folder*. +
→ The *Add new folder* window opens.
. Enter a name for the folder.
. Click on *Save*. +
→ The folder is created. You can find the folder under material:3p[] *My folders*.

By clicking on the folder, only the conversations contained in this folder are shown in the overview.

[#rename-folder]
=== Renaming the folder

Do you want to save another name for the folder? To do so, proceed as follows.

[.instruction]
Renaming the folder:

. Go to *CRM » Messenger*.
. On the left side, expand material:3p[] *My folders*.
. In the line of the folder that you want to rename, click on material:more_vert[] (*More options*).
. Click on material:edit[] *Rename*. +
→ The *Rename folder* window opens.
. Enter an other name for the folder.
. Click on *Save*.

[#delete-folder]
=== Deleting a folder

Proceed as described below to delete a new folder. +
*_Important:_* When deleting the folder, only the relation is deleted, but _not_ the conversations within the folder. If you delete a folder, the conversation are moved to the *Inbox* folder.

[.instruction]
Deleting a folder:

. Go to *CRM » Messenger*.
. On the left side, expand material:3p[] *My folders*.
. In the line of the folder that you want to delete, click on material:more_vert[] (*More options*).
. Click on material:delete[] *Delete*. +
→ The *Delete folder* window opens.
. Click on material:delete[role=red] *DELETE*. +
→ The folder is deleted and the conversations contained in it are moved to the *Inbox* folder.

[#my-filters]
== My filters

Once you <<#save-current-filter, saved>> a filter and <<#apply-saved-filters, apply>> this filter, the folder material:bookmarks[] *My filters* becomes visible. You can find all saved filters in this folder. By clicking on the corresponding filter, the filter settings are applied to the folder that you have currently opened.

[#archive]
== Archive

In the navigation on the left side of the Messenger, you can find the folder material:archive[] *Archive*. All archived conversations are stored here.

[TIP]
.Automatically archiving conversations
====
How to set that conversations will automatically be moved to the archive after a certain number of days, is described in the <<#automatically-archive-conversations, Automatically archiving conversations>> chapter.
====

Click in the archive folder in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop. The following table lists the available columns in the archive.

Save time and use the <<#group-function, group function>> to carry out certain functions for the conversations in this folder at once.

[TIP]
.Individually adjusting the width of the table columns
====
You can adjust the columns’ width in this Messenger view according to your needs. When hovering over the respective table columns, blue lines appear which allow you to adjust the size as desired.
====

include::partial$messenger-configure-columns.adoc[]

[#automatically-archive-conversations]
== Automatically archiving conversations

Set the number of days after which conversations should be automatically moved to the archive. To do so, proceed as described below. Note that only a person with Admin rights is able to carry out this setting.

[.instruction]
Automatically archiving conversations:

. Go to *Setup » CRM » Messenger » General*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:folder_open[] *General*.
. In the *Automatically archive conversations* area, activate (material:toggle_on[role=skyBlue]) the option *Activate “Automatically archive conversations” function*.
. In the *Number of days (max. 5 years)* area, enter a number.
. *Save* (material:save[]) the settings. +
→ All conversations will be automatically moved to the archived after the number of days entered here.

[#trash]
== Trash

In the navigation on the left side of the Messenger, you can find the folder material:delete[] *Trash*. Here you can find all <<#context-menu-delete-conversation, deleted conversations>> and all<<#delete-single-message, deleted messages>>.

[TIP]
.Automatically removing deleted messages
====
Refer to the <<#automatically-empty-trash, Automatically emptying trash>> chapter to learn how to automatically remove deleted messages and conversations from trash after a certain number of days.
====

Click in the trash folder in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop. The following table lists the available columns in the trash folder.

Save time and use the <<#group-function, group function>> to carry out certain functions for the conversations in this folder at once.

[TIP]
.Individually adjusting the width of the table columns
====
You can adjust the columns’ width in this Messenger view according to your needs. When hovering over the respective table columns, blue lines appear which allow you to adjust the size as desired.
====

include::partial$messenger-configure-columns.adoc[]

[#automatically-empty-trash]
== Automatically emptying trash

Set after how many days <<#delete-single-message, deleted messages>> and <<#context-menu-delete-conversation, deleted conversations>> should be automatically removed from trash. To do so, proceed as described below. Note that only a person with Admin rights is able to carry out this setting.

[.instruction]
Automatically emptying trash:

. Go to *Setup » CRM » Messenger » General*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:folder_open[] *General*.
. In the *Automatically empty trash* area, activate (material:toggle_on[role=skyBlue]) the option *Activate “Automatically empty trash” function*.
. In the *Number of days (max. 5 years)* area, enter a number.
. *Save* (material:save[]) the settings. +
→ All deleted messages and conversations that are contained in the trash will be automatically removed from trash after the number of days you entered here.

[IMPORTANT]
.Manually removing deleted messages and conversations from trash
====
You also have the possibility to manually remove all deleted messages and conversations from trash. To do so, click on the left side in the navigation in the line of the trash on *More options* (material:more_vert[]) and then on material:delete[] *Empty*. After you have confirmed your decision that you really want to permanently delete all conversations and corresponding messages, the trash will be emptied.
====

[#automate-events]
== Automating events in the Messenger

You can automate certain events in the Messenger. For example, you can create an automation that automatically triggers the email template despatch to a contact when a new message arrives. Or you set up that all subscribers of a conversation receive a message as a reminder once the conversation has a certain status. There are numerous <<#add-filter, filters>>, <<#add-action, actions>> and <<#add-trigger, triggers>> available.

 

[[image-messenger-automation-overview]]
.Overview in the *Setup » CRM » Messenger » Automation* menu
image::crm:messenger-automation-overview.png[width=640, height=360]

[#automation-configure-columns]
=== Configuring columns

Click in the overview in the top right on *Configure columns* (material:settings[]) and activate (material:check_box[role=skyBlue]) the columns that you want to see in the overview. You can also deactivate (material:check_box_outline_blank[]) activated columns again. Click on material:drag_indicator[] and hold down the symbol to change the order of the columns with drag-and-drop. Find out which columns are available in the overview: 

* ID
* Name
* Active
** You can directly adjust the status in the overview from *Active* to *Inactive* or vice versa.
* Type
** Shows the type of automation: *Time-based* or *Event-based*.
* Trigger
* Description
* Last change
** Date and time when the automation was last changed.
* Last execution
** Date and time when the automation was last executed.
* Actions
** By clicking on material:more_vert[], you can<<#copy-automation, copy>> or <<#delete-automation, delete>> the automation.

[#create-new-automation]
=== Creating a new automation

Proceed as described below to create a new automation.

[.instruction]
Creating an automation:

. Go to *Setup » CRM » Messenger » Automation*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:auto_mode[] *Automation*.
. Click on material:add[] *Add automation*.
. Carry out the settings. Note <<#table-create-automation>>.
. Save (material:save[]) the settings.

[[table-create-automation]]
.Creating an automation
[cols="1,3"]
|====
|Setting |Explanation

2+^| *Details* 

| *Inactive* / *Active*
|By default, all newly created automations are already set to *Active* (material:toggle_on[role=skyBlue]). If you don’t want to activate the automation yet, set it to *Inactive* (material:toggle_off[]).

| *Name*
|Enter a name for the automation. This is a mandatory field.

| *Description*
|Enter a short text that summarises what the automation should trigger. This field is optional. A description might later be helpful in the overview.

| *Type*
|Select the type from the drop-down list. This is a mandatory field. +
Available types: *Time-based* and *Event-based*. Depending on which type you select, different filters and triggers are shown in the following.

2+^| *Filter* 

| *Adding filters*
|Click on material:add[] (*Add filter*) to add new filters to the automation. All available filters and their explanation can be found in the <<#add-filter, Adding filters>> chapter.

2+^| *Trigger* 

| *Add trigger*
|Click on material:add[] (*Add trigger*) to add new triggers to this automation. All available triggers and their explanation can be found in the <<#add-trigger, Adding triggers>> chapter.


2+^| *Action* 

| *Add action*
|Click on material:add[] (*Add action*) to add new actions to this automation. All available actions and their explanation can be found in the <<#add-action, Adding actions>> chapter.

|====

[#add-filter]
=== Adding filters

Learn in the following two sub-chapters which <<#event-based-filters, event-based>> and <<#time-based-filters, time-based>> filters are available. +
Click on material:add[] (*Add filter*) to add a new filter.

[#event-based-filters]
==== Event-based filters

<<#table-messenger-filter-event-based>> lists the filters that are available when you select the type *Event-based*.


[[table-messenger-filter-event-based]]
.Available event-based filters
[cols="1,3a"]
|====
|Filter |Explanation

| *Age of the conversation*
|Select a relational operator from the drop-down list and enter a number for the age in days into the input field. +
You can enter a number between 1 and 365. +
The available relational operators and their explanation can be found in the following collapsible box:

[.collapseBox]
.Relational operators for this filter
--

[cols="1,4a"]
!===
!Operator !Explanation

! *=*
!Is equal to. +
Only conversation are taken into account whose age corresponds exactly to the number you entered.

! *<*
!Less than. +
Only conversations are taken into account that are younger than the number you entered.

! *>*
!Greater than. +
Only conversations are taken into account that are older than the number you entered.

! *\\<=*
!Less than or equal to. +
Only conversations are taken into account that are younger than the number you entered or correspond exactly to the number you entered.

! *>=*
!Greater than or equal to. +
Only conversations are taken into account that are older than the number you entered or correspond exactly to the number you entered.

!===

--

| *Deadline of conversation*
|Select a value from the drop-down list. +
Available values: *Yesterday*, *Today*, *Tomorrow*, *Exceeded*, *In the future*.

| *Creator of conversation*
|Select (material:check_box[role=skyBlue]) one or multiple creators from the list. This is the person that created the first conversation.

| *Priority of the conversation*
a|Select a priority from the list. +
Available values:

* material:keyboard_double_arrow_up[role=red] *Very high*
* material:arrow_upward[role=red] *High*
* terra:equals[role=orange] *Medium*
* material:arrow_downward[] *Low*
* material:keyboard_double_arrow_down[] *Very low* 

| *Group, type and status of the conversation*
|First, select the group, then the type and afterwards the corresponding status.

| *Referrer of the conversation*
|Select (material:check_box[role=skyBlue]) one or multiple referrers from the list. +
Available values: *Back end*, *REST*, *Plugin*, *System*.

| *Inbox of the conversation*
|Select (material:check_box[role=skyBlue]) one or multiple inboxes from the list.

| *Last change of the conversation*
|Select a relational operator from the drop-down list and enter a number in days into the input field. +
You can enter a number between 1 and 365. +
The available relational operators and their explanation can be found in the following collapsible box:

[.collapseBox]
.Relational operators for this filter
--

[cols="1,4a"]
!===
!Operator !Explanation

! *=*
!Is equal to. +
Only conversation are taken into account whose last change corresponds exactly to the number you entered.

! *<*
!Less than. +
Only conversations are taken into account whose last change is before the number you entered.

! *>*
!Greater than. +
Only conversations are taken into account whose last change is after the number you entered.

! *\\<=*
!Less than or equal to. +
Only conversation are taken into account whose last change is before the number you entered or corresponds exactly to the number you entered.

! *>=*
!Greater than or equal to. +
Only conversation are taken into account whose last change is after the number you entered or corresponds exactly to the number you entered.

!===

--

| *Tags of the conversation*
|Select (material:check_box[role=skyBlue]) one or multiple tags from the list. 

| *Subject contains*
|Enter the text that is contained in the subject.

| *Sender email contains*
|Enter the text that is contained in the sender email.

| *Conversation belongs to a guest order*
|Select *Yes* or *No* from the list. *No* is selected by default. +
*Yes* = The conversation has a relation to an order that is a guest order. +
*No* = The conversation has _no_ relation to an order that is a guest order.

| *Client of the contact*
|Select (material:check_box[role=skyBlue]) one or multiple clients from the list. 

| *Customer class of the contact*
|Select (material:check_box[role=skyBlue]) one or multiple customer classes from the list.

| *Type of the contact*
|Select (material:check_box[role=skyBlue]) one or multiple types from the list. 

| *Language of the contact*
|Select (material:check_box[role=skyBlue]) one or multiple languages from the list.

| *Job position of contact*
|Select (material:check_box[role=skyBlue]) one or multiple job positions from the list. +
*_Note:_* Here, all xref:crm:preparatory-settings.adoc#manage-job-positions[job positions] are available that you have created in the *Setup » CRM » Job positions* menu.

|====

[#time-based-filters]
==== Time-based filters

<<#table-messenger-filter-time-based>> lists the filters that are available when you select the type *Time-based*.

[[table-messenger-filter-time-based]]
.Available time-based filters
[cols="1,3a"]
|====
|Filter |Explanation

| *Age of the conversation*
|Select a relational operator from the drop-down list and enter a number for the age in days into the input field. +
You can enter a number between 1 and 365. +
The available relational operators and their explanation can be found in the following collapsible box:

[.collapseBox]
.Relational operators for this filter
--

[cols="1,4a"]
!===
!Operator !Explanation

! *=*
!Is equal to. +
Only conversation are taken into account whose age corresponds exactly to the number you entered.

! *<*
!Less than. +
Only conversations are taken into account that are younger than the number you entered.

! *>*
!Greater than. +
Only conversations are taken into account that are older than the number you entered.

! *\\<=*
!Less than or equal to. +
Only conversations are taken into account that are younger than the number you entered or correspond exactly to the number you entered.

! *>=*
!Greater than or equal to. +
Only conversations are taken into account that are older than the number you entered or correspond exactly to the number you entered.

!===

--

| *Deadline of conversation*
|Select a value from the drop-down list. +
Available values: *Yesterday*, *Today*, *Tomorrow*, *Exceeded*, *In the future*.

| *Creator of conversation*
|Select (material:check_box[role=skyBlue]) one or multiple creators from the list. This is the person that created the first conversation.

| *Priority of the conversation*
a|Select a priority from the list. +
Available values:

* material:keyboard_double_arrow_up[role=red] *Very high*
* material:arrow_upward[role=red] *High*
* terra:equals[role=orange] *Medium*
* material:arrow_downward[] *Low*
* material:keyboard_double_arrow_down[] *Very low* 

| *Group, type and status of the conversation*
|First, select the type and the status that belongs to the type.

| *Referrer of the conversation*
|Select (material:check_box[role=skyBlue]) one or multiple referrers from the list. +
Available values: *Back end*, *REST*, *Plugin*, *System*.

| *Inbox of the conversation*
|Select (material:check_box[role=skyBlue]) one or multiple inboxes from the list.

| *Last change of the conversation*
|Select a relational operator from the drop-down list and enter a number in days into the input field. +
You can enter a number between 1 and 365. +
The available relational operators and their explanation can be found in the following collapsible box:

[.collapseBox]
.Relational operators for this filter
--

[cols="1,4a"]
!===
!Operator !Explanation

! *=*
!Is equal to. +
Only conversation are taken into account whose last change corresponds exactly to the number you entered.

! *<*
!Less than. +
Only conversations are taken into account whose last change is before the number you entered.

! *>*
!Greater than. +
Only conversations are taken into account whose last change is after the number you entered.

! *\\<=*
!Less than or equal to. +
Only conversation are taken into account whose last change is before the number you entered or corresponds exactly to the number you entered.

! *>=*
!Greater than or equal to. +
Only conversation are taken into account whose last change is after the number you entered or corresponds exactly to the number you entered.

!===

--

| *Tags of the conversation*
|Select (material:check_box[role=skyBlue]) one or multiple tags from the list.

| *Subject contains*
|Enter the text that is contained in the subject.

| *Sender email contains*
|Enter the text that is contained in the sender email.

|====

[#add-actions]
=== Adding actions

Learn which actions are available. +
Click on material:add[] (*Add action*) to add a new action.

[[table-messenger-actions]]
.Available actions
[cols="1,3"]
|====
|Action |Explanation

| *Add reply*
a| * Select an email template from the drop-down list *Template*. This is a mandatory setting.
* In the *Whisper* field, select whether the message should be whispered or not. *No* is selected by default.
* In the field *Additional recipients*, enter one or multiple email addresses. The email will then be sent to all entered email addresses.
* In the *Subscribers* field, select (material:check_box[role=skyBlue]) the subscribers from the list so that they will receive a copy of this message.
* In the *Notify all conversation subscribers*, select whether the message should be sent to all subscribers. *No* is selected by default.

| *Send email*
a| * Select an email template from the drop-down list *Template*. This is a mandatory setting.
* In the field *Email addresses of recipients*, enter one or multiple email addresses. The email will then be sent to all entered email addresses.
* In the *Users* field, select (material:check_box[role=skyBlue]) the subscribers from the list so that they will receive a copy of this message.
* In the *Send email to all conversation subscribers*, select whether the message should be sent to all subscribers. *No* is selected by default.

| *Change deadline*
|Select  *+* or *-* from the list and enter a number in days.

| *Add subscribers*
|Select (material:check_box[role=skyBlue]) one or multiple subscribers from the list to add them to the conversation.

| *Setting a priority*
a|Select a priority from the list. +
Available values:

* material:keyboard_double_arrow_up[role=red] *Very high*
* material:arrow_upward[role=red] *High*
* terra:equals[role=orange] *Medium*
* material:arrow_downward[] *Low*
* material:keyboard_double_arrow_down[] *Very low* 

| *Set group, type and status*
|Select the group from the first list, the status from the second list and the corresponding status from the third list.

| *Add to folder*
|Select (material:check_box[role=skyBlue]) one or multiple folders from the list to add the conversation to these folders.

| *Remove from folder*
|Select (material:check_box[role=skyBlue]) one or multiple folders from the list to remove the conversation from these folders.

| *Add tags*
|Select (material:check_box[role=skyBlue]) one or multiple tags from the list to add them to the conversation.

| *Remove tags*
|Select (material:check_box[role=skyBlue]) one or multiple tags from the list to remove these tags from the conversation.

| *Archiving a conversation*
|This action moves the conversation to the <<#archive, archive>>.

| *Deleting a conversation*
|This action <<#trash, deletes>> the conversation.

|====

[#add-trigger]
=== Adding triggers

The following lists the available event-based triggers:

* *New conversation from user*
* *New reply from user*
* *New conversation from contact*
* *New reply from contact*
* *Deadline of conversation has been changed*
* *Priority of conversation has been changed*
* *Status of conversation has been changed*
* *Tag has been added to conversation*
* *Tag has been removed from conversation*

[#search-automation]
=== Searching an automation

In the overview of the *Setup » CRM » Messenger » Automation* menu, you can open all automations that you created in a list or you select filters (material:tune[]) to narrow down the search results.

[.instruction]
Searching an automation:

. Go to *Setup » CRM » Messenger » Automation*. +
icon:map-signs[] *_Or:_* If you are already in the Messenger menu, expand the material:settings[] *Settings* area on the left side and click on material:auto_mode[] *Automation*.
* *_Option 1:_* Click on material:search[] to see a list of all automations.
* *_Option 2:_* Enter the ID or the name of the automation in the search field and select the appropriate filter from the suggestion list.
* *_Option 3:_* Click on material:tune[] to narrow down the search results with filters.
. Note the explanations about the filters in <<#table-search-automation>>.

[[table-search-automation]]
.Filter options
[cols="1,3"]
|====
|Filter |Explanation

| *ID*
|Enter the ID of the automation to only search for the automation with this ID.

| *Active*
|Select *Active* to only search for active automations. +
Select *Inactive* to only search for inactive automations.

| *Name*
|Enter a word to only search for automations containing this word in their name.

| *Description*
|Enter a word to only search for automations containing this word in their description.

| *Type*
|Select *Event-based* to only search for automations with this type. +
Select *Time-based* to only search for automations with this type.

| *Trigger*
a|Select a trigger from the list to only search for automations that contain this trigger. Available triggers: 

* Event-based
** New conversation from user
** New reply from user
** New conversation from contact
** New reply from contact
** Deadline of conversation has been changed
** Priority of conversation has been changed
** Status of conversation has been changed
** Tag has been added to conversation
** Tag has been removed from conversation

* Time-based
** Time-based event

| *Filter*
a|Select a filter from the list to only search for automations that contain this filter. Available filters:

* Age of the conversation
* Deadline of conversation
* Subscribers of the conversation
* Priority of the conversation
* Status of the conversation
* Referrer of the conversation
* Inbox of the conversation
* Last change of the conversation
* Tags of the conversation
* Conversation belongs to a guest order
* Client of the contact
* Customer class of the contact
* Type of the contact
* Language of the contact


| *Action*
a|Select an action from the list to only search for automations that contain this action. Available actions:

* Add reply
* Send email
* Change deadline
* Add subscribers
* Setting a priority
* Set group, type and status
* Add to folder
* Remove from folder
* Add tags
* Remove tags
* Archive conversation
* Delete conversation

| material:replay[]
|Resets the selected filter criteria.

| material:search[] *SEARCH*
|Starts the search. The automations found are listed in the overview. +
*_Tip:_* Don’t choose any filters if you want to see all of the automations in the overview.


|====

[#copy-automation]
=== Copying an automation

If you would like to adjust an existing automation, for example select another trigger, but keep the filters and actions, it is not necessary to create a new automation from the bottom up. Instead, you can copy an existing automation and then carry out the desired changes.

[.instruction]
Copying an automation:

. Go to *Setup » CRM » Messenger » Automation*.
. Search for the automation by means of the filter settings. Note the explanations about the filters in the <<#search-automation, Searching an automation>> chapter.
. In the overview, click in the line of the automation that you would like to copy on material:more_vert[] and then on material:content_copy[] *Copy*. +
→ The window *Copy automation "_Name of automation_"* opens.
. Enter the name of the copy.
. Click on *Save*. +
→ Carry out the desired changed in the copied automation.

[#delete-automation]
=== Deleting an automation

Proceed as described below to delete an automation.

[.instruction]
Deleting an automation:

. Go to *Setup » CRM » Messenger » Automation*.
. Search for the automation by means of the filter settings. Note the explanations about the filters in the <<#search-automation, Searching an automation>> chapter.
. In the overview, click in the line of the automation that you would like to delete on material:more_vert[] and then on material:delete[] *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on material:delete[role=red] *Delete*. +
→ The automation is deleted and removed from the overview.
