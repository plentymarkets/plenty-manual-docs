= Connecting Shopify
:keywords: Shopify, plentymarkets app, shopify assistant, shopify shops, connect shopify, link shopify
:description: Learn how to connect your plentymarkets account with Shopify in order to synchronise your data.
:author: team-plenty-channel

:shopify:
:market: Shopify
:referrer-option: Shopify
:referrer: Shopify

On this page, you will learn how to connect your plentymarkets account with Shopify so you can synchronise your data between both systems. The two Shopify assistants will guide you through all required steps so you can start right away.

[IMPORTANT]
.The Shopify app is only available for new plentymarkets systems
====
Due to technical reasons, the new Shopify app will only be available for new plentymarkets systems for the time being. Existing integrations will continue to use the Shopify plugin. The possibility to migrate from the plugin to the new app is currently being developed.
====

[#about]
== About Shopify

Just like plentymarkets, Shopify is a complete e-commerce platform that lets you start, grow, and manage your online business. As Shopify is entirely cloud-based and hosted, there is no need to worry about upgrading or maintaining the software or any web servers.

[#registration]
== Registering with Shopify

To register with Shopify, follow the app installation steps below.

[.instruction]
Registering with Shopify:

. Go to link:https://www.shopify.com/signup[Shopify^].
. Go to *Admin » Apps*.
. Click on *Customize your store*.
. Search for the *plentymarkets* app. +
→ The plentymarkets app is shown.
. Click on *Add app*. +
→ The confirmation view opens.
. Click on *Install app*. +
→ The app is installed and the plentymarkets registration view opens.
. Enter your PID, user and password. +
*_Tip:_* If you don't have these credentials yet, you can register for a system.
. Click on *Login*. +
→ The plentymarkets app opens.
. Connect a plentymarkets client. +
*_Tip:_* The toggle on the right tells you whether a client is connected. +
→ You can now carry out the import and export settings as desired.

[#integration]
== Setting up Shopify

The following chapters describe how to set up the interface to Shopify in plentymarkets.

[#2885714092]
=== Video tutorial: Installation and configuration

video::4D_3vFrVBIQ[youtube]

[#shopify-configuration-assistant]
=== Using the Shopify Configuration assistant

The *Shopify Configuration* assistant will guide you through the required steps to set up your Shopify connection. <<table-shopify-configuration-assistant>> shows which settings you can carry out in the individual steps of the assistant. You can find the Shopify configuration assistant in the *Setup » Assistants* menu in the *Omni-Channel* area.

[.instruction]
Using the *Shopify Configuration* assistant:

. Go to *Setup » Assistants » Omni-Channel*.
. Click on the *Shopify Configuration* assistant.
. Click on the available configuration. +
→ The assistant opens.
. Follow the instructions on the screen. If you need additional information about one of the options, expand the info box below this description (icon:chevron-down[role="darkGrey"]).
. If everything is as it should be, click on icon:check[role="green"] *Finalise*. +
→ The assistant is completed. The connection to Shopify has been set up.

[.collapseBox]
.Options in the assistant
--

[width="100%"]
[cols="1,2a"]
|======
|Setting |Explanation

2+^| Step *Shopify Connection*

| Shopify connection
| Shows the Shopify hostname, the connected plentymarkets client and the connection status. No action is required in this step.

2+^| Step *Item management*

a| Item management
| Decide whether you want to import or export items and how this should be handled. +
*_Note:_* Import and export processes for items cannot be both active at the same time.

2+^| Step *Stock management*

| Stock management
| Configure how the import and export of stock should be handled. Item prices are included here, too. +
*_Note:_* Import and export processes for stock cannot be both active at the same time.

2+^| Step *Warehouse to location mapping*

| Warehouse mappings
| Link your plentymarkets warehouses to Shopify locations. You can link multiple plentymarkets warehouses to one and the same Shopify location. The selection in this step will affect stock imports and exports as well as order fulfilment notifications to Shopify. +
*_Note:_* Only stock from mapped warehouses and locations will be exported and imported.

2+^| Step *Order management*

| Order management
| Configure how the import of order details from Shopify should be handled. Furthermore, determine how you want to manage refunds and cancellation requests.

2+^| Step *Contact management*

| Contact management
| Configure how the import of contact details from Shopify should be handled.

2+^| Step *Shipping profiles mapping*

| Shipping profiles mapping
| Link Shopify and plentymarkets shipping profiles. By doing so, shipping profiles for imported orders will automatically be determined for imported orders. For each existing Shopify profile you can choose a corresponding profile from plentymarkets.
|======
--

[#shopify-assistant-input-fields]
=== Using the Input field mapping assistant

The *Input field mappings* assistant helps you to create custom mappings between Shopify input fields and plentymarkets data fields. These mappings are used for the item export.

[.instruction]
Using the input field mapping assistant:

. Go to *Setup » Assistants » Omni-Channel*.
. Click on the *Input field mappings* assistant.
. Click on the available configuration. +
→ The assistant opens.
. Follow the instructions on the screen. If you need additional information about one of the options, expand the info box below this description (icon:chevron-down[role="darkGrey"]).
. If everything is as it should be, click on icon:check[role="green"] *Finalise*. +
→ The assistant is completed. The input field mappings have been created.

[.collapseBox]
.Options in the assistant
--

[width="100%"]
[cols="1,2a"]
|======
|Setting |Explanation

2+^| Step *Shopify account*

| *Shopify account*
| Shows for which Shopify account you are carrying out the settings. No action is required in this step.

2+^| Step *Existing input field mappings*

| *Existing input field mappings*
| Shows the current input field mappings. In case some of them are no longer needed, you can select them here for deletion. Once the assistant has been completed, the selected mappings will be deleted.

2+^| Step *Creating a new field mapping*

| *Creating a new field mapping*
| Select the Shopify field that contains the exported data. If you do not want to create a new mapping at this point, leave this field empty.

*_Note:_* You can only create one input field mapping each time you go through the assistant. Therefore, you have to go through the assistant again each time you want to create a new mapping. Choosing a meta field will trigger a new assistant step.


2+| Step *Metafield configuration* (optional)

| *Metafield configuration*
| This step is only available if you choose the option *Metafield* in the *Create new field mapping* step. Specify the namespace and the name of the Shopify Metafield. +

*_Note:_* Shopify Metafields are not visible in the Shopify back end without a specific Shopify app. For more details regarding Shopify Metafields, consult the link:https://help.shopify.com/en/manual/metafields[Shopify Help Center^] and enter the keyword *Metafield*.

2+| Step *plentymarkets source input field*

| *plentymarkets source input field*
| Select the plentymarkets source field that will be used to export the customised data. +
*_Note:_* Source input field mappings are only available for *Item export* processes.

2+| Step *Property* (optional)

| *Property*
| This step is only available if you chose the option *Property* in the *plentymarkets source input field* step. Select the property you want to use as export data source.
|======
--

[#further-shops]
=== _Optional:_ Connecting additional Shopify shops

Note the following if you want to link more than one Shopify shop with plentymarkets:

* Each new connection requires a separate plentymarkets client and a separate Shopify account.
* To create an additional connection you need to install the plentymarkets app in each Shopify shop you wish to connect.

[#500]
=== Selecting the sales price

:referrer-price: Shopify

include::partial$define-sales-price.adoc[]

[#stock-limitation]
== Logic for limiting stock

In the Shopify back end, the option *Continue selling when out of stock* determines if products are sold if no or not enough stock is in the warehouse. When stock is exported, this option is either activated or not. This depends on the plentymarkets setting xref:item:directory.adoc#220[Stock limitation].

Depending on which *Limitation* you selected for a variation in plentymarkets, the checkbox *Continue selling when out of stock* is either activated or not:

[cols="2,3"]
|====
| Option *"Limitation"* in plentymarkets | Option *Continue selling when out of stock* in Shopify

| *None*
| Activated

| *To net stock*
| Not activated

| *Do not administer stock for this variation*
| Activated
|====

[#custom-order-properties]
== Importing custom order properties

The Shopify integration also enables you to import custom order properties using the order import process. 

For example, you can create custom order properties with the Shopify plugin link:https://apps.shopify.com/product-personalizer[Product Personalizer^]. This plugin gives your customers the option to enter custom text during the order process. This allows you to offer personalized products, for example with engravings.

Requirements for importing custom order properties:

* In the menu *Setup » Item » Characteristics*, create a characteristic for which you activate the option *Order characteristic* on the right.
* If you want to import such properties, make sure that the plentymarkets item has a characteristic where the option *Order characteristic* is activated.

[#OPOU57M9]
== _Check list:_ Requirements for exporting variations

include::markets:partial$checklist-variations.adoc[tag=checklist-intro]

include::markets:partial$checklist-variations.adoc[tag=checklist-variation-active]

include::markets:partial$checklist-variations.adoc[tag=checklist-variation-referrer]

include::markets:partial$checklist-variations.adoc[tag=checklist-availability-active]

include::marketspartial$checklist-variations.adoc[tag=checklist-net-stock]

include::markets:partial$checklist-variations.adoc[tag=checklist-sales-price]

:number-of-variations: 100
include::markets:partial$checklist-variations.adoc[tag=checklist-number-of-variations]

include::markets:partial$checklist-variations.adoc[tag=checklist-name-text-shopify]

include::markets:partial$checklist-variations.adoc[tag=checklist-attributes-shopify]

include::markets:partial$checklist-variations.adoc[tag=checklist-market-sku]

include::markets:partial$checklist-variations.adoc[tag=checklist-market-client]

[#event-procedures]
== Setting up event procedures

Use xref:automation:event-procedures.adoc#[plentymarkets event procedures] to automate order communication with Shopify.

[#event-procedures]
=== Available event procedures

The following event procedures are available for the Shopify app:

*_Tip:_* Event procedures are set up in the menu *Setup » Orders » Events*. In the list *Add procedure*, the procedures for the Shopify apps are listed in the folder *Plugins*.

* Shopify App: Save plentymarkets order Id in Shopify
* Shopify App: Archive Shopify order
* Shopify App: Send manually added payment to Shopify
* Shopify App: Send fulfilment notification to Shopify
* Shopify App: Send returns to Shopify
* Shopify App: Send cancel notification to Shopify
* Shopify App: Send credit note to Shopify
* Shopify App: Send cancellation/refund to Shopify
* Shopify App: Send refund/cancellation to Shopify without stock adjustment

[#gdpr]
== GDPR considerations

Due to GDPR specifications, the following policies for customer accounts and orders have been implemented:

[[table-gdpr]]
.GDPR considerations for the contact import
[cols="1,2"]
|===
|*Scenario* |*Explanation*

| Customer is imported as regular contact
| If the authenticity of the Shopify customer is guaranteed by a unique external contact ID, a regular account is created.

| An existing plentymarkets contact is linked to the imported order
| It is checked whether a customer from Shopify with this external contact ID has been imported in the past. If a contact is found, the new order is assigned to this contact.

| Customer is imported as guest
| If the customer does not have a plentymarkets account and Shopify also cannot guarantee the authenticity of the customer, the contact is imported as a guest. That also applies if the contact data of several orders are identical.

*Tip:* You can convert contacts of the type *Guest* to xref:quick-search.adoc#convert-guest-account[regular contacts].
|===



