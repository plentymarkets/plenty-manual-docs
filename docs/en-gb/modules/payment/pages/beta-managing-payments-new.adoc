= Managing payments
:lang: en
include::{includedir}/_header.adoc[]
:description: Payments in plentymarkets: Get to know everything about working with and editing payments.
:position: 25
:url: payment/beta-managing-payments
:id: VBZTVJ8
:keywords: payments, incoming payments, assigning payments, automatic assignment, auto-assign, split payment, splitting payments, partial payments, mapping payments
:author: team-order-payment

This page of the manual describes and explains how to manage payments. You receive payments in your system from different sources. Independent of the payment source, you can manage all incoming payments in the *Orders » Payments* menu.

[#basic-settings]
== Carrying out basic settings for incoming payments

First, carry out basic settings for automatically assigning payments to orders and for giving goodwill on payments. Default settings are already saved in the system. These default values are generally recommended. To change these settings, proceed as follows.

[.instruction]
Changing the basic settings:

. Go to *Setup » Orders » Payment » Incoming*.
. Carry out the settings according to the information given in <<table-manually-booking-payments>>.
. *Save* (icon:save[role="green"]) the settings.

[[table-basic-settings-incoming-payment]]
.Carrying out basic settings for incoming payments
[cols="1,3"]
|====
|Setting |Explanation

| *Match for automatic assignment*
|Select a value between *0.7* (no exact match required for assignment) and *1.0* (exact match required). If this value is set to a higher value, automatic matching of payments may not work properly in your plentymarkets system. This is why the value *0.75* is set as default.

| *Goodwill on payment*
|To avoid incorrect postings due to internal decimal places (starting from the third decimal place), you should enter a *minimal value* of *0.01* (default setting). If you select the value *0.05*, for example, payment that are up to 5 cents short of the original amount are booked as complete payments.

| [#intable-import-customer-bank-data]*Import customer bank data*
|Select whether or not the customer's *bank data* should be *imported* and saved in the respective *contact data* of the customer. +
*_Important:Because bank data can only be imported and saved after customers have agreed to the process, *No* is selected here by default. Familiarise yourself with the current legislation concerning this topic, if necessary also of different delivery countries.

| *Only assign incoming PayPal payment to corresponding eBay listing if attached to the payment*
|*_Note_*: This functionality only applies to the old PayPal interface for Callisto online shops in plentymarkets, *not* for the PayPal plugin! +
If you use eBay listings in combination with the payment method PayPal, we recommend to set this option to *Yes*. This way, it is ensured that incoming payments effected via PayPal are correctly assigned to the corresponding eBay order. If an eBay listing ID is attached to a PayPal payment and the option is activated, the payment is only assigned to the order with a corresponding eBay listing ID.

| *Ignore WooCommerce transactions*
|*_Note_*: This functionality only applies to the old PayPal interface for Callisto online shops in plentymarkets, *not* for the PayPal plugin! +
Select the option *Yes* to deactivate the automatic import of payments belonging to orders imported from WooCommerce with the payment method PayPal.

|*Exclude orders with the following payment methods from automatic assignment*
|Select those payment methods for which no payments are incoming.  They are then ignored for payment assignment. +
Use the keyboard to select multiple payment methods.

|*Exclude orders with the following referrers form automatic assignment*
|Select those referrers for which no payments are incoming.  They are then ignored for payment assignment. +
Use the keyboard to select multiple payment methods.

|====

[#10]
== New payments in the system

Payments can either come into your system automatically or they can be booked manually. After payments are booked in plentymarkets, they are automatically assigned to orders with a fuzzy search. If the payment cannot be assigned to the order automatically, then you can still manually assign the payment to an order. Edit and manage payments in the *Orders » Payments* menu. Unassigned orders can be identified by the credit card symbol(icon:credit_card[set=material]). You can <<payment/beta-managing-payments#30, assign payments>> either directly on the payments overview or in the detail view of a payment. +
In this overview, payments are displayed in your <<payment/currencies#30, system currency>>. If the payment is in a different currency, this amount is displayed in brackets next to the system currency.

[TIP]
.Setting up event procedures for incoming payments
====
Payment receipt is an important event when it comes to processing orders because items are not typically shipped until the payment was received. In most cases, the order status in plentymarkets changes from *status [3] - waiting for payment* to *status [5] - cleared for shipping* as soon as the payment was received. Create <<automation/event-procedures#, event procedures>> to automatically process orders and ship the items once payment is received.
====

[#bank-postings-import]
=== Importing bank postings

The payment method cash in advance and other transfers take the form of bank postings. With these payment methods, the payments that were booked into your bank account have to be reported to the system and then they need to be assigned to the orders. Use the import type <<data/importing-data/sync-types/elasticSync-bank-postings, Bank postings>> to import your bank postings into your plentymarkets system. After the import, the bank postings are treated as other payments and are automatically assigned to orders. Accordingly, editing and managing of these payments is also done in the *Orders » Payments* menu.

[#20]
=== Searching for payments

You can search for payments in the *Orders » Payments* menu. This table is customisable. This means that you can decide which information is displayed in the table columns. To do so, proceed as follows:

[.instruction]
Customising the table:

. Click on *Configure columns* (icon:settings[set=material]). +
→ The window *Configure columns* opens.
. Select which columns are to be displayed.
. Move (icon:sort[set=material]) the columns so they are displayed in the order you need them in.
. Click on *Confirm* to save your settings.

You can select and combine different filters for the search, for example to search for unassigned payments of the last week.

There are several ways of using the search. You can enter a value in the search field and then select the required filter. For example, if you enter a number, available filters for this like IDs or variation numbers are suggested. Enter the value in full and then select the required filter from the suggestions. Repeat this to combine filters. Click on icon:search[set=material] to carry out the search. +
If you first want to select a filter from the available ones, click on the filter list and enter a value in the required filter. Click on *Search* once you have set all needed filters. +
Remove the chip if you want to delete a set filter. Available filters are explained in <<table-searching-payments>>.

Additionally, you can save selected filters in the UI by using the *Saved filters* (icon:bookmarks[set=material]) component. The saved filters can then be selected from this component every time you open or work with this menu, similar to bookmarks. Every user can save own filter sets.

[.instruction]
Saving filters:

. Set the filters with the required values.
. Carry out the search.
. Click on *Saved filters* (icon:bookmarks[set=material]).
. Click on *Save current filter*. +
→ The window *Save filter* opens.
.  Enter a *Filter name*.
. Decide if this filter set should be available to all users.
. Click on *Save*.

[[table-searching-payments]]
.Searching for payments
[cols="1,3"]
|====
| Setting | Explanation

|*Order ID*
|Search for orders to which a payment has been assigned by entering the order IDs.

|*Transaction ID*
|The transaction ID is assigned by the payment provider so that the payment can be correctly allocated to this provider. Enter a transaction ID to search for a payment with this specific transaction ID.

|*Transaction code*
|The transaction code describes the transaction itself. Enter a transaction code to search for a payment with this specific code.

|*Reference ID*
|A reference ID links payments, e.g. a payment and a refund. Enter a reference ID to search for payments with this specific transaction ID.

|*Payment ID*
|Enter the payment ID to search for the exact payment with this ID.

|*Payment method*
|Enter a specific payment method to search for payments that were paid with this payment method.

|*Reason for payment*
|Enter the reason for payment, either entirely or partly, to search for payments with this designated use.

|*Sender of payment*
|Enter the name of the person who sent the money to search for all payments of this person.

|*CR/DR*
|Choose between *Cr* (Credit) and *Dr* (Debit). +
*Credit* = All incoming payments with a positive value are displayed. +
*Credit* = All incoming payments with a negative value are displayed.

|*Value*
|Select an operator and enter an amount. +
*_Example_*: Select *Greater than or equal to* and enter 300 as the *Amount* in order to have all payments with an amount of 300 and more displayed.

|*Assignment*
|You can choose between *Assigned* and *Unassigned*. +
*Assigned* = Shows you only payments which were already assigned to an order. +
*Unassigned* = Shows you only payments which were not assigned to an order yet.

|*Status*
|Select a status to search for payments with this specific status.

|*Transaction type*
|Select a transaction type to search for payments that have this transaction type.

|*Currency*
|Select a currency to search for payments with this currency.

|*Date type*
|Select a date type and combine it with a date range. You can choose between *Imported*, *Received* and *Assigned*. Displayed are all payments which were either imported, received or assigned in the chosen date range.

|*from and to*
|In connection with *Date type*, choose a date range to search for payments which were either imported, received or assigned, depending on what you selected.

|*Reset*
|Click on *Reset* to reset all selected filters. Then, click on *Search* again, to have all incoming payments displayed.

|*Search*
|Executes the search.

|====

[#payments-myview]
== Using MyView

The user interface of the detail view of payments as well as the split view of a payment are available as MyView components. This means that users can create their own views with the available elements. This way, everyone can individually determine which information are needed where. Because of this customisation, working with payments is not only more comfortable but also faster. This chapter explains how to work with MyView and how to create your own views. Managing payments, such as e.g. <<payment/beta-managing-payments#30, assigning>>, <<payment/beta-managing-payments#40, detaching>> or <<payment/beta-managing-payments#50, splitting>> payments is explained in the following chapters.

You can access the detail view of a payment from the payment overview table in the *Orders » Payments* menu. Click on the row of the payment you want to work with and the detail view of this payment opens. +
The split view of a payment is accessed by clicking on *Split payment* (icon:call_split[set=material]) in the row of the payment you want to split. +
If you haven’t yet created an own view in these areas, the *Default view* is displayed. You can use this default view when you are working with payments or you can create your own view. The views you create are saved and can then be selected together with the default view from the list of views (icon:caret-down[role="darkGrey"]). Thus, you can switch between different views, if needed. The view selected last is always applied when opening a payment.

[#create-new-view]
=== Creating a new view

. Click on the list of views (icon:caret-down[role="darkGrey"]).
. Click on icon:plus[role="darkGrey"] *Create new preset ...*.
. Enter a name.
. Click on *Create view*. +
→ The new view is created and opens automatically, i.e. it is applied.
It’s now possible to switch between different views.

[#create-grid]
=== Creating a grid

. Click on *Edit view* (icon:design_inline_edit[set=plenty]).
. Add rows and columns to create a grid.
.. Click on icon:ellipsis-v[role="blue"] and then on icon:plus[role="darkGrey"] *Add row*.
.. Click on *Add column* (icon:plus[role="darkGrey"]).
.. Drag the columns to make them larger or smaller.

[#place-elements]
=== Placing elements

. Add elements via drag & drop.
. Click on icon:pencil[role="blue"] and edit the element’s settings.
.. Change the name.
.. Decide which data fields the element should contain.
.. Use drag & drop to arrange the data fields in a specific order.
. Click on icon:close[role="blue"]

[cols="1,4a"]
|====
|Symbol |Explanation

| icon:pencil[role="blue"]
|Leads down one level.

| icon:trash[role="blue"]
|Deletes the element.

| icon:close[role="blue"]
|Leads up one level.
|====

[TIP]
.Can I add elements multiple times?
======
The number in the grey circle indicates how many times you can use the element. Most elements can only be added once.
======

[#finalise-editing]
=== Finalising your work

. Save the view (icon:save[set=plenty]) and close the editing mode (icon:close[role="darkGrey"]).
. Check the result in the main window.
. If necessary:
.. Click on *Edit view* (icon:design_inline_edit[set=plenty]) again and edit the view even further.
.. Allow other users to see the view.

[#editing-functions]
==== Functions in the editing mode

[cols="1,4"]
|====
|Symbol |Explanation

| icon:reply[role=darkGrey]
|Undoes the last change, unless this change has already been saved.

| icon:share[role=darkGrey]
|Restores the previously undone change.

| icon:caret-down[role="darkGrey"]
|A list of views.
You see the name of whichever view is currently open.
Click on icon:caret-down[role="darkGrey"] to switch to a different view or create a <<payment/beta-zahlungen-verwalten#create-new-view, new view>>.

| icon:items_incoming_history[set=plenty]
|Resets the view to the state that was last saved.

| icon:save[set=plenty, role="darkGrey"]
|Saves the changes made to the view.

| icon:close[set=plenty]
|Closes the editing mode.
In case of unsaved changes, a dialogue is displayed.
|====

[#900]
==== Granting rights

Which users or roles should be allowed to see the view?
You can grant or limit access to every single view.

[.tabs]
====
Users::
+
--

. Click on *Edit view* (icon:design_inline_edit[set=plenty]).
. Click on icon:open_external_link[set=plenty] *Rights management*.
. Select *User* if you want to grant access to a specific user account. +
→ The menu *Setup » Settings » User » Rights » User* opens in a new tab.
. Search for (icon:search[role=blue]) and open the appropriate user account.
. Click on *Views*.
. Expand the entries (icon:chevron-right[role="darkGrey"]) and select (icon:check-square[role="blue"]) the views that the user should have access to.
. *Save* (icon:save[set=plenty, role="darkGrey"]) the settings.

<<business-decisions/user-accounts-access#112, Further information>> about user accounts and access rights.

--
Roles::
+
--

. Click on *Edit view* (icon:design_inline_edit[set=plenty]).
. Click on icon:open_external_link[set=plenty] *Rights management*.
. Select *Roles* if you want to grant access to an entire user role. +
→ The menu *Setup » Settings » User » Rights » Roles* opens in a new tab.
. Search for (icon:search[role=blue]) and open the appropriate user role.
. Click on *Views*.
. Expand the entries (icon:chevron-right[role="darkGrey"]) and select (icon:check-square[role="blue"]) the views that the user role should have access to.
. *Save* (icon:save[set=plenty, role="darkGrey"]) the settings.

<<business-decisions/user-accounts-access#116, Further information>> about user accounts and access rights.

--
====

[#30]
== Assigning payments

There are two ways to assign unassigned payments to an order. In the *Orders » Payments* menu you can either assign payments directly in the overview or you open the detail view of a payment and assign it from there.
Assigning in the overview is done by entering the corresponding order ID. This is an easy and fast way to assign when you already know which order a payment is to be assigned to, do not need any further information about the payment and have the order ID ready.
Proceed as follows to assign a payment in the overview.

[.instruction]
Assigning a payment in the overview with the order ID:

. Go to *Orders » Payments*.
. <<payment/beta-managing-payments#20, Search>> (icon:search[set=material]) for the payment.
. Enter the order ID of the order to which the payment is to be assigned in the *Order ID* field in the row of the unassigned payment.
. Press *Enter* to save it. +
→  The payment is assigned and the overview is updated.

If a fast assignment in the overview is not possible and you need more information about a payment, open the detail view of a payment. To do so, click into the row of the payment in the overview table or directly click on the payment ID. You can also click on the action *Assign payment* (icon:credit_card[set=material]) in the overview table to open the detail view of a payment.
To assign a payment in the detail view, proceed as follows.

[.instruction]
Assigning a payment in the detail view:

. Go to *Orders » Payments*.
. <<payment/beta-managing-payments#20, Search>> (icon:search[set=material]) for the payment.
. Open the payment by clicking either into the row of the unassigned payment you want to assign, on the payment ID or on *Assign payment* (icon:credit_card[set=material]). +
→ You are redirected to the *Assignment* portlet of the payment. +
→ The orders with the highest matching rates are displayed there.
. Select the correct order and click on *Assign payment* (icon:credit_card[set=material]). +
→ The payment is assigned to the selected order. Only the selected assignment is shown.

The matching between payments and orders are checked on the basis of a background matrix. This check is initiated as soon as you open the *Assignment* table in the detail view of a payment. A maximum of 10 orders with the highest matching rates are displayed in descending order.
As soon as you assigned the payment only the selected match will be displayed in this table. Only when the payment is <<payment/beta-managing-payments#40, detached>> from the order, will the matchings with the highest rates be displayed again.

Several payments can be assigned to the same order. This can happen, for instance, if the first payment did not cover the whole order amount. If one or several payments are already assigned to an order and you want to assign another one, you have to confirm this assignment.

This table is customisable. This means that you can decide which information is displayed in the table columns. To do so, proceed as follows:

[.instruction]
Customising the table:

. Click on *Configure columns* (icon:settings[set=material]). +
→ The window *Configure columns* opens.
. Select which columns are to be displayed.
. Move (icon:sort[set=material]) the columns so they are displayed in the order you need them in.
. Click on *Confirm* to save your settings.

[#15]
=== Booking a payment manually in an order

In order to manually book a payment or partial payment in the order, e.g. because the customer picked up the item and paid the item in cash or because a payment cannot be found in the overview, proceed as follows.

[.instruction]
Booking a payment:

. Go to *Orders » Edit orders*.
. Open the order for which you want to book a payment. +
→ The *Overview* tab opens.
. Open the *Payment* tab.
. Click on *Book payment*. +
→ The *Book payment* window opens.
. Carry out the settings according to the information given in <<table-manually-booking-payments>>.
. Click on *Book payment*. +
→ The payment is booked and displayed in the payment overview.

[[table-manually-booking-payments]]
.Booking payments manually
[cols="1,3"]
|====
|Setting |Explanation

| *Amount*
|Enter the full or partial amount that you want to book.

| *Credit/Debit*
| Select *Credit* or *Debit*. The selection depends on the open amount. *Credit* is selected by default. *Debit* is selected for negative pending amounts, e.g. overpaid payments. This selection can be changed if needed.

| *Currency*
|Select the currency in which the payment should be made.

| *Exchange rate*
|If needed, enter a different exchange rate than what is currently configured in the system. +
*_Important_*: In some cases, you may want to book a payment in a different currency than is currently selected for the payment (default currency), e.g. in US dollars. In this case, select the option *USD* under *Currency* and enter the amount received under *Amount*. +
If you calculated the <<payment/currencies#20, exchange rate>> in the *Setup » Orders » Payment » Currencies* menu and you want to use this exchange rate, then you do not have to enter anything under *Exchange rate*, because the exchange rate is automatically used. You will need to make an entry under *Exchange rate* if you want to use a different exchange rate for this payment, e.g. the exchange rate at the exact moment when the payment is received. In this case, enter the exchange rate that is applicable at this moment.

| *Designated use*
|The order ID is entered by default. The entry can be changed.

| *Incoming payment*
|Select a date for the incoming payment. The current date is set by default.
|====

You can recognise manually booked payments by the *Manual booking* icon.

[#40]
== Detaching payments

There are two ways to detach a payment from an order. In the *Orders » Payments* menu you can either detach payments directly in the overview or you open the detail view of a payment and detach it from there.
Proceed as follows to detach a payment in the overview.

[.instruction]
Detaching a payment in the overview:

. Go to *Orders » Payments*.
. <<payment/beta-managing-payments#20, Search>> (icon:search[set=material]) for the payment.
. Click on *Detach payment* (icon:money_off[set=material]) in the row of the payment you want to detach from an order. +
→ The payment is detached from the order and is displayed again as an unassigned payment.

A payment can also be detached from the detail view. To do so, proceed as follows:

[.instruction]
Detaching a payment in the detail view:

. Go to *Orders » Payments*.
. <<payment/beta-managing-payments#20, Search>> (icon:search[set=material]) for the payment.
. Click in the row of the payment you want to detach and open it. +
→ The detail view of the payment opens.
. Open the *Assignment* table. +
→ When the table opens, the existing order assignment is shown.
. Click on *Detach payment* (icon:money_off[set=material]). +
→ The payment is detached from the order. The highest matching rates for this payment are once again shown.

[IMPORTANT]
.Note when detaching payments
====
Detaching a payment from an order is technically possible at all times, even when order processing has advanced or is completed. But detaching a payment should only be done cautiously and with good reason because errors, for example that a payment no longer covers an open order amount, are likely to occur when a payment is detached and assigned repeatedly.  Further note that detaching a payment also causes changes to the order it was detached from, for example a recalculation of the payment of an order or a status change.
====

[#50]
== Splitting payments

Manually booked incoming payments, imported bank postings as well as EBICS payments can be split. This means that the amount of a payment can be split and assigned to several orders. This is done in the *Orders » Payments* menu. Note that Provisional postings cannot be split. To split payments, proceed as follows.

[.instruction]
Splitting a payment:

. Go to *Orders » Payments*.
. <<payment/beta-managing-payments#20, Search>> (icon:search[set=material]) for the payment.
. Click on *Split payment* (icon:call_split[set=material]) in the row of the payment you want to split. +
→ You are redirected to another view to proceed with splitting the payment.
. Search (icon:search[set=material]) for the required orders with the search filters *Order ID*, *Invoice number*, *External order ID*, *Contact ID* and *Name*. You can enter several IDs/numbers by separating them with a comma.
. Select the orders between which you want to split the payment from the search results.
. Click on *Save* (icon:save[set=material]). +
→ The payment is split and assigned to the selected orders in the order in which they are shown in the table, from the top down and you are redirected to the payments overview. Here, the created partial payments can be edited in the same way as the other payments.

When splitting a payment, the amount of the payment is reduced by the corresponding amounts of the orders that were selected during the division of the payment. Both, the original total amount of the payment as well as the leftover open amount are displayed in this view. When a leftover open amount is created by splitting a payment, this amount could be split again.

_An example_: Imagine you want to split a payment with the amount of 120 Euros into order A, which has an open amount of 80 Euros, and into order B, which has an open amount of 20 Euros. By splitting the payment and selecting these two orders, order A is assigned 80 Euros and order B 20 Euros. The payments created by splitting the original payment are automatically assigned to the selected orders. An amount of 20 Euros is left from the original payment. You can now assign this leftover amount to another order or, if required, can split it again.

[IMPORTANT]
.Splitting a payment cannot be reversed
====
Once you split a payment, this cannot be reversed. In order to restore the original payment, delete all partial payments. When a partial payment is deleted, the amount is added again to the original payment. Before deleting a partial payment, it has to be detached from the order because only unassigned payments can be deleted.
====

In the split view of a payment, info boxes provide you with a quick overview of the most important information: amount, the date the payment was received and the reason for payment. The amount info box is displayed in green when the amount is above zero, otherwise the box is grey.

[.collapseBox]
.*Customising the table*:
--

The table in the splitting payments area is customisable. This means that you can decide which table columns are displayed in which order. The following table columns are selected by default before the table is customised:

* Order ID
* Contact ID
* Name
* Invoice number
* Referrer
* Order date
* Open amount

Adapt the table according to your requirements and your workflow.  When you have adapted the table, these settings are saved. The table remains editable, you can change it any time.

[.instruction]
Customising the table:

. Click on *Configure columns* (icon:settings[set=material]). +
→ The window *Configure columns* opens.
. Select which columns are to be displayed.
. Move (icon:sort[set=material]) the columns so they are displayed in the order you need them in.
. Click on *Confirm* to save your settings.

--

[#60]
== Deleting payments

You can only delete payments when they are not assigned to an order. Deleting a payment can be carried out either directly in the overview table or in the detail view of an opened payment. Proceed as follows to delete a payment in the overview.

[.instruction]
Deleting a payment in the overview:

. Go to *Orders » Payments*.
. Click on *Delete payment* (icon:delete[set=material]) in the row of the payment you want to delete. +
→ The query *Deletion payment* opens.
. Click on *Yes*. +
→ The payment is deleted and the overview updated.

Moreover, the function *Delete* is also available to you in the detail view of a payment. To do so, proceed as follows.

[.instruction]
Deleting a payment in the detail view:

. Go to *Orders » Payments*.
. Click into the row of the payment you want to delete to open it. +
→ The detail view of the payment opens.
. Click on *Delete payment* (icon:minus-square[role=red]), above the details of the payment. +
→ The query *Deletion payment* opens.
. Click on *Yes*. +
→ The payment is deleted and you are redirected to the updated overview.

[#70]
== Carrying out the group function

Using the group function, you can edit several payments at the same time. To use the group function, at least one payment has to be selected. Use the search to filter for the required payments. After selecting the payments you can either auto-assign them all at the same time or delete them all at the same time. Remember that only unassigned payments can be deleted.

Proceed as follows to either assign or delete payments by using the group function.

[.instruction]
Editing payments by using the group function:

. Go to *Orders » Payments*.
. Select the payments (icon:check_box[set=material]) you want to auto-assign or delete.
. Click either on *Delete payments* (icon:delete[set=material]) or on *Auto-assign payments*  (icon:credit_card[set=material]) above the payments overview table. +
→ You have to confirm or deny the deletion or the assignment of the payments.
. After executing the group function, messages display how many of the selected payments could be auto-assigned or deleted.

Sometimes, not the whole selection can be edited. For example, if one or several of the selected payments are assigned to an order, they cannot be deleted. If you need further information why a payment could not be auto-assigned or deleted, you can refer to the log. For this, fo to the *Data » Log* menu.

Note that the auto-assignment depends on the setting *Match for automatic assignment (0.7 - 1.0)* in the *Setup » Orders » Payment » Incoming* menu. The value 0.7 stands for a 70% match and the value 1.0 stands for a 100% match. If two orders are found with the same matching rate while auto-assigning payments, the payment cannot be assigned. This also means that a payment can only be auto-assigned when just one order with the corresponding matching rate was found.

[#80]
== Further information in the detail view

Besides the functionalities <<payment/beta-managing-payments#30, assigning payments>>, <<payment/beta-managing-payments#40, detaching payments>> and <<payment/beta-managing-payments#60, deleting payments>>, the detail view offers you an overview over all information connected to a payment in different portlets. By using the <<payment/beta-managing-payments#payments-myview, MyView>>, you can configure and arrange the elements of the detail view according to your needs.

[#details]
=== Details

In the default view, the following basic information are displayed in the *Details* portlet:

* Payment method
* Received on
* Transaction ID
* Reason for payment

Optionally, you can go to *Edit view* (icon:design_inline_edit[set=plenty]) and additionally add the element *Sender of payment* or remove other elements. Rearrange the elements of the portlet by positioning them via drag & drop. +
Moreover, determine in the *Settings* of the portlet whether by default it should be collapsed or not when opening the detail view of a payment. To do so, use the *Portlet collapsed* function. +
If you want to change the name of the portlet, enter the name in the input field *Title*.

.Editing details portlet
image::payment/assets/portlet-details-edit.png[]

[#info-boxes]
=== Info boxes

Info boxes provide a quick overview of the most important payment information. In the default view, the info boxes *Amount in foreign currency* (the currency in which the payment was made), *Status* and *Payment method* are displayed. +
The payment status us additionally shown by the coloured status bar of the info box *Status*.

* Green = The payment was processed, it either means approved, captured or refunded.
* Orange = The payment is being processed, it either means waiting for approval, partially captured or awaiting renewal.
* Red = The payment was not processed, it either means refused, cancelled or expired.

Optionally, you can go to *Edit view* (icon:design_inline_edit[set=plenty]) and remove elements or additionally add the following info boxes as elements to this portlet:

* Received on
* Exchange rate
* Assignment date
* Transaction ID
* Reason for payment
* Sender of payment
* Amount in system currency

Rearrange the elements of the portlet by positioning them via drag & drop. Morevover, determine in the *Settings* of the portlet how many cards (info boxes) are displayed per row.

.Editing info boxes
image::payment/assets/portlet-info-boxes-edit.png[]

[#assignment]
=== Assignment

The *Assignment* portlet offers you a list of the orders with the highest matching rate for an unassigned payment. If a payment is already assigned, only the order which it is assigned to is displayed here. Only when the payment is <<payment/beta-managing-payments#40, detached>> from the order, will the matchings with the highest rates be displayed again. +
The matching between payments and orders are checked on the basis of a background matrix. This check is initiated as soon as you open the *Assignment* area. A maximum of 10 orders with the highest matching rates are displayed in descending order.

Moreover, you can detach an assigned payment in the assignment table. To do so, click on *Detach payment* (icon:money_off[set=material]). But take into account that <<payment/beta-managing-payments#40, detaching payments>> should not be done without good reason.

The assignment table is customisable. By default, all available columns are displayed:

* Matching rate
* Order ID
* Amount
* Contact ID
* Contact name

By using *Configure columns* (icon:settings[set=material]) you can determine which columns are displayed in which order. +
Optionally, you can go to *Edit view* (icon:design_inline_edit[set=plenty]) and determine in the *Settings* of the *Assignment* portlet whether by default it should be collapsed or not when opening the detail view of a payment. To do so, use the *Portlet collapsed* function. +
If you want to change the name of the portlet, enter the name in the input field *Title*.

.Portlet settings
image::payment/assets/portlet-settings.png[]

[#payment-history]
=== Payment history

The portlet *History* offers you an overview over all actions executed for this payment. It is also shown who initiated an action at what time so that transparency is always ensured.

You see at a glance when (date) who (user or other sources, e.g. a plugin) did what (action and value, e.g. Assigned | Order ID xy) with the payment.   The following entries can be seen in the payment history, for example:

* Import date of a payment
* Information about the assignment of a payment to an order
* Information about the detachment of a payment from an order
* Currency changes
* Exchange rates
* Changes in amounts
* Status changes
* Creation/change of properties

The table is customisable. By default, the columns *Date*, *User / Source*, *Action* and *Value*, which are all the available columns, are displayed. +
Note that the entries in the column *Value* are always in English because this data is taken directly from the database. By using *Configure columns* (icon:settings[set=material]) you can determine which columns are displayed in which order.

Optionally, you can go to *Edit view* (icon:design_inline_edit[set=plenty]) and determine in the *Settings* of the *History* portlet whether by default it should be collapsed or not when opening the detail view of a payment. To do so, use the *Portlet collapsed* function. +
If you want to change the name of the portlet, enter the name in the input field *Title*.

[#properties]
=== Properties

The portlet *Properties* show all information belonging to the payment.  These information usually exceed the information given in the details. Which information are shown in the Properties depends on the payment itself, for example which payment method was used or which information a  payment provider transfers.

Optionally, you can go to *Edit view* (icon:design_inline_edit[set=plenty]) and determine in the *Settings* of the *Properties* portlet whether by default it should be collapsed or not when opening the detail view of a payment. To do so, use the *Portlet collapsed* function. +
If you want to change the name of the portlet, enter the name in the input field *Title*.

[#100]
== Displaying incoming payments on the dashboard

You can add the element *Payments* to the <<welcome/customise-system#110, dashboard>> of your plentymarkets back end. This element displays information about unassigned payments as well as about all incoming payments from yesterday and today. If you don't want to use this element on your dashboard, you can get the same results by going to *Orders » payments* and using the search filters.

It is recommended that you take a look at the unassigned payments before editing orders. You should see whether incoming *cash in advance* payments are among them, which can usually be assigned to an order without a doubt thanks to the amount and the booking text. This saves your customers long waiting times and it saves you unpleasant complaints.

At least once a week, you should edit and sort out the unassigned payments so that you don't lose track of them in your day-to-day business. For further information about assigning unassigned payments and bookings to orders, refer to <<payment/beta-managing-payments#30, Assigning payments>>.

[TIP]
.Tip
====
Sofortbanking payments will be confirmed via an interface immediately after the payment process. They will then appear again in the system as bank postings. You can delete these bank postings from the list of unassigned payments without concern because the orders in question have already been assigned to the payment.
====
