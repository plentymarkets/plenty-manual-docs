= Integrating plentyPOS
:author: team-app-bi
:keywords: plentyPOS, plentyPOS, set up POS, POS setup,POS user, POS payment method, POS booking account, POS pickup, prices POS orders, rounding behaviour POS orders, POS order, dummy item, miscellaneous item, POS coupon, POS return, link POS, send receipt, print receipt, customer card, loyalty card, cash journal, change POS order, delete POS, unlink POS, POS user rights, POS rights
:table-event-procedure: <<table-POS-event-procedure-outgoing-items>>, <<table-POS-event-procedure-send-receipt>>
:description: Are you setting up plentyPOS for the first time? This page guides you through the process step-by-step.

The mobile POS solution plentyPOS allows you to integrate your brick and mortar store seamlessly both with your online presence and your plentymarkets system.

This manual page contains instructions for setting up your plentyPOS. Are you setting up plentyPOS for the first time? In that case, we recommend that you work through the chapters of this manual page carefully one after the other to carry out the settings.

Alternatively, use the following links and the navigation to the right to jump to the desired content on this manual page.

* <<#10, First steps and general information>>
* <<#130, Managing user accounts for plentyPOS>>
* <<#710, Activating payment methods for POS orders>>
* <<#950, Saving booking accounts for plentyPOS events>>
* <<#180, Creating the shipping method Pickup>>
* <<#100, Managing prices for POS orders>>
* <<#800, Specifying rounding behaviour for POS orders>>
* <<#95, Creating a default customer for POS orders>>
* <<#220, Creating a dummy item>>
* <<#2100, Multipurpose coupons and promotional coupons>>
* <<#3600, Preparing returns>>
* <<#3000, Booking outgoing items automatically>>
* <<#230, Linking a POS to a device>>
* <<#250, Emailing receipts to existing customers>>
* <<#990, Using loyalty cards>>
* <<#1000, Setting up printing of POS receipts on other printers>>
* <<#1090, Setting up printing of item labels>>
* <<#1100, Using plentyPOS without an internet connection>>
* <<#400, Searching POS transaction in the cash journal>>
* <<#960, Changing POS orders in the plentymarkets back end>>
* <<#910, Decommissioning a POS>>

[#10]
== First steps and general information

The point of sale system plentyPOS is provided as a component of the xref:app:installation.adoc#[plentymarkets app]. Take a look at our documentation and learn:

* which xref:app:installation.adoc#400[hardware requirements] apply to plentyPOS.
* where you can xref:app:installation.adoc#500[download the free plentymarkets app].
* how to xref:app:installation.adoc#600[grant your employees access to the app].
* how to xref:app:installation.adoc#1100[log into the app and find your way around].

plentyPOS can be operated in Euro (EUR), Swiss Franks (CHF) and Pound Sterling (GBP). However, you can only operate the POS in the xref:payment:currencies.adoc#30[system currency]. The system currency is set in the *System » System settings » Orders » Payment » Currencies* menu.

[IMPORTANT]
====
.Book a POS
To use plentyPOS, you need to link:https://www.plentymarkets.com/product/pricing/[book one or more POS for your plentymarkets edition^]. Visit our link:https://www.plentymarkets.com/product/modules/point-of-sale/[plentyPOS product page^] to get further information on prices and terms and conditions.
====

After you have booked POS, it takes two or three minutes for the activation process to finish in the background. Then, log out of your plentymarkets system and log in again. This step is also necessary if you have already set up points of sale and book one or several new points of sale later.

Afterwards, you carry out the settings for the points of sale in the plentymarkets back end. First, you assign a POS to a client by creating a POS in the *Setup » POS » [Select client]* menu and carrying out further settings. To do so, proceed as described below.

[WARNING]
.Do not change POS settings while POS is in use
====
Do not change POS settings while the POS is in use. If you have to make changes to the POS settings, tell POS users to log out of the app and log back in. Otherwise, discrepancies may occur to totals especially if you make changes to the rounding settings.
====

[#40]
=== Creating a POS for a client

First, create a POS for the client (store) in the plentymarkets back end.

[.instruction]
Creating a POS for a client:

. Go to *Setup » POS » [Select client]*.
. Click on *New POS*. +
→ The window *New POS* is displayed.
. Enter a name for the POS.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ A referrer is assigned to the POS. +
→ The POS is created and the settings are displayed.

<<table-POS-menu-bar>> describes the menu bar of a POS.

[[table-POS-menu-bar]]
.Menu bar of a POS
[cols="1,3"]
|====
|Setting |Explanation

| *ID*
|Unique ID of this POS. The ID is assigned automatically across clients and cannot be changed.

| *Copy*
|Creates a new POS with the settings of the POS currently displayed. Only the name and the referrer are changed. +
*_Note:_* You can only copy a POS if you have booked a sufficient number of POS.

| *Device*
|If this POS is linked to a device, the unique ID of that device is displayed.

| *Delete*
|Deletes the POS from the system.
|====

[#50]
=== Basic settings for POS

Now, carry out the desired settings in the *Basic settings* tab of the POS and save these settings. Note <<table-POS-basic-settings>>.

[[table-POS-basic-settings]]
.*Basic settings* tab of a POS
[cols="1,3"]
|====
|Setting |Explanation

| *Name*
|Enter a name for the POS.

| *Referrer*
|When you book a POS, a new referrer is generated automatically. This allows you to identify orders generated with this POS. The POS is assigned to an available POS referrer (103.01 to 103.99) automatically.

| *Default customer*
|Select the <<#95, default customer>> which you created for POS orders and to which you want to assign orders generated with this POS.

2+^| *Location*

| *Name 1-4*; +
*Address 1-4*; +
*Postcode*; +
*Town*; +
*Country*
|Enter the company name and the address of the local store in which the POS is to be operated. +
*_Note:_* In Germany and other countries, saving the address is a legal requirement. Contact your tax consultant for legal advice. Your tax consultant can advise you on the correct location details. +
*_ Location Austria:_* Once a start receipt has been created for the POS, the location country can no longer be changed.

2+^| *Item filter*

| *Apply market availability*
|Select if the market availability should be considered for this POS. The market availability is activated in the *Markets* area of the variation's *Availability* tab. +
Option activated = Only variations are available in this POS for which the POS's referrer has been activated in the *Markets* area of the *Availability* tab of the variation. +
Option not activated = Variations for which the POS's referrer has not been activated also are available for this POS and can be accessed and sold.

| *Include active variations only*
|Select if only active variations should be made available for this POS. Variations are activated in the *Settings* tab of the variation. +
Option activated = Only variations are available in the POS for which the option xref:item:manually-create-item.adoc#600[Active] is activated in the *Settings* tab of the variation. +
Option not activated = Active and inactive variations are available for this POS and can be accessed and sold.

2+^| *Sales warehouse*

| *Sales warehouse*
|Select the sales warehouse to which you want to book orders generated with this POS. +
*_Note:_* In the POS shopping cart, items with no net stock are shown in red but can be sold. As such, mathematical overselling can occur.

2+^| *Return*

| *Default repair warehouse*
|Select the warehouse that is suggested for returned items by default.

| *Default rack*
|Select the rack of the warehouse that is suggested for returned items by default.

| *Default repair storage location*
|Select the storage location that is suggested for returned items by default. +
*_Tip:_* Press the arrow key on your keyboard twice to show a list of storage locations.

| *Refund customer with gift card* +
|Select if POS users are allowed to hand out a coupon to the value of the refund amount instead of paying out the amount in cash.

| *Variation ID of refund gift card* +
|Enter the ID of the variation that serves as the coupon item for refunds.

2+^| *Item movement*

| *Reverse stock if order is cancelled*
|Activate the option to reverse stock automatically if an order is cancelled.

| *External order: Book outgoing items automatically* +
(app version 1.9.2 and higher)
|Select if outgoing items are booked automatically for external orders that are paid for at the POS. +
Activated (default setting) = Items are booked out automatically. The *Book outgoing items* button is not shown. +
Not activated = Items are booked out only if the POS user taps the *Book outgoing items* button. +
*_Tip:_* Deactivate the option if your customers do not receive their goods at the POS.

| *Outgoing items for external orders: Book items out of POS sales warehouse* +
(app version 1.9.2 and higher)
|Select from which warehouse the order items are to be booked out when external orders are completed at the POS. +
Not activated (default setting) = The order items are booked out of the warehouse that was assigned to the order when the order was created. +
Activated = The order items are booked out of the *Sales warehouse* saved for the POS. The warehouse originally saved for the order is overwritten.

2+^| *Operation*

| *Query price if price is 0,00*
|Activate the option to enter the price manually if an item with a price of 0 is added to a POS order.

| *Add favourites with quantity 1*
|Activate the option to automatically add favourites to the POS shopping cart with the quantity 1. Add the item to shopping cart again to increase the quantity. +
*_Tip:_* The quantity of favourites that were added via the item search must still be entered manually.

| *Numpad (tablet view): Show quick buttons for quantity and exact payment*
a|Activate the option to show quick buttons for the numpad of the POS. +
Not activated = The numpad quick buttons are not shown. +
Activated = The following numpad quick buttons are shown as an additional row of the POS’s number pad:

* *X* = POS users can enter a quantity before scanning an item or selecting a favourite item. If no quantity is entered before scanning, the scanned item is added to a POS order with a quantity of 1.
* *Exact cash amount* = If customers pay the exact amount in cash, POS users can tap this button instead of entering the amount. The *Received* field is filled with the amount due.

| *Show expected cash on hand*
|Choose whether the expected cash on hand should be displayed while creating a xref:pos:plentymarkets-pos-for-pos-users.adoc#230[z report] or a xref:pos:plentymarkets-pos-for-pos-users.adoc#450b[till count report]. This option is deactivated by default. In other words, POS users _do not_see how much money is expected to be in the till while they count the cash. It’s a good idea not to change this setting, as it ensures that POS users really count the cash themselves. If POS users see this information, they might be tempted to blindly accept the value rather than count themselves.

| *Cash register drawer*
|Select if the cash drawer should only be opened if customers pay in cash or a cash refund takes place. If his option is activated, the cash drawer will not be opened if in case of payments or refunds via card terminals.

2+^| *Loyalty card*

| *Customer identification* +
(app version 1.9.2 and higher)
|Select what contact data is searched if a barcode with a plus sign prefix (+) is scanned. +
*Contact ID* (default setting) = Select this option if barcodes contain the contact ID. +
*Customer number* (recommended) = Select this option if barcodes contain the customer number. +
*_Tip:_* If you select *Customer number*, this allows you to print loyalty cards with barcodes in advance. The barcode code minus the plus sign is then entered into the *Customer number* field of the contact. For more information on ordering and using customer cards, refer to the chapter <<#990, using customer cards>>.

2+^| *Fiscalisation (Germany)* +
(app version 1.10.0 and higher)

| *POS serial number*
| After successfully linking a technical security unit with the POS, the serial number is added in this field automatically.

| *TSE serial number*
| After successfully linking a technical security unit with the POS, the serial number is added in this field automatically.

| *TSE public key*
| After successfully linking a technical security unit with the POS, the serial number is added in this field automatically.

2+^| *Fiscalisation (Austria)*

| *POS identification number*
| The POS identification number registered with FinanzOnline.

| *AES key* +
(new POS with location in Austria only)
|Enter the AES key to be used for encrypting the revenue counter of the POS. You can enter any AES key. However, once a start receipt has been created for the POS, the AES key can no longer be changed. +
*_Tip:_*Click on *Generate key* to generate a random key. +
*_Note:_* Existing POS cannot be made tamper-proof. Create a new POS and decommission the old POS to set up the signature unit.

| *Trust service provider* +
(new POS with location in Austria only)
|Enter the name of the signature service provider (Vertrauensdiensteanbieter) you bought the certificate from. +
*_Note:_* Existing POS cannot be made tamper-proof. Create a new POS and decommission the old POS to activate the signature unit.

| *Serial number of signature certificate* +
(new POS with location in Austria only)
|Enter the serial number of the signature certificate. You can find this serial number in the documentation you received from the service provider (Vertrauensdiensteanbieter). +
*_Note:_* Existing POS cannot be made tamper-proof. Create a new POS and decommission the old POS to activate the signature unit.
|====

[#60]
=== Managing favourites

You can add variations to the favourites list. This allows POS users to add frequently sold variations to the POS shopping cart more quickly.

[#70]
==== Saving variations as favourites

Proceed as described below to save variations as favourites.

[.instruction]
Saving variations as favourites:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Click on the *Favourites* tab.
. Click on the *Add variation* tab. +
→ A list of the variations is displayed.
. *_Optional:_* If necessary, use the filter to limit the number of variations shown.
. Click on *Add variations*. +
→ The variations are added to the list of favourites and displayed in the *Favourites* tab. +
→ Next time the POS is synchronised, the favourites are sent to the POS.

[TIP]
.POS users' favourites take priority
====
POS users can create their own favourites in plentyPOS. The POS user's favourites take priority over those favourites saved in the plentymarkets back end.
====

[#80]
==== Changing the order of favourites

You can change the priority of favourites using the arrow symbols in the *Favourites* tab. Move your most sold variations to the top of the list. The first variation on the list also is the first one displayed in the favourites list of POS users. Proceed as described below to set the order in which favourites are displayed.

[.instruction]
Changing the order of favourites:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Open the *Favourites* tab. +
→ A list of the variations of the favourites list is displayed.
. In the *Actions* column, click on the arrow of the variation you want to move. +
→ Use the up arrow to increase the priority of a variation. +
→ Use the down arrow to decrease the priority of a variation.

[#90]
==== Copying the favourites list to another POS

You can copy the favourites list of one POS to one or several other POS of the same client. This action does not delete existing favourites from the target POS. To do so, proceed as described below.

[.instruction]
Copying favourites to another POS:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Open the *Favourites* tab. +
→ A list of the variations of the favourites list is displayed.
. Click on *Copy favourites*. +
→ The *Copy favourites* window is displayed.
. Place check marks next to the POS to which you want to copy the favourites of this POS.
. Click on *Save* (icon:save[role="green"]). +
→ The favourites are copied to the selected POS.

[#110]
==== Deleting variations from the favourites list

Proceed as described below to delete variations from the favourites list. Variations you delete from the list are deleted from the POS's favourites list during the next synchronisation.

[.instruction]
Deleting variations from the favourites list:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Open the *Favourites* tab. +
→ A list of the variations of the favourites list is displayed.
. In the variation's column, click on *Delete*. +
→ The variation is deleted from the favourites list.

[#120]
=== Editing the receipt template

In the *Receipt* tab of the POS settings, you specify the data to be displayed on receipts. Upload an image (optional) and specify the information to be displayed in the header and footer of receipts. By default, the header contains the information saved in the *System » Settings » Master data* menu. You can customise this information for each POS. Use the footer for any additional information. For example, tell your customers about special offers or your online store.

[.instruction]
Editing the receipt template:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Click on the *Receipt* tab.
. Place a check mark next to the components to be shown on the POS's receipts.
. Carry out the desired settings. Note <<table-POS-receipt-template>>.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The receipt template is created.

[[table-POS-receipt-template]]
.Editing the receipt template
[cols="1,3"]
|====
|Setting |Explanation

2+^|Receipt settings

| *Print and save gift card receipt*
a|Select if a coupon receipt should be printed and saved in the document archive. +

Not activated (default) = No coupon receipt is printed. +
Activated = A coupon receipt is printed when a coupon is sold or partially redeemed. +
→ The coupon receipt is created and saved in the document archive. +
→ If the option *Automatic printing* is activated in the plentymarkets app under *plentymarkets app » Settings » POS*, the coupon receipt is printed after the POS receipt is printed. +
→ If the option  *Automatic printing* is not activated in the plentymarkets app under  *plentymarkets app » Settings » POS*, the POS user can print the coupon receipt manually after completing the order. +
The coupon receipt shows the following information about the coupon:

* Coupon value
* Coupon code
* For partially redeemed coupons: redeemed amount and remaining amount

*_Note:_* Regardless of the setting you select, the coupon code is always printed on the normal POS order receipt when a coupon is sold.

| *Hide grand total on z report*
|Select if the xref:glossary:glossary#grand-total[grand total] should be included in the z report. +
Not activated (default) = The grand total is not included in the z report. +
*_Note:_* In this case, the grand total can only be displayed at the point of sale itself by users with admin rights. +
Activated = The grand total is included in the z report.

| *List discount codes on z report individually*
|Select if discount codes redeemed in connection with xref:glossary:glossary#promotional-coupon[promotional coupons] should be listed individually on the z report. +

Not activated (default) = The total amount of all redeemed coupon codes is listed on the z report. +
Activated = Identical coupon codes are displayed in a single entry of the z report. In addition, the respective number of coupon codes is listed so that you can differentiate between different codes.

2+^|Receipt content

| *List identical order items*
|Select how to list several identical variations on receipts. +
*Individually* = Every variation is shown individually irrespective of the quantity being sold. Example: +
---------------------------------------------------- +
Cat food CaTasty Deluxe           6.99 GBP +
Cat food CaTasty Deluxe           6.99 GBP +
Cat food CaTasty Deluxe           6.99 GBP +
---------------------------------------------------- +
*In aggregate* = Identical variations are shown in aggregate. Example: +
---------------------------------------------------- +
Cat food CaTasty Deluxe           20.97 GBP +
3 x 6.99 GBP +
---------------------------------------------------- +

| *Order item details*
|Select one of the options *Variation ID*, *Variation number*, *Attributes* or *External variation ID* to
display the corresponding additional information on the sold item on the receipt. The information is displayed below the item name on the receipt. Activate the option *None* if no additional information should be displayed.

| *Image*
|Activate the option and select a PNG file to display on the receipts generated by the POS. The file has to be uploaded to the *CMS » Image gallery* menu beforehand.

| *Header*
|If the option is selected, the field's content is displayed as a header on all receipts issued by the POS. By default, the header contains the information saved in the *System » Settings » Master data* menu. Make changes as needed.

| *Barcode*
|Should barcodes be displayed on your receipts? +
In case of a xref:pos:plentymarkets-pos-for-pos-users.adoc#175[return] or a xref:pos:plentymarkets-pos-for-pos-users.adoc#[Click & Collect order], customers usually bring their receipts to the store. If a barcode was printed on the receipt, the POS user only has to xref:pos:plentymarkets-pos-for-pos-users.adoc#520[scan the barcode] to access the corresponding order. +
In other words, barcodes help POS users find orders faster. It’s no longer necessary to manually enter a receipt number or an order ID. +
*_Note_*: The receipt number is displayed as a barcode and it includes an asterisk (*) as its prefix. When a barcode is scanned, the asterisk specifies that the user is looking for a barcode.

| *Footer*
|Activate this option and enter an additional text.

|====

[#130]
== Managing user accounts for plentyPOS

The following preparations are necessary to allow POS users access to plentyPOS:

* Create a user account of the user class *Backend*
* Activate rights for POS visibility
* Activate rights for POS functions (optional)
* Activate rights for communication with the plentymarkets back end via REST API
* Activate rights for visibility of key figures (optional)
* Activate order referrers

The settings you need to create a user account for a POS user are described below. For general information about user accounts and user rights, refer to the xref:business-decisions:user-accounts-access.adoc#[User accounts and access] page of the manual.

[TIP]
.Tip: Create a role for POS users
====
To simplify rights management for POS users, create a xref:business-decisions:user-accounts-access#70[role] with those rights your POS users need, and link this role to the user accounts of POS users.
====

[#140]
=== Creating an account for POS users

To give new POS users access to plentyPOS, create a xref:business-decisions:user-accounts-access.adoc#[user account] of the user class *Back end* in the plentymarkets back end. To do so, proceed as described below.

[.instruction]
Creating user accounts for POS users:

. Go to *Setup » Settings » User » Accounts*.
. Click on *New* (icon:plus-square[role="green"]). +
→ The *Create new user* window opens.
. Enter the *User name*.
. Enter the *Real name*.
. Enter the *Password*.
. Repeat the password.
. Enter a *New app PIN* with between 4 and 12 numbers.
. Re-enter the app PIN.
. Enter the user's email address. This allows the user to receive messages from the system.
. Select the user class *Backend*.
. *Save* (icon:save[role="darkGrey"]) the settings.

[TIP]
.App PIN for quickly switching user accounts
====
The app PIN allows users to quickly switch between user accounts in some of the views of the plentymarkets app. Users always need to enter their password to log into the app for the first time. Thus, your POS users need a password *and* a PIN.
====

[#150]
=== .Assigning rights for POS users

Now assign rights for the communication between plentyPOS and the plentymarkets back end.

:rights-purpose: use the basic functionalities of plentyPOS as POS users
:right-one: pass:quotes[*POS*]
:right-two: pass:quotes[*CRM > Campaign > Code > Show*]
:right-three: pass:quotes[*CRM > Campaign > Code > Create*]
:right-four: pass:quotes[*CRM > Campaign > Code > Delete*]
:right-five: pass:quotes[*CRM > Address > Show*]
:right-six: pass:quotes[*Orders > Show*]
:right-seven: pass:quotes[*Orders > Create*]
:right-eight: pass:quotes[*Stock > Warehouses > Warehouse location > Show*]

include::_includes:partial$rights.adoc[]

[#160]
=== Activating POS visibility for POS users

Now you define which functions and key figures are visible to *Backend* users in the plentymarkets App.

[.instruction]
Activating rights for mobile access:

. Go to *Setup » Settings » User » Accounts*.
. Open a user account.
. Click on the *Mobile* tab.
. In the *Visible functions* area, activate the option *POS*.
. Activate xref:pos:integrating-plentymarkets-pos.adoc#170[additional rights] if you want to allow the user to access other areas of the plentymarkets app.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The user is able to access plentyPOS and can create POS orders.

[#170]
=== Activating rights for optional POS functions

For POS users to edit prices, rename order items and/or give discounts, you need to assign the appropriate rights to POS users. Click xref:business-decisions:user-accounts-access.adoc#70[here] to learn how to create roles and assign them to users. You also activate additional app functions for users.

By assigning roles in the plentymarkets back end, you determine the POS functions that POS users are allowed to use. You also define which additional functions and key figures are visible in the plentymarkets app.

[.instruction]
Activating rights for POS functions:

. Go to *Setup » Settings » User » Accounts*.
. Open a user account with *Backend* or *REST-API* access rights.
. Click on the *Mobile* tab.
. Activate the POS functions that the POS user should have access to. Note <<table-POS-rights>>.
. *Save* (icon:save[role="darkGrey"]) the settings.

[[table-POS-rights]]
.Mobile rights for POS users
[cols="1,3"]
|====
|Setting |Explanation

2+^|Visible functions

| *POS*
|Grants POS users access to plentyPOS.

2+^|POS functions

| *Edit price*
|Allows POS users to edit prices of order items.

| *Rename order item*
|Allows POS users to change the name of order items.

| *Give discount*
|Allows POS users to give discounts on order items or complete orders. +
*_Note:_* Items with the option *Promotional coupons/POS discount* set to *Not permitted* cannot be discounted.

| *Selling items*
|Allows POS users to sell items with the point of sale system.

| *Lock POS*
|Allows POS users to lock a POS.

| *Deposits and withdrawals*
|Allows POS users to deposit and withdraw cash from the POS.

| *Till count*
|Allows POS users to record the result of till counts.

| *Z report*
a|Allows POS users to create z reports. +
Z reports contain the following information: +

* Cash on hand: Initial cash on hand, withdrawals, deposits, expected cash on hand, actual cash on hand
* Revenue: since last Z report (sum) and since creation of POS (grand total)
* VAT report: VAT rate, VAT amount and net revenue
* Payment methods: Revenue by payment method
* Returned items: Quantity and total
* Cancellations: Quantity and total
* Discounted items: Quantity and total
* Quantity and total for sold coupons
* Users: Revenue, cancellations and returns by user

| *X report*
a|Allows POS users to create x reports. +
X reports contain the following information: +

* Cash on hand: Withdrawals, deposits, expected cash on hand
* Revenue: since last Z report (sum) and since creation of POS (grand total)
* VAT report: VAT rate, VAT amount and net revenue
* Payment methods: Revenue by payment method
* Returned items: Quantity and total
* Cancellations: Quantity and total
* Discounted items: Quantity and total
* Quantity and total for sold coupons
* Users: Revenue, cancellations and returns by user

| *TSE unit*
|Allows POS users to open the *TSE unit* menu in the plentymarkets app. This menu displays xref:pos:pos-legal-compliance.adoc#900[status information on the TSE unit]. In addition, POS users with this right are authorised to create xref:pos:pos-legal-compliance.adoc#700[TSE exports].

| *Item synchronisation*
|Allows POS users to synchronise item data with the POS.

| *Upload orders*
|Allows POS users to upload POS orders to the plentymarkets back end.

| *Create return*
|Allows POS users to book returns.

| *Select customer*
|Allows POS users to look up customer data from the POS shopping cart and to select an existing customer for the order.

| *Cancellation*
|Allows POS users to cancel orders.
|====

[#175]
=== Activating order referrers for POS users

[.instruction]
Activating order referrers:

. Go to *Setup » Settings » User » Rights » User*. +
→ The overview opens.
. *_Optional:_* In the filter settings on the left, enter an ID or a name to limit the search results.
. Click on *Search* (icon:search[role="blue"]). +
→ The user accounts that correspond to the search criteria are displayed. +
*_Tip:_* Accounts that are greyed out have admin rights.
. Click on the appropriate account. +
. Click on *Resources*. +
→ A list of available order referrers is displayed. In this list, each POS system linked to your plentymarkets system is shown as a separate order referrer.
. Activate all POS systems on which the POS user should work.
. *Save* (icon:save[role="darkGrey"]) the settings.

[WARNING]
.Check order referrers carefully
====
Pay close attention to activating *all* POS order referrers for which the POS user should be able to ring up customers. If, for example, two POS are used in your store, activate both POS order referrers for the user. If you do not do so, the user will not be able to ring up a customer at POS 1 and later process a return for the same order using POS 2.
====

=== Unlocking a POS user

If an incorrect password is entered several times in succession, the login is blocked for a certain amount of time. As a user with admin rights, you can unlock the user manually in the plentymarkets back end.

[.instruction]
Unlocking a user:

. Go to *Setup » Settings » User » Accounts » Open user*.
. Click on *Unblock login*. +
→ The POS user is able to log into the plentymarkets App.

[#710]
== Activating payment methods for POS orders

To take payment for orders generated in plentyPOS, activate those payment methods you want to allow. As a minimum, you need to activate the payment method *Pay upon pickup* so customers can pay cash. All other payment methods are optional.

To activate the payment methods for plentyPOS, you need the free *plentyPOS payment methods* plugin. The plugin provides the following payment methods:

* *4 » Pay upon pickup* for cash payments
* *11 » Cash sale/cash card* for card payments via external payment terminals
* *1700 » Coupon* for gift card purchases

[.instruction]
Activating payment methods for POS orders:

. Install the plugin link:https://marketplace.plentymarkets.com/en/pospaymentmethodrenaming_6813[plentyPOS payment methods^]. +
*_Note:_* Pay attention to the information provided in the *Description* area of the plugin.
. Go to *Setup » Assistants » Plugins*.
. Click on the plugin set in which you have installed the plugin.
. Open the assistant *plentyPOS payment methods*.
. Enter names for the payment methods.
. Complete the assistant. +
→ The payment methods are activated and are available in the *Setup » Orders » Payments » Payment methods* menu. There, you can deactivate individual payment methods as needed. However, keep in mind that at least the payment method *Pay upon pickup* has to be activated at all times for plentyPOS.

[IMPORTANT]
.Renaming payment methods
====
You can return to the assistant and finish it again at a later point in time if you wish to change the payment method names again. The name is displayed in the plentymarkets back end, on plentyPOS receipts, in the X and Z report and in all exports generated via plentyPOS.
====

Note that payment methods must also be permitted for customer classes in another menu. For further information, refer to xref:payment:managing-payment-methods.adoc#30[Permitting the payment method in a customer class].

[TIP]
.Payment method Cash sale/cash card
====
For the payment method *11 » Cash sale/cash card*, also go to *Setup » POS » [Select client] » [Open POS] » Tab: Payment method* and select *Unconnected device* in the *POS terminal* area.
====

[#1070]
=== Linking payment terminals

Some card terminals can be linked to plentyPOS by provisioning plugins in the plentymarkets back end. plentyPOS currently supports the following card terminals:

* link:https://marketplace.plentymarkets.com/en/plugins/payment/ingenicozvt_5140[Ingenico devices via ZVT interface^]
* link:https://marketplace.plentymarkets.com/en/plugins/payment/sumup_5141[SumUp Air^]
* link:https://marketplace.plentymarkets.com/en/plugins/payment/VerifoneZVT_5504[Verifone devices via ZVT interface^]
* link:https://marketplace.plentymarkets.com/en/zettle_54918[Zettle by PayPal^]

Check the plugin descriptions for further information and details on how to set up the plugins.

[#1080]
=== Offering invoice and down payments

If you want to allow existing customers to buy on account or offer them the possibilty to make down payments, you need the following plugin:

* link:https://marketplace.plentymarkets.com/en/plugins/payment/PosInvoice_5590[POS Invoice^]

Check the plugin description for further information and details on how to set up the plugin.

[#950]
== Saving booking accounts for plentyPOS events

Orders generated in plentyPOS are assigned to the xref:orders:accounting.adoc#800[revenue accounts] saved in plentymarkets. Because deposits, withdrawals and till count discrepancies are not orders, you can save booking accounts for these POS events. This helps you to manage which booking accounts to associate with different POS deposits and withdrawals. In addition, you can save booking accounts for discrepancies resulting from till counts.

=== Saving booking accounts for till count discrepancies

If the actual cash on hand differs from the expected cash on hand after the count, you either need to balance the discrepancy or book the difference. When the difference is booked, the actual cash on hand is saved as the new expected cash on hand. At the same time, either a deposit (+) or a withdrawal (-) is booked depending on whether the difference is positive or negative. Proceed as described below to assign discrepancies resulting from till counts to booking accounts.

[.instruction]
Saving booking accounts for till count discrepancies:

. Go to *System » Client » [Select client] » Locations » [Select location] » Accounting*. +
→ The *Settings* tab opens.
. Click on the *Accounts* tab. +
→ The *Posting key* tab opens.
. Click on the *POS events* tab.
. Go to the *Withdrawal* area. In the row *Till count*, go to the *Account* column.
. Enter the account that you want to assign to withdrawals that occur if there is more cash in the till than expected.
. Go to the *Deposit* area. In the row *Till count*, go to the *Account* column.
. Enter the account that you want to assign to deposits that occur if there is less money in the till than expected.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The booking accounts are saved. +
→ Deposits and withdrawals that result from till count discrepancies are booked to this account automatically.

=== Saving booking accounts for general deposits and withdrawals

When POS users deposit or withdraw cash from a plentyPOS, they select a POS event to save a reason for the booking. By default, one POS event *Withdrawal* and one POS event *Deposit* are saved in the system. These events cannot be deleted. If you want to book deposit and/or withdrawal amounts to specific booking accounts, you can save booking accounts for these events. Proceed as described below to save accounts for these events. You also can save additional accounts if you want to assign different booking accounts to different events.

[.instruction]
Saving booking accounts for deposits and withdrawals:

. Go to *System » Client » [Select client] » Locations » [Select location] » Accounting*. +
→ The *Settings* tab opens.
. Click on the *Accounts* tab. +
→ The *Posting key* tab opens.
. Click on the *POS events* tab.
. Go to the *Withdrawal* area. In the row *Withdrawal*, go to the *Account* column.
. Enter the account that you want to assign to general withdrawals.
. Go to the *Deposit* area. In the row *Deposit*, go to the *Account* column.
. Enter the account that you want to assign to general deposits.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The booking accounts are saved. +
→ Deposits or withdrawals are assigned to this account.

=== Saving additional booking accounts for deposits and withdrawals

If you want to assign plentyPOS deposits and withdrawals to different booking accounts depending on the reason for the cash transfer, you can save additional POS events. POS users can select these POS events when they withdraw or deposit cash from the POS. Proceed as described below to save additional combinations of POS events and booking accounts.

[.instruction]
Saving additional booking accounts for deposits and withdrawals:

. Go to *System » Client » [Select client] » Locations » [Select location] » Accounting*. +
→ The *Settings* tab opens.
. Click on the *Accounts* tab. +
→ The *Posting key* tab opens.
. Click on the *POS events* tab.
. Click on *New deposit* or *New withdrawal*. +
→ A new line is inserted.
. Enter a *name* that POS users can select from the drop-down list when they deposit or withdraw cash.
. Enter the booking account that you want to associate with the deposit or withdrawal. +
*_Tip:_* Select the order in which the events are shown in the drop-down list by clicking on the arrows to the left of the account name.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The booking account is saved. +
→ POS users can select the event from the drop-down list during deposits and withdrawals.


[#180]
== Creating the shipping method Pickup

For POS orders to be processed in plentymarkets correctly, you need to allow the shipping method *Self pickup* for those items you want to bill through plentyPOS. The following preparations are necessary:

* Creating a shipping service provider for *pickup*
* Creating a shipping profile for *pickup*
* Activating the *pickup* shipping profile for an item

These preparations are described below.

[#190]
=== Creating a shipping service provider for pickup

Proceed as described below to create shipping service provider *Self pickup*. Only settings necessary to configure this shipping service provider are described. For general information about shipping service providers, refer to the xref:fulfilment:preparing-the-shipment.adoc#800[Preparing the shipment] page of the manual.

[.instruction]
Creating a shipping service provider for pickup:

. Go to *Setup » Orders » Shipping » Settings » Tab: Shipping service provider*.
. Click on *New* (icon:plus-square[role="green"]). +
→ A new line is added at the bottom of the overview.
. Carry out the settings. Pay attention to the explanations given in <<table-POS-shipping-provider-pickup>>.
. *Save* (icon:save[role="darkGrey"]) the settings.

[[table-POS-shipping-provider-pickup]]
.Creating a shipping service provider for *pickup*
[cols="1,3"]
|====
|Setting |Explanation

| *Name (en)*
|Enter a name for the shipping service provider, for example *Pickup*.

| *Name (back end)*
|Enter a name that will only be displayed in the back end of the system, such as *Pickup*.

| *Shipping service provider*
|Select the option *Self pickup* from the drop-down list.
|====

[#200]
=== Creating a shipping profile for pickup

Now create a shipping profile for pickup. Only settings necessary to configure this shipping profile are described. For general information about shipping profiles, refer to the xref:fulfilment:preparing-the-shipment.adoc#1000[Preparing the shipment] page of the manual.

[.instruction]
Creating a shipping profile for pickup:

. Go to *Setup » Orders » Shipping » Settings » Tab: Shipping profiles*.
. Click on *New* (icon:plus-square[role="green"]).
. Select the shipping service provider that you just created from the drop-down list.
. Carry out the settings. Pay attention to the explanations given in <<table-POS-shipping-profile-pickup>>.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The *Table of shipping charges* tab is displayed.
. *Save* the settings of the *Table of shipping charges* tab without making changes.

[[table-POS-shipping-profile-pickup]]
.Creating a shipping profile for *pickup*
[cols="1,3"]
|====
|Setting |Explanation

| *Shipping service provider*
|Select the shipping service provider *Self pickup* from the drop-down list.

| *Clients (stores)*
|This option is only displayed if at least one client (shop) has been set up in your system. Select a client) or the option *ALL* if you want to use the shipping profile for all online stores.

| *Order referrer*
|Select one or more plentyPOS as the order referrer.

| *Blocked payment methods*
|Select the payment methods that should not be offered for the shipping profile *Self pickup*.
|====

[#210]
=== Activating a shipping profile for an item

Now activate the shipping profile *Self pickup* for those items you want to sell at the POS.

[.instruction]
Activating a shipping profile for pickup:

. Go to *Item » Edit item*.
. Open the item.
. Click on the *Global* tab.
. Activate the shipping profile *Self pickup*.
. *Save* (icon:save[role="darkGrey"]) the settings.

Do you want to activate the shipping profile for a large number of items at the same time? Then use the xref:item:mass-processing.adoc#100[item group function].

[#100]
== Managing prices for POS orders

You need at least one xref:item:managing-items.adoc#[sales price] for which the POS referrer is activated to save POS prices for variations. Sales prices are created and managed centrally. Save prices for variations by linking variations to the sales price and saving a price.

[#750]
=== Creating a sales price for POS orders

If you have created sales prices with the right characteristics for POS orders already, you just need to activate the relevant POS referrer for this sales price. Proceed as described below to create a sales price for POS orders. Only settings necessary to configure the POS referrers are described.

[.instruction]
Creating a sales price for POS orders:

. Go to *Setup » Item » Sales prices*.
. Click on *New* (icon:plus-square[role="green"]). +
→ The *New* tab opens.
. Carry out the settings according to <<table-POS-sales-price>>.
. *Save* (icon:save[role="darkGrey"]) the settings.

[[table-POS-sales-price]]
.Creating a sales price for POS orders
[cols="1,3"]
|====
|Setting |Explanation

| *Position*
|Enter the position number. Sales prices are sorted in ascending order in the *Sales prices* area of item variations.

| *Internal name EN*
|Enter an internal name. The internal name is only used in the plentymarkets back end. It is not visible to customers.

| *External name EN*
|Enter an external name. The external name is displayed in the online store. It is visible to customers.

| *Minimum quantity*
|Sales prices with different minimum quantities can be used to create a quantity based graduation of prices in plentymarkets.

| *Currency*
|Activate the currency in which POS orders are paid for.

| *Price type*
|Activate a price type for the sales price. +
*RRP* = Activate the option if the sales price is a recommended retail price (RRP). If the RRP and another sales price are linked with a variation, the RRP is displayed in the online store as red strike-through text next to the sales price. +
*_Note:_*Prices of the type *RRP* only serve to visualise the price difference between the RRP and a sales price. Variations cannot be sold at this RRP price. +
*Special offer* = Activate the option to mark the sales price as a special offer.

| *Client*
|Activate the clients (stores) that should be linked to this sales price.

| *Country*
|Activate the country in which the POS will be used.

| *Referrer*
|Activate one or several POS referrers. The sales price is linked with the activated referrers.
|====

[#550]
=== Linking a sales price with variations

Now link the POS sales price with the main variations of the items you want to sell with your POS. The sales prices of the main variation are passed on to variations. You can also link individual sales prices with your variations.

[.instruction]
Linking a sales price with the main variation:

. Go to *Item » Edit item*.
. Open the item. +
→ The *Settings* tab of the main variation opens.
. Go to the *Sales prices* area and select the sales price from the drop-down list.
. Select whether the price is net or gross.
. *_Optional:_* Select a price calculation.
. Click on *Add*. +
→ The sales price is added and displayed in the list.
. Enter a value into the *Price* field.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The prices are passed to the variations of the item. Save a different price for variations with a different price.

[#800]
== Specifying rounding behaviour for POS orders

Totals are always shown with 2 decimal places on plentyPOS receipts. However, the settings in the plentymarkets back end determine if order prices are rounded to 2 decimal places or if 4 decimal places are used for calculations. The rounding behaviour for orders generated in plentyPOS is determined by the following 3 options:

.Options to set rounding behaviour for POS orders
[cols="10,1,1"]
|====
|Menu |Option |Possible settings

|Setup » Client » [Select client] » Locations » [Select location] » Accounting
|Number of decimal places
a|
* 2
* 4

|Setup » Client » [Select client] » Locations » [Select location] » Accounting
|Round totals only
a|
* Yes
* No

|Setup » POS » [Select client] » [Open POS] » Tab: Receipt
|List identical order items
a|
* Individually
* In aggregate
|====

These settings result in 6 combinations of settings:

* Show order items individually, round individual prices to 2 decimal places
* Show order items individually, round individual prices to 4 decimal places
* Show order items individually, round totals to 4 decimal places
* Show order items in aggregate, round individual prices to 2 decimal places
* Show order items in aggregate, round individual prices to 4 decimal places
* Show order items in aggregate, round totals to 4 decimal places

[IMPORTANT]
.Settings influence total sums
====
Total sums differ depending on the settings you select. For example, this affects the revenue calculation within the VAT report that is part of the xref:pos:plentymarkets-pos-for-pos-users.adoc#230[z report]. Note that these discrepancies increase the more items requiring rounding are present per POS order and receipt.
====

=== Example calculation

<<table-POS-rounding>> shows an example calculation that illustrates rounding discrepancies resulting from different combinations of settings.

The example calculation is based on the following data:

. Calculation basis: Item at a price of 4.545 GBP
. Calculation 1: 10 items sold
. Calculation 2: 10 items sold at 5% discount

[[table-POS-rounding]]
.Example calculation for an item price with 4 decimal places
[cols="2,1,1"]
|====
|Selected settings |Calculation 1 (4.545 GBP x 10) Total on receipt |Calculation 2 (4.545 GBP x 10 - 5 %) Total on receipt

|Number of decimal places = 2  +
Order items = Individually
|45.50 GBP
|43.20 GBP

|Number of decimal places = 4  +
Round totals only = No +
Order items = Individually
|45.45 GBP
|43.18 GBP

|Number of decimal places = 4 +
Round totals only = Yes +
Order items = Individually
|45.45 GBP
|43.18 GBP

|Number of decimal places = 2 +
Order items = In aggregate
|43.50 GBP
|43.50 GBP

|Number of decimal places = 4 +
Round totals only = No +
Order items = In aggregate
|45.45 GBP
|43.18 GBP

|Number of decimal places = 4 +
Round totals only = Yes +
Order items = In aggregate
|45.45 GBP
|43.18 GBP
|====

For more detailed information and additional rounding examples, refer to the xref:orders:accounting.adoc#150[Accounting] page of the manual.

[#95]
== Creating a default customer for POS orders

For POS orders to be saved in plentymarkets correctly, every order must be associated with a contact. Proceed as described to create a *default customer* for POS orders. Only settings necessary to configure the default customer for POS orders are described.  For general information about creating customers, refer to the xref:crm:create-contact.adoc#[Creating a contact] page of the manual.

[IMPORTANT]
.Agree on your settings for the default customer for POS orders with your tax adviser.
====
Before setting up default customers for POS orders, discuss the settings to be used with your tax adviser.
====

[.instruction]
Creating a default customer for POS orders:

. Go to *CRM » Contacts*.
. Click on *Create new contact*.
. Carry out the settings according to <<table-POS-default-customer>>.
. *Save* (icon:save[role="darkGrey"]) the settings.
. Go to *Setup » POS » [Select client] » [Open POS] » Basic settings*.
. Enter the ID of the default customer into the *Default customer* field.
. *Save* (icon:save[role="darkGrey"]) the settings.

[[table-POS-default-customer]]
.Creating a default customer for POS orders
[cols="1,3"]
|====
|Setting |Explanation

| *Company*
|Enter a company name, for example plentymarkets POS.

| *Form of address*
|Select the option*Company* from the drop-down list.

| *Street; +
POSTCODE*; +
*Town*
|Enter the street, postcode and town.

| *Country*
|Select the country in which the POS will be used from the drop-down list. The default setting is based on the option *Country* in the xref:welcome:quick-start-initial-settings#100[Setup » Settings » Master data] menu.

| *Client*
|Select a client from the drop-down list if you do not want to assign this POS to the default client.

| *Type*
|Select the option*Customer* from the drop-down list.
|====

[#220]
== Creating a dummy item

You may find that items are to be sold for which no data record exists in plentymarkets. For instance, it is often too labour intensive to create data records for miscellaneous items or remnants. Create a dummy item to be able to sell these items anyway. POS users can then add the dummy item to the POS shopping cart and modify the price and/or the name of the order item.

The following preparations are required to work with dummy items.

* Create a dummy item for each VAT rate you need for your product portfolio. As such, if you sell items with 19% and 7% VAT, you need two dummy items.
* Activate the option *Query price if price is 0* so POS users can enter the price manually.
* Assign POS users the right to edit prices.
* Assign POS users the right to rename order items (optional).

The required settings are described in <<table-POS-dummy-item>>. The subheadings indicate the menu in which the settings are carried out.

[[table-POS-dummy-item]]
.Recommended settings for dummy items
[cols="1,3"]
|====
|Setting |Explanation

2+^| *Item » Edit Item » Edit item » Create new item » Tab: Settings*

| *Limitation*
|Select the option *Do not administer stock for this variation*.

| *Price*
|Select the sales price for the POS and enter the price *0.00*.

| *VAT*
|Enter the VAT rate that should be used for the dummy item.

2+^| *Setup » POS » [Select client] » [Open POS]*

| *Query price if price is 0*
|Activate the option.

2+^| *Setup » Settings » User » Accounts » [Open account] » Tab: Right » Tab: Mobile » POS functions*

| *Edit price*
|Activate the right for POS users to allow them to edit prices.

| *Rename order item*
||Activate the right for POS users if POS users should be able to edit the name of dummy items.
|====

[#2100]
== Multipurpose coupons and promotional coupons

In plentymarkets, multipurpose coupons are treated as a product that customers can buy in the form of _gift cards_. If someone has a multipurpose coupon, they can redeem it in exchange for products or services.

In contrast, promotional coupons are used for _advertising purposes_. If someone has a coupon, then they can redeem it to get a discount in your store, e.g. 20% off everything except garden supplies.

Even though multipurpose coupons and promotional coupons are used for different purposes, they are both configured the same way in plentymarkets. Therefore, both topics are explained here in the same chapter.

The following preparations in the plentymarkets back end are necessary to sell multipurpose coupons and promotional coupons via plentyPOS:

* xref:orders:coupons.adoc#prepare-items-for-purchase-coupons[Decide which items] customers should be allowed to purchase with coupons.
* xref:orders:coupons.adoc#create-coupon-item[Create coupon items] with 0% VAT, to add the coupons to the products that your business sells.
* xref:orders:coupons.adoc#create-campaign[Create a campaign] for coupons. Use the option *Coupon variety* to speciiy whether it is a multipurpose coupon or a promotional coupon.
* xref:orders:coupons.adoc#link-coupon-item-to-campaign[Link your coupon items to the campaign].
* *_Optional:_* en:pos:integrating-plentymarkets-pos.adoc#850[Generate codes] or save your own coupon codes in the back end.
* *_Optional:_* Create coupon templates and make them available to POS users.
* *_Optional:_* Make coupon codes available to POS users.

[IMPORTANT]
.More than one POS
====
Do you have more than one POS and create your own coupon codes? Divide the printed coupon codes between the different POS or create a separate coupon campaign and coupon items to make sure that each coupon code is sold only once.
====

[#830]
=== Creating a campaign for POS multipurpose coupons

Now, create one or several campaigns for selling multipurpose coupons in plentyPOS. You have the following options:

* You create one campaign for all coupons you sell in plentyPOS.
* You create one campaign for each coupon value. +
*_Example:_* You want to sell multipurpose coupons for 10 GBP, 25 GBP and 50 GBP and a multipurpose coupon with a flexible value that POS users enter during the transaction. As such, you create 3 campaigns with the discount values 10, 25 and 50 GBP and a campaign with an amount of your choice.

If you operate more than one POS and want to use your own gift card codes it also may make sense to create separate campaigns for each POS. Proceed as described below to create a campaign for multipurpose coupons:

[.instruction]
Creating a campaign for POS multipurpose coupons:

. Go to *Orders » Coupons*.
. Click on *New campaign*.
. Carry out the settings. Pay attention to the explanations given in <<table-POS-gift-card-campaigns>>.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The new campaign is created and appears in the overview.

[[table-POS-gift-card-campaigns]]
.Settings for POS multipurpose coupon campaigns
[cols="1,3"]
|====
|Setting |User input

2+^|Campaign

| *Name*
|Enter a name for the campaign. +
*_Tip:_* The name should contain the name of the POS and the coupon value.

| *Description*
|Enter a description (optional).

| *Concept: Code*
|Select the option *Several codes* so that each coupon code can be redeemed only once and any remaining balance is calculated correctly in case the coupon is partly redeemed.

| *Concept: Redemptions*
|Select the option *Redemption until value is depleted*.

| *Use*
| Select one of the options *Single orders*, xref:orders:scheduler.adoc#[Subscriptions] or both.

| *Minimum order value*
|Do not enter a value. This is because multipurpose coupons are to be treated as a payment method. Thus, they cannot be subject to a minimum order value.

2+^|Validity

| *Start date*
|Enter the date at which the campaign is activated.

| *End date*
|Enter the date at which the campaign is deactivated.

| *Code validity in weeks*
|Enter the value *0*.

2+^|Coupon

| *Coupon type*
|Select the option *Coupon*.

| *Coupon variety*
|Select the option *Multipurpose coupon*.

| *Code length*
|Select the number of characters for the coupon codes.

| *Discount type*
|Select the option *Fixed amount*.

| *Discount value*
|Enter the coupon value, for example 10.00 = 10 GBP +
*_Note:_* Do not change the discount value once the first coupon has been sold. +
*_Tip:_* This value is assigned to codes automatically when you *Generate gift card codes manually* in the*Codes* tab without entering an amount in the *Value* field. +

| *Incl. Shipping costs*
|Do not activate this option.

2+^|Filter

| *Items coming from price comparison portals*
|Select *Do not permit* because plentyPOS is not connected to a price comparison portal.

| *Categories*
|Select the categories in which the coupon can be redeemed. The sub-categories of a selected category are included automatically.

| *Item*
|Do not enter a value. This is because multipurpose coupons are to be treated as a payment method. Thus, they cannot be limited to specific items.

| *Clients (stores)*
|Select the clients (stores) for which the coupons of the campaign should be valid.

| *Customer classes*
|Select the customer classes for which the coupons of the campaign should be valid.

| *Customer types*
|Select the customer types for which the coupons of the campaign should be valid.
|====

[#850]
=== Managing coupon codes

To redeem multipurpose coupons in plentyPOS, POS users enter the coupon code. A coupon code must be present in the plentymarkets back end at the time it is redeemed.

From the point of view of POS users, the configuration options in plentymarkets result in three possible scenarios when selling coupons:

* The coupon code is generated automatically at the POS.
* The POS user is issued with a list of coupon codes for each coupon value that have been saved in plentymarkets. The POS user enters a code. The value of the coupon code is retrieved.
* The POS user is issued with a list of coupon codes that have not been saved in plentymarkets. The POS user enters a code and a value.

Find out how to configure coupon codes for these different scenarios below.

[#2200]
==== Automatically generating coupon codes at POS

Administratively, it is easiest if POS users generate a xref:pos:plentymarkets-pos-for-pos-users.adoc#250[random coupon code] when they sell a coupon via plentyPOS. When the POS order is uploaded, the coupon code and the associated coupon value are then imported to the campaign that is linked to the coupon item. The coupon code is printed on the receipt. A coupon receipt is printed (optional). In addition, POS users can write down the coupon code on a decorative coupon.

[#2300]
==== Working with your own coupon codes

Your administrative work increases if you want to hand out coupon codes to POS users for them to enter when they sell items. However, it also has advantages. For instance, you can create decorative coupons that already contain the coupon code or the coupon code and the coupon value. POS users can then simply hand out these coupons.

Coupon codes can be saved in the system either before they are sold or at the time they are sold.

To save coupon codes in the plentymarkets back end before selling them:

* You generate coupon codes with fixed values in a campaign before you start selling coupons.
* You save coupon codes with fixed values in a campaign before you start selling coupons.

In both cases, you provide POS users with a list of these coupon codes and the coupon value associated with them.

To save coupon codes when they are sold:

* POS users enter a coupon code that is not yet saved in plentymarkets and the associated coupon value when selling a coupon.

In such cases, you provide POS users with a list of coupon codes. POS users enter the coupon value during the transaction. This value becomes the price at which the coupon is sold.

[IMPORTANT]
.Take note of creation date
====
You have handed out coupon codes generated in plentymarkets to POS users already and want to generate additional coupon codes? Then take note of the coupon codes' creation dates. Coupon codes are not flagged as sold in plentymarkets. To ensure that each coupon code is only sold once, only circulate the codes you created on a particular date. We recommend that you generate gift card codes in the *Orders » Coupons* menu and export these gift card codes to a CSV file. Filter the CSV file by the creation date, i.e. the column *GeneratedOn*. This leaves you with a list of the newly created coupon codes.
====

[#2400]
==== Generate coupon codes manually

Use the coupon generator in the *Codes* tab of a campaign to create one or more gift card codes automatically.

[.instruction]
Generating coupon codes with a fixed value:

. Go to *Orders » Coupons*.
. Click on the campaign for which you want to generate coupon codes.
. Click on the *Codes* tab.
. In the *Generate gift card codes manually* area to the left, enter the number of gift card codes you want to generate.
. *_Optional:_* In the *Value* field, enter the value that should be assigned to the coupon code. +
*_Tip:_* If you leave the *Value* field empty, the discount value of the campaign is assigned to the code.
. *Save* (icon:save[role="darkGrey"]) the entry. +
→ The coupon codes are created and added to the list of coupon codes.
. Click on *Export* to export the coupon codes. +
→ A CSV export of all coupon codes of the campaign is created.
. Filter the *GeneratedOn* column of the CSV file by the current date. This results in a list of all newly created coupon codes. +
. Provide POS users with the coupon codes and their value. +
*_Note:_* Do not circulate duplicate coupon codes. If you operate more than one POS, either split the coupon codes or create separate campaigns for each POS.

[#2500]
==== Saving your own coupon codes with a fixed value

Instead of generating coupon codes in plentymarkets, you also can save your own coupon codes in plentymarkets before selling them. Valid characters for coupon codes are lower and upper case letters, numbers, underscores (_) and hyphens (-).

[.instruction]
Saving your own coupon codes with a fixed value:

. Go to *Orders » Coupons*.
. Click on the campaign for which you want to save coupon codes.
. Click on the *Codes* tab.
. In the *Enter gift card code manually* area to the right, enter a code with 6 to 24 characters.
. *Save* the data. +
→ The coupon code is saved and added to the list of coupon codes. +
*_Tip:_* Use the data format *CampaignCoupon* to import several coupon codes at once. The *Discount value* is imported as the gift card value. As such, you need to create one campaign for each coupon value if you want to use the data format.
. Provide POS users with the coupon codes and their value. +
*_Note:_* Do not circulate duplicate coupon codes. If you operate more than one POS, either split the coupon codes or create separate campaigns for each POS.

[#3900]
=== Activating the printing and saving of coupon receipts

A coupon receipt can be created and printed. The coupon receipt shows the following information about the coupon:

* Coupon value
* Coupon code
* For partially redeemed coupons:
	* Redeemed amount
	* Remaining amount

[.instruction]
Activating printing of coupon receipts:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Click on the *Receipt* tab.
. Activate the option *Print and save gift card receipt*.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ A coupon receipt is printed when a coupon is sold or partially redeemed. +
→ The coupon receipt is saved in the document archive. +
→ If the option *Automatic printing* is activated in the plentymarkets app under *plentymarkets app » Settings » POS*, the coupon receipt is printed after the POS receipt is printed. +
→ If the option  *Automatic printing* is not activated in the plentymarkets app under  *plentymarkets app » Settings » POS*, the POS user can print the coupon receipt manually after completing the order. +
*_Note:_* Irrespective of the setting you select, the coupon code is always printed on the normal POS order receipt when a coupon is sold.


[#840]
=== Creating a coupon item

Now, create one or more coupon items. Because the campaign ID is linked at the item level, you cannot use variations to create coupons. For further information about creating items, refer to the xref:item:new-item.adoc#[Manually creating items] page of the manual. Only settings needed for creating coupon items are described here.

==== Creating coupon items with a fixed value

POS users are not prompted to enter a price when selling coupon items with a fixed price. This speeds up the transaction but also offers less flexibility.

When working with existing coupon codes:

* The value of the existing coupon code must match the price of the item. Thus, the coupon item must be linked to the campaign with the coupon codes of the correct values. If you create one campaign for each coupon value, each campaign is linked to one item only. If you create a campaign with different coupon values, this campaigns is linked to more than one coupon item.

[.instruction]
Creating coupon items with a fixed value:

. Go to *Item » Edit item*.
. Click on *New* (icon:plus-square[role="green"]). +
→ The *New item* tab opens.
. Select the type *Default*.
. Enter a name. +
*_Tip:_* The name should include the coupon value.
. Enter the content *1 piece*.
. Select a category.
. Select a sales price from the drop-down list. +
*_Note:_* The sales price must be linked to the order referrer of the POS.
. Enter the coupon value as the price.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The item is created and opened for editing.
. Carry out the additional settings. Note <<table-POS-multipurpose-coupon-item-settings>>.
. *Save* (icon:save[role="darkGrey"]) the settings.

[#2600]
==== Creating coupon items with a flexible value

Coupon items with flexible value are items with a price of 0.00 GBP. You can control the price at which these coupons are sold at the POS in two different ways:

* POS users enter a coupon code saved in plentymarkets. The value of the coupon code becomes the price of the coupon.
* When ringing up customers, POS users either generate a code or save a coupon code and enter the coupon value.

[.instruction]
Creating a coupon item with a flexible price:

. Go to *Item » Edit item*.
. Click on *New* (icon:plus-square[role="green"]). +
→ The *New item* tab opens.
. Select the type *Default*.
. Enter a name.
. Enter the content *1 piece*.
. Select a category.
. Select a sales price from the drop-down list. +
*_Note_*: The sales price must be linked to the order referrer of the POS.
. Enter a price of *0.00* GBP.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The item is created and opened for editing.
. Carry out the additional settings. Note <<table-POS-multipurpose-coupon-item-settings>>.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ *_With existing coupon code:_* POS users enter a coupon code of the campaign linked to this item. The item is billed at the value of the coupon code. +
→ *_Without existing coupon code:_* POS users are prompted to enter a price when they place the item in the POS shopping basket.

[[table-POS-multipurpose-coupon-item-settings]]
.Item settings for multipurpose coupons with fixed or flexible values
[cols="1,3"]
|====
|Setting |Explanation

2+^| *Item » Edit item » Open item » Open variation » Tab: Settings*

| *Active*
|Activate the option.

| *Limitation*
|Select the option *None*.

| *VAT*
|Select the option *0%*.

2+^| *Item » Edit item » Open item » Open variation » Tab: Availability*

| *Markets*
|Select those POS at which you want to sell the coupon items from the drop-down list.

| *Client*
|Select the client that is assigned to the POS.

2+^| *Item » Edit item » Open item » Tab: Fields*

| *Campaign ID*
|Enter the ID of the coupon campaign to link the item to the campaign.
|====

[#2700]
=== Selling and redeeming coupon cards

Selling coupon cards with varying values directly at the POS is a simple and practical method when dealing with coupons. This allows your POS users to sell coupon cards with the individual values desired by customers directly at the POS.
To use this method, carry out the following preparatory settings first:

* In case you have not done so yet. create an xref:pos:integrating-plentymarkets-pos.adoc#830[appropriate campaign] in plentymarkets.
* Set up a xref:pos:integrating-plentymarkets-pos.adoc#2600[coupon item with a flexible value] for this coupon type in plentymarkets.
* Add this coupon item to the xref:pos:integrating-plentymarkets-pos.adoc#60[favourites list] of your POS.
* Order link:http://lmgtfy.com/?q=barcode-cards+print[barcode cards] with pre-printed codes. Most providers of barcode cards expect you to send a CSV file containing the individual codes that should be placed on the cards. Also, you should provide them a layout template in Photoshop or Adobe Illustrator format for the frame design.

[TIP]
.Use a prefix for the codes
====
If you add the prefix *#* in front of the coupon code, the redemption process will be greatly facilitated later. Using the prefix, plentyPOS will quickly identify the code as a coupon code during the scanning process. This way, you do not have to manually press the coupon dialogue button.
====

The following video tutorial provides an overview of the individual steps of selling coupons.

.Selling coupons
video::382590843[vimeo]

You want to know how the sold coupons are redeemed? Take a look at the video tutorial liked below for more detailed information.

.Redeeming coupons
video::382590675[vimeo]

[#3800]
=== Assigning rights for selling coupons

Users with admin rights are able to create multipurpose coupons by default. *Back end* users must be assigned this right.

:rights-purpose: sell coupons
:right-one: pass:quotes[*CRM > Campaign > Code > Show*]
:right-two: pass:quotes[*CRM > Campaign > Code > Create*]
:right-three: pass:quotes[*CRM > Campaign > Code > Delete*]

include::_includes:partial$rights.adoc[]

[#2710]
=== Notes on selling multipurpose coupons

* Revenue does not increase when a multipurpose coupon is sold.
* Sold coupons are shown separately on the z report. The cash on hand only increases if the coupon is paid for in cash.

[#2800]
=== Notes on redeeming multipurpose coupons

* The value of the multipurpose coupon is deducted from the gross total.
* The revenue is increased by the redeemed coupon amount.
* On the Z report, redeemed coupons are shown with the payment method *Gift card*.
* The cash on hand does not increase when a coupon is redeemed.

[#3600]
== Preparing returns

To accept returns, all you need to do is select a default repair storage location for returns in the POS settings and set appropriate rights for those POS users that are allowed to handle returns. No other settings are necessary to return items in plentyPOS if you want to pay out refunds in cash. Note the xref:pos:integrating-plentymarkets-pos.adoc#2000[information on handling returns]. If you want to be able to convert the refund into a coupon, also prepare xref:pos:integrating-plentymarkets-pos.adoc#3100[refund coupons].


[#2000]
=== Return information

Note the following information on handling returns in plentymarkets POS:

* Refunds can be paid out in cash, via card payment or as a coupon.
* Customers cannot return multipurpose coupons.
* You can book returns for all orders saved in the system. As such, customers also can return order items they bought from other referrers, such as the online store or a market. The POS staff decides if a customer can return an item. As such, you should inform your POS staff about any referrers that are excluded from POS returns.
* By default, POS users are shown the storage location that in the *Basic settings* tab of the POS is set up as the *Default repair storage location*. POS users can select a different storage location for returned items. The possible storage locations are shown in the following order:
  .. Storage location from order = The storage location of the item at the time it was sold.
  .. Default repair storage location = The *Default repair storage location* selected in the *Basic settings* tab of the POS.
  .. Suggested storage locations = The storage location suggestions of the warehouses linked to the variation.
  .. Used storage locations = The storage locations in which the variation is stored already.
Tell your POS staff which storage location to select for returned items.
* If the main order included shipping costs, your POS staff decides whether or not those shipping costs are refunded during the return process. Thus, you should train your staff to make sure they know when to refund shipping costs.
* Instruct your POS staff to cross out returned items on the original receipt. This helps to ensure that customers do not return items more than once.
* If the customer was issued an invoice for the original order, they only receive money back if the price of the items they want to return is higher than the invoice amount they already paid.
* The refund amount can be converted into a coupon instead of paid out in cash. If you want to do so, train POS users so your staff knows when to pay out refunds in cash and when to issue a coupon for the amount instead.

[#3100]
=== Preparing refund coupons

Instead of paying the refund amount in cash, a coupon can be issued for the refund amount. In these cases, the refund amount is paid out theoretically only and a coupon is bought from the amount at the same time. Thus, when a refund is converted into a coupon,  a return, a credit note and a new order are created.

The following preparations in the plentymarkets back end are necessary to create coupons for refunds.

* Create a coupon campaign of the type *Multipurpose coupon*.
* Create coupon items with a VAT rate of 0% and link it to the coupon campaign.
* Link coupon item for refunds with the POS.
* Assign rights to Backend user accounts.


These steps are described below. Find more detailed information on creating campaigns and coupons on the xref:orders:coupons.adoc#[Coupons] page of the manual.


[#3200]
==== Creating a campaign for refund coupons

Proceed as described below to create a campaign for coupons for refunds:

[.instruction]
Creating a campaign for refund coupons:

. Go to *Orders » Coupons*.
. Click on *New campaign*.
. Carry out the settings. Pay attention to the explanations given in <<table-POS-refund-campaign>>.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The new campaign is created and appears in the overview.

[[table-POS-refund-campaign]]
.Settings for coupons for refunds
[cols="1,3"]
|====
|Setting |Input

2+^|Campaign

| *Name*
|Enter a name for the campaign.

| *Description*
|Enter a description (optional).

| *Concept: Code*
|Select the option *Several codes*.

| *Concept: Redemptions*
|Select the option *Redemption until value is depleted*.

| *Use*
|Select one of the options *Single orders*, xref:orders:scheduler.adoc#[Subscriptions] or both.

| *Minimum order value*
|Do not enter a value.

2+^|Validity

| *Start date*
|Enter the date at which the campaign is activated.

| *End date*
|Enter the date at which the campaign is deactivated.

| *Code validity in weeks*
|Enter *0*.

2+^|Coupon

| *Coupon type*
|Select the option *Coupon*.

| *Coupon variety*
|Select the option *Multipurpose coupon*.

| *Code length*
|Select the number of characters for the coupon codes.

| *Discount type*
|Select the option *Fixed amount*.

| *Discount value*
|Enter the coupon value, for example 1.00.

| *Incl. Shipping costs*
|Do not activate the option.

2+^|Filter

| *Items coming from price comparison portals*
|Select the option *Do not permit*.

| *Categories*
|Select the categories in which the coupon can be redeemed. The sub-categories of a selected category are included automatically.

| *Item*
|Do not enter a value.

| *Clients (stores)*
|Select the clients (stores) for which the coupons of the campaign should be valid.

| *Customer classes*
|Select the customer classes for which the coupons of the campaign should be valid.

| *Customer types*
|Select the customer types for which the coupons of the campaign should be valid.
|====

[#3300]
==== Managing coupon codes

Codes for refund coupons are managed like other coupon codes. You have the following options:

* <<#2200, The POS automatically generates a coupon code.>>
* <<#2300, The POS user enters a code that is not saved in plentymarkets.>>


[#4000]
==== Activating the printing and saving of coupon receipts

A coupon receipt can be created and printed. The coupon receipt shows the following information about the coupon:

* Coupon value
* Coupon code
* For partially redeemed coupons:
	* Redeemed amount
	* Remaining amount

[.instruction]
Activating printing of coupon receipts:

. Go to *Setup » POS » [Select client]*.
. Open the POS.
. Click on the *Receipt* tab.
. Activate the option *Print and save gift card receipt*.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ A coupon receipt is printed when a coupon is sold or partially redeemed. +
→ The coupon receipt is saved in the document archive. +
→ If the option *Automatic printing* is activated in the plentymarkets app under *plentymarkets app » Settings » POS*, the coupon receipt is printed after the POS receipt is printed. +
→ If the option  *Automatic printing* is not activated in the plentymarkets app under  *plentymarkets app » Settings » POS*, the POS user can print the coupon receipt manually after completing the order. +
*_Note:_* Irrespective of the setting you select, the coupon code is always printed on the normal POS order receipt when a coupon is sold.

[#840b]
==== Creating coupon item for refunds

Create a coupon item with a price of 0.00 GBP. Only settings needed for creating coupon items for refunds are described here.

[.instruction]
Creating coupon item for refunds:

. Go to *Item » Edit item*.
. Click on *New* (icon:plus-square[role="green"]). +
→ The *New item* tab opens.
. Select the type *Default*.
. Enter a name.
. Enter the content *1 piece*.
. Select a category.
. Select a sales price from the drop-down list. +
*_Note_*: The sales price must be linked to the order referrer of the POS.
. Enter a price of *0.00* GBP.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ The item is created and opened for editing.
. Carry out the additional settings. Note <<table-POS-refunds-gift-cards-item-settings>>.
. *Save* (icon:save[role="darkGrey"]) the settings.
. Jot down the ID of the variation.

[[table-POS-refunds-gift-cards-item-settings]]
.Item settings for coupons for refunds
[cols="1,3"]
|====
|Setting |Explanation

2+^| *Item » Edit item » Open item » Open variation » Tab: Settings*

| *Active*
|Activate the option.

| *Limitation*
|Select the option *None*.

| *VAT*
|Select the option *0%*.

2+^| *Item » Edit item » Open item » Open variation » Tab: Availability*

| *Markets*
|Select one or more POS from the drop-down list.

| *Client*
|Select the client (store) of the POS.

2+^| *Item » Edit item » Open item » Tab: Fields*

| *Campaign ID*
|Enter the ID of the coupon campaign to link the item to the campaign.
|====

[#3400]
==== Linking coupon item for refunds with POS

[.instruction]
Linking coupon item for refunds with POS:

. Go to *Setup » POS » [Select client]*.
. Open the POS. +
→ The *Basic settings* tab opens.
. Activate the option *Refund customer with gift card*. +
. In the *Variation ID of refund gift card* field, enter the ID of the variation you set up for coupon refunds. +
→ The coupon item is selected automatically during a return.


[#3700]
==== Assigning rights for refund coupons

Users with admin rights are able to create refund coupons by default. *Backend* users must be assigned this right.

:rights-purpose: create refund coupons
:right-one: pass:quotes[*CRM > Campaign > Code > Show*]
:right-two: pass:quotes[*CRM > Campaign > Code > Create*]
:right-three: pass:quotes[*CRM > Campaign > Code > Delete*]

include::_includes:partial$rights.adoc[]

[#3500]
==== Additional information for refunds with coupons

* In the cash journal, refund coupons are shown as new orders with the note *Gift card due to return*. Just like when you pay out refunds in cash, a credit note is created. The cash on hand is reduced by the credit note. However, it immediately increases due to the new order. As such, the total cash on hand remains the same.
* On z reports, returned items refunded as coupons are shown as cash refunds.
* Coupons due to refunds are shown as coupon sales on the z report. The total cash on hand remains the same.

[#3000]
== Booking outgoing items automatically

The stock is not reduced automatically when you sell an item. Create the event procedure described below to book outgoing items when a POS order is created. For further information about managing stock, refer to the xref:stock-management:outgoing-items.adoc#[Booking items out] page of the manual.

include::_includes:partial$event-procedure.adoc[]

[[table-POS-event-procedure-outgoing-items]]
.Event procedure for booking outgoing items for POS orders
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| *Documents: Receipt generated*
|

| *Filter 1*
| *Order > Order type*
| *Order*

| *Filter 2*
| *Order > Referrer*
|Select the POS referrers for which outgoing items should be booked.

| *Procedure*
| *Order > Book outgoing items*
|
|====

[#230]
== Linking a POS to a device

Now, connect the POS with the device on which the POS is to be operated.

=== Linking a POS to a device

Proceed as described below to link a POS to the device on which the POS is to be operated.

[IMPORTANT]
.Set date and time automatically
====
To correctly synchronise POS orders and z reports with the plentymarkets back end, the date and time of the device must be set correctly. Thus, we recommend that you let the device set the date and time automatically to prevent z report inconsistencies.
====

[.instruction]
Linking a POS to a device:

. Open the plentymarkets App on the device that you want to link to this POS.
. Go to *plentymarkets App » Settings » POS*.
. Carry out the settings. Pay attention to the explanations given in <<table-POS-link-device>>.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ Device and POS are linked.

[[table-POS-link-device]]
.Linking a POS to a device
[cols="1,3"]
|====
|Setting |Explanation

| *Client*
|Select the client for which the POS was created.

| *POS*
|Select the POS.

| *Price*
|Select if the order items should be displayed with gross or net prices.

| *Fiscalisation*
|After you have successfully linked the xref:pos:pos-legal-compliance.adoc#500[technical security unit] to the POS, the IP address of the technical security unit will be displayed in this field.

| *Receipt printer*
|Enter the IP address of the receipt printer. +
*_Tip:_* Tap on *Print test receipt* to print a receipt with test data.

| *Printer*
|You can also operate <<1000, additional printers>> using the plugin plentyBase.

| *Automatic printing*
| *On* = Default setting. POS receipts and documents are printed automatically once a process is complete. +
*Off* =  POS users must trigger printing of POS receipts and documents manually.

| *Display* +
(tablets only)
| *Smartphone* =  Optimised view for smartphones; landscape or portrait. +
*Tablet* = Optimised view for tablets; landscape only.

| *Create the start receipt (Startbeleg)* +
(new POS with location in Austria only)
|Select this option to en:pos:integrating-plentymarkets-pos.adoc#1600[create the start receipt (Startbeleg)]. This will activate the tamper-proof signature unit for the POS. After the start receipt is created, the location country of the POS cannot be changed.

| *Create end receipt* +
(POS with location in Austria and activated signature unit only)
|Select this option to en:pos:integrating-plentymarkets-pos.adoc#2300[create the end receipt (Endbeleg)]. This will activate the tamper-proof signature unit for the POS. Once an end receipt has been created, the POS can no longer be operated.
|====

[#240]
=== Unlinking a POS from a device

You can unlink a POS from a device. Instead, either link a different POS to the device or select no POS.

[.instruction]
Unlinking a POS from a device:

. Open the plentymarkets app.
. Go to *plentymarkets App » Settings » POS*.
. For the setting *POS*, select a different POS or the empty option.
. *Save* (icon:save[role="darkGrey"]) the settings. +
→ Device and POS are unlinked.

[IMPORTANT]
.Unlinking is only possible on the device
====
You can only unlink a POS from a device in the settings of the device itself. Contact the plentymarkets support to unlink the device in case of device failure or loss.
====

[#250]
== Emailing receipts to existing customers

plentymarkets allows you to set up an event procedure that automatically emails POS receipts to the email address saved for a contact data record. First create an email template with the PDF attachment *Receipt*. Then, you create an event procedure. Note that for POS orders created in <<#1100, offline mode>>, the event procedure only takes effect once the POS order is uploaded to the plentymarkets back end. Before activating an event procedure for automatic emails, check the current legal restrictions regarding emailing customers.

[#260]
=== Creating an email template

First, create an xref:crm:sending-emails.adoc#1200[email template] that is sent when a receipt is generated.

[.instruction]
Creating an email template:

. Go to *Setup » Client » [Select client] » Email » Templates*.
. Click on *New email template*. +
→ The *New email template* window opens.
. Enter a name for the template.
. Select an owner or the setting *All* from the drop-down list *Owner*.
. Click on *Save* (icon:save[role="green"]). +
→ The email template is created and saved in one of the three folders based on the owner you selected.
. Select the PDF attachment *Receipt*.
. Carry out the additional settings. Note xref:crm:sending-emails.adoc#1200[Creating a new email template].
. *Save* (icon:save[role="darkGrey"]) the settings.

[#270]
=== Creating an event procedure for automatic emails

Now, create an event procedure that triggers an email to the customer when a receipt is generated.

include::_includes:partial$event-procedure.adoc[]

[[table-POS-event-procedure-send-receipt]]
.Event procedure for automatically sending receipts
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| *Documents: Receipt generated*
|

| *Filter 1*
| *Order > Order type*
| *Order* +
*Return*

| *Filter 2*
| *Order > Referrer*
|Select the POS for which you want to send email receipts.

| *Procedure*
| *Customer > Send email*
| *Template*: Select the email template you have set up for sending receipts. +
*Recipient*: Select the option *Customer*.
|====

[#990]
== Using loyalty cards

In addition to automatically emailing receipts, you can offer existing customers an additional service.  Loyalty cards with barcodes allow you to scan the barcode directly while xref:pos:plentymarkets-pos-for-pos-users.adoc#30[ringing up customers]. This way, a contact is automatically selected. Just like with <<#2700, coupon cards>>, the contact is identified using the barcode printed on the customer card. Depending on the method used, the contact is identified using either the contact ID or the customer number. <<table-pos-loyalty-cards>> explains both methods and describes the preparatory steps for creating loyalty cards.

[WARNING]
.Select one method only
====
Consider in advance which method you would like to use and which way of identifying customers works best for you and the workflow in your store. Do not change the method at a later point. If you do, the correct contact data will not be found when ringing out customers.
====

[[table-pos-loyalty-cards]]
.Methods for using customer cards
|====

|Mapping via contact ID |Mapping via customer number

a|For the mapping via the contact ID, a contact data record must already exist for the customer that you would like to provide with a customer card. This method is recommended if you already have a large group of existing customers and want to provide all of them with customer cards. +

* Contact data records are managed in the back end of your plentymarkets system. xref:crm:create-contact.adoc#create-contact[Add new contacts] or use the xref:crm:search-contact.adoc#[search] in the *CRM » Contacts* menu to view the contact IDs for the contacts that you want to provide with loyalty cards.

a|For the mapping via the customer number, a previous contact data record does not necessarily have to exist. Thus, you can select customer numbers according to your wishes and use them as a basis for the barcodes. This way, you can also order a large amount of customer cards in advance. However, make sure to assign unique customer numbers.

* When you are handing out the customer card, add the customer number to the respective contact data record manually. To do so, enter the customer number (without prefix) in the field *Customer number* in the *CRM » Contacts » [Open contact] menu*. *Save* (icon:save[role="darkGrey"]) the settings.

|====

As soon as you have selected a method, you can proceed with ordering the customer cards.

* Select a provider to order barcode cards with pre-printed codes. Most providers of barcode cards expect you to send a CSV file containing the individual codes that should be placed on the cards. Also, you should provide them a layout template in Photoshop or Adobe Illustrator format for the frame design.

* You can use an online tool to generate the required barcodes and send them to the provider in the requested format afterwards.

[IMPORTANT]
.Use the correct prefix
====
When generating the barcodes, add the prefix *+* (no space) to every contact ID or customer number. This prefix is needed for proper scanning and identifying of the customer data record at the POS.
====

[#1000]
== Setting up printing of POS receipts on other printers

By default, all POS receipts are printed on the receipt printer that you specify in the *plentymarkets App » Settings » POS* menu, option *Receipt printer*. However, you can also print POS receipts on other printers. For example, you might like to print receipts that need to be archived for longer periods on an A4 printer instead of on a thermal printer.

[TIP]
.Receipt printer does not require plentyBase
====
The receipt printer is connected to the plentymarkets app via the printer’s IP address. As such, you do not need plentyBase to operate the receipt printer. This means that you only need plentyBase if you want to use other printers with plentyPOS.
====

To use additional printers, you need a printer that can be accessed via the network that is connected to one or more printers on which you want to print the POS receipts. On this computer, you install the plugin xref:automation:installing-plentybase.adoc#[plentyBase]. plentyBase establishes a connection between the plentymarkets app and the local computer. This allows the POS to access any printers that the local computer can also access. Go to the plentymarkets back end menu *System » System settings » Settings » Printers* to configure these printers.

[#1010]
=== Installing and setting up plentyBase

plentyBase is a plugin developed by plentymarkets. Unlike many other plentymarkets plugin, plentyBase is not activated in the plentymarkets back end. Instead, you install and run plentyBase on a local computer. plentyBase establishes an interface that allows you to use the printers that are connected to the computer in the plentymarkets back end and/or the plentymarkets app.

The following steps are necessary to make the printers available to the plentymarkets app:

* plentyBase must be installed on the computer. +
→ Download the installation file in the link:https://marketplace.plentymarkets.com/en/plugins/integration/plentyBase_5053[plentyMarketplace^]
* plentyBase must be configured on the computer. +
→ Refer to the xref:automation:installing-plentybase.adoc#[plentyBase] page of the manual for instructions on how to set up plentyBase. +
*_Note:_*During setup, activate the option *HTTP server*. This ensures that plentyPOS can communicate with plentyBase.
* plentyBase must be running on the computer. +
*_Recommendation:_* Configure plentyBase to run automatically when the computer is started up.
* The plentyBase connection data must be saved in the plentymarkets app: +
→ To learn how to save plentyBase connection data in the app, refer to the xref:automation:installing-plentybase.adoc#[plentyBase] page of the manual.
* The printers must be configured in the plentymarkets back end menu *System » Settings » Printers*.

[#1020]
=== Saving printers for POS receipts

After you have set up plentyBase, you can select the printers that were configured in the plentymarkets back end from the drop-down lists of the *Printers* area in the *plentymarkets App » Settings » POS* menu.

Proceed as described below to select the printers for printing individual types of receipts.

[.instruction]
Selecting a printer for each type of receipt:

. Open the plentymarkets app.
. Go to *plentymarkets App » Settings » POS*.
. Configure the settings in the *Printers* area. Note <<table-POS-printers>>.
. *Save* (icon:save[role="darkGrey"]) the settings.

[[table-POS-printers]]
.Selecting printers for POS receipts
[cols="1,3"]
|====
|Setting |Explanation

| *Default printer*
|Select the default printer for the POS from the drop-down list. The receipt printer is selected by default. +
*_Note:_* The drop-down list shows the receipt printer and those printers in the network that the POS can access.
If you can only select the receipt printer or the default printer from the drop-down list, perform a <<1040, troubleshooting>>.

| *Purchase receipt*; +
*Z report*; +
*X report*; +
*Cash up*; +
*Cancellation receipt*; +
*Deposits and withdrawals*; +
*Coupon receipt*; +
*Return receipt*; +
*Credit note receipt*
|The default printer is selected by default. If you want to print all receipts on the default printer, you do not need to change any settings. If you want to print on different printers, select the printers on which you want to print the individual receipts from the drop-down list. +
*_Note:_* The drop-down lists show the receipt printer and those printers in the network that the POS can access.
If you can only select the receipt printer or the default printer from the drop-down lists, perform a <<1040, troubleshooting>>.
|====

[#1060]
=== Printing a test page

Proceed as described below to print a test page.

[.instruction]
Printing a test page:

. Open the plentymarkets app.
. Go to *plentymarkets App » Settings » POS*.
. Tap on the menu symbol at the top right of the screen.
. Tap on *Test print*. +
→ The *Test print* window is displayed.
. From the drop-down list, select the receipt for which you want to print a test page.
. Tap on *Print test page*. +
→ A test page is printed. +
→ If no test page is printed, check the settings as described in the <<1050, troubleshooting case 2>>.

[#1030]
=== Troubleshooting: Printer errors

[#1040]
==== Case 1: You are unable to select any printers in the POS settings

So far, you have not saved any additional printers in the POS settings. Only the receipt printer and the default printer can be selected from the drop-down lists of the *Printers* area. Note that in this case, the receipt printer and the default printer are identical.

* Did you install plentyBase on a computer in the network? +
→ Download the installation file in the link:https://marketplace.plentymarkets.com/en/plugins/integration/plentyBase_5053[plentyMarketplace^]
* Did you configure plentyBase correctly? +
→ Refer to the xref:automation:installing-plentybase.adoc#[plentyBase] page of the manual for instructions on how to set up plentyBase. +
*_Tip:_* Did you activate the option *HTTP server* and specify an HTTP port?
* Did you save the plentyBase settings in the app? +
→ To learn how to save plentyBase connection data in the app, refer to the xref:automation:installing-plentybase.adoc#[plentyBase] page of the manual. +
*_Tip:_* Did you save the correct HTTP port in the app?
* Is plentyBase running on the computer? +
*_Recommendation:_* Configure plentyBase to run automatically when the computer is started up.
* Has the printer been xref:automation:printer.adoc#[saved and set up] in the plentymarkets back end?

[#1050]
==== Case 2: Printers are saved in the POS settings but are not available

A printer was selected for printing one or more types of receipts and the selection was saved. However, the printer is now flagged with a warning symbol and printing is not possible.

* Is the computer running on which plentyBase is installed?
* Is the printer switched on and ready?
* Is the printer connected to the computer?
* Is plentyBase running on the computer?
* Did someone recently change the plentyBase configuration settings, for example the HTTP port or the access token? +
→ If so, did you save the new settings in the plentymarkets app?
* Was the printer configuration removed from the plentymarkets back end? +
→ Configure printers in the *Setup » Settings » Printers* menu.

[#1090]
== Setting up printing of item labels

For further information about creating label templates and printing item labels in the item search of the plentymarkets app, refer to the xref:app:item-search.adoc#[Searching for items, customers and orders] page of the manual.

[IMPORTANT]
.plentyBase einrichten
====
To print labels, you need the free plugin plentyBase. plentyBase establishes an interface that allows you to use the printers that are connected to the computer in the plentymarkets back end and/or the plentymarkets app. Refer to the xref:automation:installing-plentybase.adoc#[plentyBase] page of the manual for instructions on how to set up plentyBase.
====

[#1100]
== Using plentyPOS without an internet connection

You can carry out numerous transaction with plentyPOS even if you are offline. This is important in case the internet connection fails at the location of your POS or you want to run the POS at a location at which no internet connection is available.

We designed the plugin *plentyBase ItemCachePOS* for this specific use case. You can download the plugin link:https://marketplace.plentymarkets.com/en/plentybaseitemcachepos_6313[[from plentyMarketplace free of charge^]. Click on the *Description* tab to learn how to set up the plugin.

Note the following requirements to make sure that the plugin can be set up correctly and used in connection with plentyPOS:

[%interactive]

* [ ] The tool link:https://knowledge.plentymarkets.com/en/automation/processes/installing-plentybase[plentyBase^] has to be installed and running on your computer
* [ ] The link:https://knowledge.plentymarkets.com/en/automation/processes/installing-plentybase#2050[plentyBase connection data^] have to be saved in the plentymarkets app
* [ ] The plugin link:https://marketplace.plentymarkets.com/en/elasticexport_4763[Elastic Export^] has to be installed and deployed in your plentymarkets system
* [ ] The plugin link:https://marketplace.plentymarkets.com/en/elasticexport_4763[FormatDesigner^] has to be installed and deployed in your plentymarkets system

After you have completely set up the plugin *plentyBase ItemCachePOS*, you can sell items via plentyPOS without an internet connection. The plugin works as a temporary storage in which the transactions are saved during times when there is no internet connection. As soon as the internet connection is reestablished, the completed transactions are automatically synchronised with you plentymarkets system in the background.

[WARNING]
.Offline orders are deleted when you uninstall the app
====
If you uninstall the app on your device before all orders were uploaded to plentymarkets, the orders saved on your device are deleted permanently and cannot be recovered by you or the plentymarkets support team. As such, check that no offline orders exist on the device before you uninstall the app.
====

You can use the following functions for POS transactions while you are offline:

* xref:pos:plentymarkets-pos-for-pos-users.adoc#50[Manual item search] in the POS view and the returns view
* xref:pos:plentymarkets-pos-for-pos-users.adoc#70[Scanning items] in the POS view and in the returns view
* Selling items to xref:pos:integrating-plentymarkets-pos.adoc#95[default customers]
* xref:pos:plentymarkets-pos-for-pos-users.adoc#380[Booking returns by linking them to main orders]
* Searching for xref:pos:plentymarkets-pos-for-pos-users.adoc#60[favourites]
* Granting xref:pos:plentymarkets-pos-for-pos-users.adoc#170[discounts] on items

[IMPORTANT]
.Restrictions in the offline mode
====
The following functions cannot be used without an internet connection, even if you are using the plugin *plentyBase ItemCachePOS*:

* xref:pos:plentymarkets-pos-for-pos-users.adoc#250[Selling] and xref:pos:plentymarkets-pos-for-pos-users.adoc#160[redeeming] coupons
* xref:pos:plentymarkets-pos-for-pos-users.adoc#135[Selecting existing customers]
* xref:pos:plentymarkets-pos-for-pos-users.adoc#440[Accepting down payments]
* Loading and accepting payments for xref:pos:pos-online-orders.adoc#900[online orders (Click & Collect)]
* xref:pos:plentymarkets-pos-for-pos-users.adoc#370[Booking returns with link to main orders]
* Creating xref:pos:plentymarkets-pos-for-pos-users.adoc#220[x reports]
* Creating xref:pos:plentymarkets-pos-for-pos-users.adoc#230[z reports]
* Creating xref:pos:plentymarkets-pos-for-pos-users.adoc#450b[till count reports]
====

[#400]
== Searching POS transaction in the cash journal

All POS transactions are documented in plentymarkets. Use the *Data » POS » Protocols » Cash journal* menu to search, show or export POS transactions. Use the filters in the *Filters* tab to limit the number of POS transactions shown in the cash journal to those meeting specific criteria. The POS transactions found are listed in the *Cash journal* tab. By default, results are sorted by date. Proceed as described below to search POS transactions in the POS journal.

[.instruction]
Searching for POS transaction in the cash journal:

. Go to *Data » POS » Protocols » Cash journal*.
. Select filters. Note <<table-POS-cash-journal-menu>>.
. Click on *Search* (icon:search[role="blue"]). +
→ The POS transactions that correspond to the search criteria entered are listed in the *Cash journal* tab.

[[table-POS-cash-journal-menu]]
.Menu *Cash journal*
[cols="1,3"]
|====
|Setting |Explanation

2+^|Tab: Filter

| *Search*
|Click on *Search* (icon:search[role="blue"]) without selecting any filter settings to display all POS transactions. +
icon:map-signs[] *_Or:_* Limit the search results by using filters and click on *Search* (icon:search[role="blue"]). The POS transactions found are listed in the *Cash journal* tab.

| *Reset*
|Resets the selected filter criteria.

| *Receipt number: from*; +
*Receipt number: to*
|Enter the receipt numbers of the first and last receipt to search for receipts of a specific receipt number range. To show a single receipt, enter the same receipt number in the field *Receipt number: from* and the field *Receipt number: to*.

| *Booking account*
|Enter a xref:pos:integrating-plentymarkets-pos.adoc#950[booking account] to display the POS transactions for that booking account.

| *Include  gift card sales*
|Do you want to treat sold coupons like revenue? +
*Option activated* = Sold coupons contribute to the total revenue. The amounts are listed as “revenue (*R*)” in the cash journal. Sold coupons contribute to the value displayed in the *Amount* column on the right. Coupons are also treated like revenue in the PDF export and the CSV export.

| *Client (store)*
|Select a client (store) from the drop-down list to limit the results to POS transactions that were carried out for a specific client.

| *POS*
|Select a POS from the drop-down list to limit the results to POS transactions that were carried out with a specific POS.

| *User*
|Select a user from the drop-down list to limit the results to POS transactions that were carried out by a specific POS user.

| *Payment method*
|Select a payment method from the drop-down list to limit the results to POS transactions that were carried out using a specific payment method. Only active payment methods are listed.

| *Period*
|Select a period of time to limit the POS transactions shown to those that were created during this period. +
To only show receipts of a custom period, select the option *Date selection*. Then select the stat date from the calendar in the *from* field and the end date from the calendar in the *to* field or select the date from the calendar.

| *Type*
|Select a type from the drop-down list to limit the results to POS transactions of this type.

2+^|Tab: Cash journal

| *Date*
|Date and time of the POS event

| *Event*
|Indicates if the POS transaction can be categorised as revenue (*R*) or as spending (*S*).

| *Amount*
|The value of the POS transaction

| *Receipt number*
|The number of the receipt created for the POS transaction. Click on the receipt number to open a PDF file of the receipt.

| *Type*
|The type of the POS transaction

| *Cash on hand*
|The cash on hand after the POS transaction was completed

| *Order ID*
|The ID of the order created in plentymarkets

| *Tax rate*
|The VAT rates that apply for the order.

| *VAT*
|The VAT amount included in the order

| *Booking text*
|The booking text for the POS transaction. For deposits and withdrawals, the booking text is the reason entered for the cash movement.
|====

[#960]
== Changing POS orders in the plentymarkets back end

An order is created for POS orders in the plentymarkets back end. After the order has been created, legally relevant order details can no longer be changed. Only order details that change in the course of processing and fulfilling orders or that document the order history can be changed:

* Language
* Status
* Amount paid
* Payment status
* Reasons for return
* Assign order to a multi-order
* Delivery address
* Emailing
* Order note
* Shipped on
* Return date

[#910]
== Decommissioning a POS

Delete a POS to permanently take the POS out of commission. After deletion, the transactions generated with the POS remain saved in the system and can be analysed for tax purposes at any time.

[TIP]
.Points of sale in Austria
====
To take a POS with location in Austria out of commission, you need to create an end receipt (Endbeleg) once the signature unit was activated for the POS. This deletes the POS automatically.
====

[.instruction]
Deleting a POS:

. Go to *Setup » POS » [Select client]*.
. Click on the POS. +
→ The *Basic settings* tab of the POS opens.
. In the top left corner, click *Delete*. +
→ The POS is deleted. +
*_Note:_* If the POS is located in Austria and the signature unit is activated, an xref:pos:integrating-plentymarkets-pos.adoc#2300[end receipt] must be created in the app. This deletes the POS automatically.
