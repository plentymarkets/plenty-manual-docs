= Item statistics
:keywords: Google Analytics, orderconfirmationitemslist, item statistics
:description: Google Analytics item statistics
:page-index: false

== Tracking order confirmation items using Google Analytics

We recommend that you analyze your sales data to stay up to date with your customers' demands and position your products effectively. Analytics technologies such as Google Analytics collect anonymous user statistics regarding user behavior and provide you with invaluable information about the items in your store which sell well.  +
In this case example, a list of the items ordered is loaded into the template of the order confirmation and information regarding the individual items is sent to Google Analytics.

== Requirements

The following requirements must be met for this case example:

* A xref:omni-channel:universal-analytics.adoc#[Google Universal Analytics] account
* Activation of link:https://support.google.com/analytics/answer/1009612?hl=en[Ecommerce Tracking^] in Google Analytics

== Sending item data to Google Analytics

Insert the link:https://support.google.com/analytics/answer/1008080[tracking code snippet^] generated by Google into a template, e.g. *CMS » Web design » Layout » PageDesign » PageDesignCheckout*. Once the tracking code snippet has been inserted, data can be sent to Google Analytics.

=== Registering the transaction

To allow Google Analytics to associate item data with a transaction, the transaction must be registered with Google Analytics. For this purpose, the transaction ID and optional additional shopping cart data is sent to Google Analytics.  +
The following table shows the transaction data that can be transmitted to Google Analytics.

.transaction data
[cols="1,3,3"]
|====
|Parameter |Required? |Explanation

| *id*
|Yes
|Transaction ID

| *affiliation*
|No
|The store in which the transaction was completed.

| *revenue*
|No
|Transaction revenue

| *shipping*
|No
|Transaction shipping costs

| *tax*
|No
|Transaction tax
|====


An example code to register transactions with Google Analytics is shown below.

[.instruction]
Inserting example code into the design:

. Edit the example code to adjust it to your requirements.
. Go to *CMS » Web design » Layout » PageDesign » PageDesignCheckout*.
. Select the *PageDesignCheckoutMainFrame* tab.
. Insert the code example at an appropriate position of the template.

[source,plenty]
----
include::example$EX-EN-Transaktion-registrieren.html[]

----
=== Retrieving the item list and sending item data to Google Analytics

If the transaction was registered with Google Analytics, additional item parameters can be added to the transaction. This item data is passed for all items placed in the shopping cart. The following parameters are required:

.item data
[cols="1,3,3"]
|====
|Parameter |Required? |Explanation

| *id*
|Yes
|Transaction ID

| *name*
|Yes
|Item name

| *SKU*
|No
|Item number

| *category*
|No
|Category the item belongs to

| *price*
|No
|Price per item

| *quantity*
|No
|Number of items bought
|====


To track a transaction and items associated with it, use the REST call <<omni-channel/online-store/setting-up-clients/_cms-syntax/case-examples/item-statistics#checkout/orderconfirmationitemslist, /rest/checkout/orderconfirmationitemslist/>> in the *CMS » Web design » Order process » Order confirmation » Tracking* menu. This call returns a list of the items ordered. The code example below illustrates how to retrieve a transaction's item list using this REST call. Individual item data will be sent to Google Analytics at the same time.

[.instruction]
Inserting example code into the design:

. Edit the example code to adjust it to your requirements.
. Go to *CMS » Web design » Order process » Order confirmation*.
. Open the *Tracking* tab.
. Insert the code example at an appropriate position of the template.

[source,plenty]
----
include::example$EX-EN-Einzelne-Artikeldaten.html[]

----
