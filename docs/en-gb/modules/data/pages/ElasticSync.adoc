= Using the import tool
:keywords: Importing data, Data import, Import, ElasticSync, synchronise, Synchronisation, Data format, matching, Import options, mapping, Import data, create Sync, Data typ, manual upload, upload data manually, own value, RegEx function, Regular Expressions, regex, FTP, HTTPS, SFTP, Mathematical calculations, own mapping, filter import file, manipulate import file, cancel import, backup, import Backup
:description: Our import tool: Find out how to import data in plentymarkets.
:author: team-plenty-channel

This manual page describes how to import data using the import tool. Importing data is recommended in may situations. For example, it is useful if you want to add new items, customer data or stock etc. to your plentymarkets system and this data is available in a digital format. You can import data manually or automate the process.

You don’t know the Import tool yet? Then xref:data:import-introduction.adoc#[get to know the tool first].

[#1210]
== Creating an import

Create an import.

[.instruction]
Creating an import:

. Go to *Data » Import*. +
→ The import overview opens.
. Click on *Add import* (material:add[]). +
→ The editing area *New import* opens.
. Carry out the settings. Pay attention to the explanations given in <<table-create-sync>>. +
*_Important:_* Wait until the very end before you set the import interval. Otherwise, the first import might start while you are still working on the settings for the import matching or mapping.
. Save (material:save[]) the settings. +
→ The import is created. +
→ The matching settings of the import open.

[[table-create-sync]]
.Creating an import
[cols="1,4a"]
|===
|Setting |Explanation

2+^| *Basic data*

| *Name*
| Enter a name for the import. This name is displayed in the overview and can be used for the search.

| *Type*
| Which type of data do you want to import?

* xref:data:elasticSync-item.adoc#[Item] = Imports item data and variation data
* xref:data:elasticSync-attributes.adoc#[Attributes] = Imports attribute data
* xref:data:elasticSync-orders.adoc#[Orders] = Imports order data
* xref:data:elasticSync-postings.adoc#[Postings] = Imports postings, for example bank postings
* xref:data:elasticSync-properties.adoc#[Properties] = Imports properties
* xref:data:elasticSync-facets.adoc#[Facets] = Imports facets
* xref:data:elasticsync-parts-compatibility-listing.adoc#[Parts compatibility listing] = Imports parts compatibility listing data
* xref:data:elasticSync-coupon-codes.adoc#[Coupon codes] = Imports coupon codes
* xref:data:elasticSync-manufacturer.adoc#[Manufacturers] = Imports manufacturer data
* xref:data:elasticSync-campaigns.adoc#[Campaigns] = Imports coupon campaigns
* xref:data:elasticSync-categories.adoc#[Categories] = Imports category data
* xref:data:elasticSync-contacts.adoc#[Contacts, companies and addresses] = Imports contact data, company data and address data
* xref:data:elasticSync-warehouse.adoc#[Wareouse] = Imports warehouse data
* xref:data:elasticSync-characteristic.adoc#[Characteristics] = Imports characteristics data
* xref:data:elasticSync-newsletter-recipient.adoc#[Newsletter recipient] = Imports newsletter data
* xref:data:elasticSync-notes.adoc#[Notes] = Imports notes
* xref:data:elasticSync-stock.adoc#[Stock] = Imports stock data
* xref:data:elasticSync-incoming-items.adoc#[Incoming items] = Imports incoming item data

*_Something missing?_* Find a list of the available import types xref:page$import-types.adoc#[here].

| *Interval*
| In what intervals do you want to import the data? +

*_Important:_* Only set an import interval when you have finished all import settings. Otherwise, the first import might start while you are still working on the settings for the import matching or mapping.

[cols="1a,3a"]
!===
! *Inactive*
! No data is imported.

! *20 minutes*; +
 *Hourly*; +
*Daily*
! The file's data is imported in the selected interval.

! *Schedule*
! Adds a new option to the menu. This option allows you to select one or more times at which the import is started.
!===

| *Schedule* +
(for option *Schedule*)
| Click into the field. From the drop-down list shown, select one or more points in time. The import starts at these times.

2+^| *Import*

| *Data type*
| At the moment, you can only import CSV or TXT files. As such, select the option *CSV/TXT*.

| *Character set*
| Select the character set of the file or the option *Detect automatically*.

| *Starting in line*
| Select a line of the file from which the data should be imported.

| *Header is included*
| Select whether the import file contains a header.

| *Use global cache*
| Determine whether the global cache should be used for the file or not.

material:check_box_outline_blank[] = During each import process, all data rows are reimported. +
material:check_box[] = Only changed records are imported.

| *Automatic mapping*
|Select whether the mapping should be done automatically. The columns in the CSV or TXT file can be mapped automatically to the plentymarkets data fields. To ensure that the mapping works properly, the names of the fields that you selected in the FormatDesigner must not be changed.
// TODO: Improve description!!!!
// material:check_box_outline_blank[] = +
// material:check_box[] =

2+^| *Separator*

| *Separator*
| The option *Automatically detect* is selected as default. +
Alternatively, you can set the field separator manually. Possible separators are *Semicolon*, *Comma*, *Tab* and *Pipe*. +
*_Tip:_* The field separator is used to separate the individual data fields (i.e. columns) of a data record from each other.

| *Delimiter*
| What delimiter is used in the file in cases where the same field/the same column contains more than one value?

[cols="1a,7a"]
!===
! *"*
! Individual values within one field are separated by double quotation marks. 

! *'*
! Individual values within one field are separated by single quotation marks. 
!===

2+^| *Source*

| *Source*
| Select *Manual upload*, *FTP*, *HTTPS* or *SFTP*. +
Depending on the selected option, the following settings are shown:

[cols="1,5a"]
!===
! *Manual upload*
!
. In the field *File name*, click on *Select file* (material:more_horiz[]). +
→ The files saved in your webspace are shown.
. Click on *Upload file* (material:file_upload[]). +
. Select a local file. +
→ The file is uploaded to the webspace. +
*_Note:_* The option *Delete file after running the import* is activated as default. As such, the file is automatically deleted from the webspace after the data was imported.  Deactivate the option to keep the file in the webspace. *_You will be billed for storing the file on the webspace._*

! *FTP*
!  *_Important:_* plentymarkets no longer provides an FTP server. As such, only use this option if the import file is saved on an external FTP server.

* *Host* (mandatory field) = Enter the host of the FTP server.
* *Port* = Enter the port of the FTP server. If no port is entered, the default port 22 is used.
* *User name (mandatory field)* = Enter the user name for the FTP access.
* *Password (mandatory field)* = Enter the password for the FTP access.
* *File name* = Enter the path and the name of the file from which the data is to be imported. The file name has to end with .csv or .txt. +
  *_Note:_* You can use wildcards in the field *File name*. For example, replace a part of the file name with an asterisk (∗).
However, only use wildcard characters in combination with the option *Move file to archive when import was successful*.
* *Move file to archive when import was successful* = If this option is activated, the import file is automatically moved to a new *Archive* folder in the FTP directory after the import.

! *HTTPS*
!
. In the field *URL*, enter the URL where the import file is available.  +
*_Tip:_* Save the file on your plentymarkets webspace. +
*_You will be billed for storing the file on the webspace._*
. Select if an *Authentication* is needed to access the file.
  * *none* = no authentication required
  * *HTTP authentication* = an authentication is required for each user and password
. If you selected *HTTP authentication*, enter the *User name* and *Password* for the server.

! *SFTP*
! *_Important:_* plentymarkets no longer provides an FTP server. As such, only use this option if the import file is saved on an external FTP server.

* *Host* (mandatory field) = Enter the host of the FTP server.
* *Port* (mandatory field) = Enter the port of the FTP server. If no port is entered, the default port 22 is used.
* *User name* (mandatory field) = Enter the user name for the FTP access.
* *Password* (mandatory field) = Enter the password for the FTP access.
* *File name* = Enter the path and the name of the file from which the data is to be imported. The file name has to end with .csv or .txt. +
  *_Note:_* You can use wildcards in the field *File name*. For example, replace a part of the file name with an asterisk (∗).
However, only use wildcard characters in combination with the option *Move file to archive when import was successful*.
* *Move file to archive when import was successful* = If this option is activated, the import file is automatically moved to a new *Archive* folder in the FTP directory after the import.

!===

|===

[#1300]
== Setting the import options

The import options are set in the view *Matching*. These import options apply to both the matching and the mapping.

[.instruction]
Setting the import options:

. Go to *Data » Import » [Open import]*. +
→ The view *Settings* opens.
. Open the view *Matching*.
. Determine the import options. Pay attention to the explanations given in <<table-sync-import-options>>.
. Save (icon:save[role="green"]) the settings.

[[table-sync-import-options]]
.Import options for imports
[cols="1,4a"]
|===
|Import option |Explanation

| *Import options*
| How do you want to import the data?

[cols="1a,2a"]
!===
! *Import new data, update existing*
! If data can be found by means of the matching fields, a new data record is added, for example a new item or a new order. Existing records are updated.

! *Only update existing data*
! Existing records are updated. If no record can be found based on the matching fields, the record is not imported.

! *Only import new data*
! Only new records are imported, i.e. any records for which no matching data is found based on the matching fields.
!===

| *Decimal number*
| How are decimal numbers formatted in the import files?

[cols="1a,3a"]
!===
! *German spelling*
! Decimal numbers are formatted with commas. A period is used as thousands separator.

*_Examples:_* 13,95 Pound, 15.000 pieces

! *English spelling*
! Decimal numbers are formatted with periods. A comma is used as thousands separator.

*_Examples:_* 13.95 Euro, 15,000 units
!===

| *Date format*
| How are calendar dates formatted in the import files? +

If the calendar dates in the file are formatted in the standard format Y-m-d H:i:s, you do not need to enter any format. All other formats must be specified. All link:http://php.net/manual/de/function.date.php[php-compliant date formats^] are allowed.

|===

[#import-preview]
== Show the first five rows of the import file

//tag::import-preview[]
Use the preview function to view the first five rows of the import file in a table. For example, this is useful if you are not quite sure how the file is structured.

[.instruction]
Showing a preview:

. Go to *Data » Import » [Open import]*.
. In the toolbar, click on *Preview* (icon:eye[role="blue"]). +
→ In a new window *Preview*, the first five rows of the import file are shown in a table.
. Click outside the window to close it.
//end::import-preview[]

[#1400]
== Specifying matching fields

you have created an import. Now, open the import to continue with the settings. First, select the fields that should be used for matching data records. At the same time, you specify what happens if no existing record is found during the matching.

You can specify one, multiple or all matching fields. The matching fields are different for each import type.

[NOTE]
.Matching fields are optional
====
The matching fields are optional. However, if you do not select a matching field, the data in your file cannot be assigned to existing data in your system. So new data records are saved during each import. This can result in duplicate records in your system.
====

[.instruction]
Specifying matching fields:

. Go to *Data » Import » [Open import]*. +
→ The view *Settings* opens.
. Open the view *Matching*.
. Carry out the settings. These settings depend on the xref:page$import-types.adoc#[import typ] you selected.
. Save (material:save[]) the settings.

// TODO: Add example

[#1500]
== Mapping fields

Mappings allow you to specify which columns of your file are imported to which plentymarkets data fields. So without any mappings, no data can be imported. However, you do not need to map all sources of the import file. Only map the sources that you want to import.

[#understand-mappings]
=== Procedure

. Create the mapping. In other words, you specify in which plentymarkets data fields you want to save the data of the import file. (<<#create-mappings, How?>>)
. You map the sources of the import file to the plentymarkets data fields in which you want to save the data. (<<#do-mappings, How?>>) +
*_Tip:_* You can also manipulate the data from the import file in different ways during the import:
  * You specify your own value. By doing this, you will save the same value in a plentymarkets data field for all data records. (<<#own-value, How?>>)
  * You create a regular expression to reorder the data of a source. (<<#1520, How?>>)
  * You create a mathematical formula to recalculate numerical values of a source during the import.
  * You create your own mappings to replace the values of a source with other values during the import. (<<#1520a, How?>>)
. You activate the sources to be imported. (<<#1510, How?>>)

[.collapseBox]
.What is a source?
--
In CSV files, each column is a source. TXT files are structured differently. However, it makes it easier to also imagine the data they contain as columns.
--

[#8448399216]
=== Understanding the "Mapping" menu

* The column *Import data* is a list of all columns in the import file. There is one row per column.
* The column *Preview* shows the first 6 values of each column of the file.
* In the column *plentymarkets data fields*, select the plentymarkets data field to be filled with the data of the column.

image::daten:import-mapping-colour.png[]

// TODO: List mappings

[#create-mappings]
=== Creating a mapping

[.instruction]
Creating a mapping:

. Go to *Data » Import » [Open import]*. +
→ The view *Settings* opens.
. Switch to the view *Mapping*.
. Click on *Add mapping* (material:add[]). +
→ The window *New mapping* opens.
. Enter a name for the mapping.
. Save the setting. +
→ The mapping is created and opened. +
→ The new mapping is active automatically. +
*_Tip:_* The position of the mapping is assigned in ascending order automatically. In other words, the first mapping of the import has the position 1, the second mappings has the position 2, etc.

[.collapseBox]
.Changing name and/or position of a mapping
--
You can change the name and the position of mappings at any time:

. In the toolbar of the mapping, click on *Settings* (icon:cog[role="dark grey"]). +
→ To the right of the toolbar, the fields *Name* and *Position* are shown.
. Adjust the name and/or the position.
. Save (material:save[]) the settings.
--

[#do-mappings]
=== Mapping data fields

In the view *Mapping*, decide which column in your file is imported to which data field in plentymarkets.

[.collapseBox]
.*_Tip:_* Show a table of the first five rows of the import file
--
include::data:page$ElasticSync.adoc[tag=import-preview]
--

[.instruction]
Mapping data fields:

. Go to *Data » Import » [Open import] » [Open mapping]*.
. Select a plentymarkets data field for each column that you want to import.
. Save (material:save[]) the mappings.

// TODO: Activate as well?

[#own-value]
==== Custom mapping: Own value

The option *Own value* allows to import a fix value for the data field. Thus, this fixed value is identical for each data record that is imported during this import.

[.collapseBox]
.Video: Mapping your own value
--
You want to import a file into plentymarkets, but it's missing a few key pieces of information? No need to modify the file by hand! This video shows you how to use ElasticSync’s "Own Value" function to add missing information to your sync.

*_Note:_* The term *ElasticSync* is outdated and has been replaced by *import*.

.Use an own value to complete imported data
video::329761403[vimeo]
--

[.instruction]
Mapping your own value:

. Navigate to the bottom of the view.
. Click on material:add[] *FIELD*. +
→ A new line is added. +
→ The source *Own value* is shown by default.
. In the field *Value*, enter the information that you want to save in the plentymarkets data field for all records of the import.
. Select the plentymarkets data field in which you want to save the value.
. Save (material:save[]) the mapping.

[#1520]
==== Custom mapping: Regular expressions

In order to consider a CSV or TXT file during the import as desired, the so-called RegEx function (Regular Expression) can be applied. This functionality manipulates data during the import based on commands. This means that no changes need to be made in the import file.

[IMPORTANT]
.Handle regular expressions with care!
====
Regular expressions are a powerful tool. However, they can also be tricky. As such, use regular expressions carefully and only if you are confident that they will work as expected. Some examples of external resources:

* link:http://php.net/manual/en/reference.pcre.pattern.syntax.php[http://php.net/manual/en/reference.pcre.pattern.syntax.php^]
* link:https://regexr.com/[https://regexr.com/^] +
  On this page, change the RegEx engine setting to *PCRE* first. To do so, use the drop-down list in the top right corner. In this drop-down list, the option *Javascript* is preselected.
====

[.collapseBox]
.Video: Regular expressions
--
Watch this video to learn more about the RegEx function. +

*_Note:_* The term *ElasticSync* is outdated and has been replaced by *import*.

.Modify your data with the RegEx function
video::329761682[vimeo]
--

[.instruction]
Replacing values with the RegEx function:

. Go to *Data » Import » [Open import] » [Open mapping]*.
. Navigate to the row of the source that you want to map.
. In the field *Source*, select the value *Regular expression*. +
→ The options for *Regular expression* are shown.
. In the field *Value*, select the column name of the import file.
. In the field *Search*, enter a search pattern.
. In the field *Replace*, enter a replace pattern.
. In the drop-down list *Target*, select the plentymarkets data field that you want to fill.
. Save (material:save[]) the settings. +
→ The data fields are updated during the import.

[.collapseBox]
.*_RegEx example 1:_* "TT.MM.YYYY" to "YYYY-MM-TT"
--

*Value*: "24.12.2017" +
*Search*: /^(\\d+).(\\d+).(\\d+)$/ +
*Replace*: $3﹣$2﹣$1 +

*_Result_*: "2017-12-24"

--

[.collapseBox]
.*_RegEx example 2:_* Change "[Surname], [First name]" to "[First name] [Surname]"

--

*Value*: “Musterberg, Maxi” +
*Search*: /^(\\w+), (\\w+)$/ +
*Replace*: $2 $1 +

*_Result:_* "Maxi Musterberg"
--

[#formula]
==== Custom mapping: Mathematical calculations

In the mapping overview, select the option *Mathematical calculations* in order to recalculate numerical values during the import.

The following calculation methods are available:

* Addition (+++)
* Subtraction (-)
* Multiplication (*)
* Division (/)
* Plus a percentage (+)
* minus a percentage (-)

[.instruction]
Updating values using mathematical calculations:

. Go to *Data » Import » [Open import] » [Open mapping]*.
. Navigate to the row of the source that you want to map.
. In the field *Source*, select the option *Mathematical calculations*. +
→ The options for *Mathematical calculations* are shown.
. From the drop-down list *CSV columns*, select the column name of the import file.
. From the drop-down list *Operator*, select the calculation type.
. In the field *Value*, enter a numerical value.
. In the drop-down list *Target*, select the plentymarkets data field that you want to fill.
. Save (material:save[]) the settings. +
→ The numerical values of the column are recalculated during the export. +
*_Important:_* The numbers in the import file stay the same.

[.collapseBox]
.*_Example:_* Increase prices by 5%
--

*CSV columns*: [Select the column containing the price] +
*Operator*: positive % +
*Value*: 5 +
*plentymarkets data field*: [Select sales price]

*_Result:_* The prices in the specified column are increased by 5% during the import. This higher price is saved as the price in plentymarkets.
--

[#1520a]
==== Custom mapping: Own mapping

With the own assignment you can assign existing values of a CSV or TXT file to other values in the system. This enables to define, which value is supposed to be imported for which ID. In addition, for values in the CSV or TXT file that are not assigned, you can specify a default value. If no default value is specified, the original value is imported.

Own mappings are particularly helpful when internal plentymarkets ID are at play.
Examples are characteristic names, item flags, payment methods, countries/states, ISO codes, etc.
Take a look at the video for own mappings to get to know the principle.

// TODO: WHAT!?!?!?

[.collapseBox]
.Video: Own assignments
--
Learn more about own mappings in this video.

*_Note:_* The term *ElasticSync* is outdated and has been replaced by *import*.

video::329761532[vimeo]
--

[.instruction]
Defining an own assignment:

. Go to *Data » Import » [Open import] » [Open mapping]*.
. Navigate to the row of the source that you want to map.
. In the dropdown menu of the *Source* field, select the option *Own assignment*.
. Fill in the fields. Pay attention to the explanations given in <<table-own-assignment>>.
. Save (material:save[]) the settings.

[[table-own-assignment]]
.Own assignment
[cols="1,3"]
|===
|Field |Setting

| Type
| Which column of the CSV or text file contains the values that you want to change?

| Default value
| Which value do you want to save in plentymarkets if a record does not contain any of the values that you entered in the field *From*?

| From
| Which value of this column do you want to change during the import?

| To
| What value do you want to save in plentymarkets instead of the original value *From*?
|===

////
[#1530]
=== Beispiel: Eigene Zuordnung verwenden

Let's assume that you want to use an import to activate shipping profiles in plentymarkets. Your file contains the item ID and the shipping service provider. In order to link an item to a shipping profile, the ID of the shipping profile is required. Because the name of the shipping profile cannot be used to activate the shipping profile.

*_Important:_* Note that the item and the shipping profile must already exist in plentymarkets for this to work.

You can find the shipping profile IDs in the menu *Setup » Orders » Shipping » Settings » Tab: Shipping profiles*. In our example, the shipping profile DPD has the ID 7.

[[image-importing-data-shipping profile]]
.Shipping profile
image::data:shipping-profile.png[]

Our import file contains all the data that we need. However, it contains the name of the shipping profile instead of the ID:

[[image-importing-data-item-id]]
.Item ID
image::data:item-id.png[]

In our example, it would be very easy to manually replace "DPD" with "7". However, in real life, it is exactly its ability to process large volumes of data that make the import such a powerful tool. So, we create an own mapping that will make the change automatically during the import.

As the source for the import data, we select the value *Own assignment*:

[[image-importing-data-mapping]]
.Own assignment
image::data:own-mapping.png[]

As the *Type*, we select the column of the import file that contains the data that we want to manipulate. In our example, this is the column *Shipping profile*:

[[image-importing-data-column]]
.Select the file format of the import file
image::data:type.png[]

Now we get to the cool part: We are going to decide which value in the import file is going to be changed into which value. In our example, we want to change "DPD" to "7". Remember, this is the ID of this shipping profile in plentymarkets.
Afterwards, carry out the import. The shipping profile is linked.

[[image-importing-data-value]]
.Determining a value
image::data:define-value.png[]
////

[#1510]
=== Activating sources of a mapping for the import

Now decide which information for your import file you want to import into plentymarkets. Because only active sources are exported.

*_Example:_* You received a CSV file with product data from a manufacturer. For now, you only want to import the purchase price (PP) and check the rest of the data later. Instead of deleting all the columns you do not need from the file, you only activate the import for the source/column of the file that contains the purchase price. Nifty, right?

[.instruction]
Activating sources for the import:



[tabs]
====
Activating a source for import::
+
--
. Go to *Data » Import » [Open import] » [Open mapping]*.
. To the left of the source, click on the toggle button *Activate row*. +
* material:toggle_off[role="darkGrey"] = The source is inactive. The source is ignored during the export. +
* material:toggle_on[role="blue"] = The source is active. During the import, the data of this source is imported.
. Save (terra:save[role="green"]) the settings.
--

Activating one or several sources for import::
+
--

. Go to *Data » Import » [Open import] » [Open mapping]*.
. To the very left, place a checkmark for all sources that you want to include in the import. +
*_Tip:_* Click on the check box at the very top to place a checkmark for all sources of the mapping at once.
. In the toolbar at the top, click on *Activate all* (icon:power-off[role="darkPurple"]). +
→ All selected sources are activated. +
*_Tip:_* Correspondingly, you can use *Deactivate all* (icon:power-off[role="darkPurple"]) to deactivate several or all sources at the same time.
. Save (terra:save[role="green"]) the settings.
--
====

[#1515]
=== Activating/deactivating mappings

New mappings are active automatically when you create them. But you can also deactivate one or more mappings and activate them again later.

[.instruction]
Activating/deactivating mappings:

. Go to *Data » Import » [Open import]*.
. Switch to the view *Mapping*. +
→ The mappings of the import are shown.
. In the column *Inactive/Active*, click on the toggle button. +
* material:toggle_off[role="darkGrey"] = The mapping is inactive. During the import, the settings of this mapping are not applied. +
* material:toggle_on[role="blue"] = The mapping is active. During the import, the settings of this mapping are applied. +
*_Important:_* If more than one mapping is active, the mapping with the lowest position is imported first. All other active mappings are also imported in ascending order based on the position.

[#1611]
== *_Optional:_* Filtering import data

You can use filters to limit the data to be imported. To view the filters, open the view *Mapping*.

[.instruction]
Adding a filter:

. Go to *Data » Import » [Open import] » [Open mapping]*.
. Click on *Filter* (icon:filter[role="yellow"]) in the toolbar.
. Click on material:add[] *Filter*. +
→ A new line is displayed.
. Select the *Source* from your file that you want to filter.
. Select which *rules* are applied.
. Enter a value.
. Select an operator. This operator determines how many filters are combined. +
*_Important:_* If you select the operator *And*, only those data records are imported that match *_all_* filter criteria.
. Add additional filters as necessary.
. Save (material:save[]) the settings. +
→ The filters are saved. +
→ Only data that meets these filter criteria is exported.

[#3362886156]
== Running the import

[#1610]
=== Checking imports for errors before the run

You can check imports for errors before the run.

[.instruction]
Checking imports for errors before the run:

. Go to *Data » Import » [Open import]*.
. In the toolbar, click on *Validation* (icon:bug[role="yellow"]). +
→ In a new window, a list of the error messages is shown.
. If errors occur and you need help in the forum:
  * Click on *Copy log to clipboard* (material:content_copy[]).
  * Add the information to your forum post.

[#import-test]
=== Testing the import

The option *Test import* allows you to check that all import settings are correct before you import large amounts of data.

*_Important:_* The first ten lines of the import file are imported during the test.

[.instruction]
Testing the import:

. Go to *Data » Import » [Open import]*.
. In the toolbar, click on *Test import* (icon:flask[role="blue"]). +
→ The first ten lines of the import file are imported.
. Open the menu that the data was imported to.
. Check if the data was imported as expected.
. Modify the import settings as needed.
. If necessary, delete the data that was imported as part of the test.

[#import-manual]
=== Manually running the import

include::partial$import-live-import.adoc[]

[#1645]
=== Cancelling an import

You can stop an import that you started. This function is only available while the import is being processed.

*_Important:_* When you cancel a running import, the records that were already imported are not deleted. If necessary, delete this data yourself.

[tabs]
====
Stopping an import::
+
--

[.instruction]
Stopping an import:

. Go to *Data » Status*. +
→ The status overview opens. +
. At the very right in the line of the import that you want to cancel, click on *Cancel import* (material:close[]). +
→ A window opens and you need to confirm your decision.
. Click on *Cancel import*. +
→ The import is cancelled. +
→ Only those data records are in the system that were already imported at the time you cancelled the import.
--

Stopping a live import::
+
--

[.instruction]
Stopping a live import:

* In the tab *Data import*, click on material:close[] *Cancel import* at the top right. +
→ The import is stopped. +
*_Important:_* Any data already imported will _not_ be deleted. If necessary, delete this data manually. +
*_Tip:_* Go to *Data » Status* to resume the import. To do so, click on *Resume import*.
--
====

[#1650]
== Replacing import files of manual imports

You created an import with the source *Manual upload*. You want this import to manually import a file again and again. This file is always structured in the same way. If the structure of the file's columns is still the same, you can upload the latest file directly in the import overview.

[.instruction]
Replacing import files of manual imports:

. Save the file on your computer.
. Go to *Data » Import*. +
→ The import overview opens.
. Navigate to the import.
. In the *File name* column, click on the button *Upload file* (material:upload[]). +
→ The file directory is shown.
. Click on the file. +
→ The file is uploaded. +
*_Important:_* The mappings are deleted if the column structure of the file has changed after all. So make sure to check that the import settings are still correct.

[#1625]
== Viewing success and error messages of imports

In the *Data » Log* menu you can see success and error messages of imports.

[.instruction]
Filtering and checking log entries:

. Go to *Data » Log*.
. In the toolbar, click on material:tune[].
. From the drop-down list *Reference type*, select the option *importId* or *importName*.
. *_Optional:_* Select filters for dates and/or times to only show entries from a specific period. +
*_Tip:_* For further information about the filters, see the xref:data:datalog.adoc[Data log] page of the manual.
. Click on *Search* (icon:search[role="blue"]). +
→ The results are shown.
. Focus on entries for the levels *warning* and *error*. +
*_Tip:_* Click on the entry to see details.

[#1715]
== Tracking the status of imports

Go to *Data » Data import » Status* to check the status of your import processes. This shows which imports started and are complete. A progress bar visualises how the import process is going. In addition, you can check if any errors occurred and if all rows of data of the file were imported.

[#1710]
=== Processing jobs in the queue

//TODO: Move!

The queue enables the import of large amounts of data. Before being imported, the import file is broken down into packages. Each package is a job. A job consists of 750 lines of a CSV or TXT file. However, import files with less than 750 lines also make a job. Whenever an import is started, the file is split up into the respective jobs and is put into the queue. In the queue, new jobs are permanently retrieved and the imports are processed. There are two different statuses. The status *Open jobs* means that there are jobs in the queue waiting to be processed. *Completed jobs* on the contrary have already been processed and the data have been imported.

[#1715a]
=== Viewing the status of imports

[.instruction]
Viewing the status of imports:

. Go to *Data » Data import » Status*. +
→ The status overview opens. +
. *_Optional:_* Do you need more information about the import? Click on an export to <<#status-details, see details>>.

[[table-sync-status]]
.Import status
[cols="1,3"]
|===
| Column | Explanation

| *Run ID*
| A run ID is created when an import is started. This makes it easier to distinguish the imports.

| *Import ID*
| The ID of the import +
*_Tip:_* To find the ID of your imports, go to *Data » Import* and check the column *ID*.

| *Name*
| The name of the import

| *Progress*
| The progress of the import process visualised in a bar. When all import processes are complete, the date and time is shown when you point your cursor to the progress bar.

| *Error*
| Errors that have occurred in the import jobs +
*_Important:_* If too many errors occur during the import process, the import is cancelled. An error message will tell you about this.

| *Imported rows*
| The number of lines that have been imported from the CSV or TXT files

| *Total rows*
| The total number of lines in the CSV or TXT file

| *Start time*
| The start time of the import
|===

=== Filtering the status list

Do you have a lot of imports? Then just filter the list.

[.instruction]
Filtering the status list:

. Go to *Data » Data import » Status*. +
. In the toolbar, expand the filters (material:tune[]).
. Select the filters you need.
. Click on *Search*. +
→ The list is filtered.

*_Tip:_* The filters that you applied are shown in the toolbar as individual "chips". Delete one or more of these chips to quickly delete filters. Click on *Search* (material:search[]) to update the list.

[.collapseBox]
.Which filters are available?
--

[cols="1,4"]
|===
| Filter | Explanation

| *Import ID*
| Reduces the list to imports with this ID.

| *Name*
| Reduces the list to imports with this name.

| *Status*
|  Reduces the list to imports with this status. You can filter by *In progress* or by *Completed*.

| *Start date from*
| Reduces the list to imports that were started on or after this date. +
*_Important:_* You can filter by imports of the last 7 days. Status information is deleted automatically after this time.

| *Start time from*
| Reduces the list to imports that were started on or after this time.

| *Start date to*
| Reduces the list to imports that were started up to this date. +
*_Important:_* You can filter by imports of the last 7 days. Status information is deleted automatically after this time.

| *Start time to*
| Reduces the list to imports that were started up to this time.
|===
--

[#status-details]
=== View import status details

You can view more details about the import.

[.instruction]
Viewing import status details:

. Go to *Data » Status*. +
→ The status overview opens.
. Click on the row of the import. +
→ The detail view opens. +
→ A list of the errors is shown. Optionally, you can open the view *Result*.
. *_Optional:_* Click on the row of an import. +
→ In a new window, the name of the column header, the raw data and the error message are shown.

[[table-detail-view-errors]]
.Error details
[cols="1,3"]
|===
| Information | Explanation

| *Line*
| The line where the error occurred

| *Column name*
| The name of the column where the error occurred

| *Error*
| A description of the error

| *Raw data*
| The raw data of the error
// TODO: What does that mean?
|===

[#1620]
=== Viewing an import log

A log is automatically created for every import process. This log contains information about the import process. The log information helps our supporters to help you analyse the error.

[.instruction]
Viewing an import log:

. Go to *Data » Data import » Status*. +
→ The status overview opens. +
*_Tip:_* Or open the status menu from the menu *Data » Import*. +
In the toolbar, click on *Status* (material:playlist_play[]).
. Click on the import. +
→ The detail view opens.
. At the top left of the toolbar, click on *Log* (material:playlist_play[]). +
→ The log is shown in a new window.
. *_Optional:_* Click on *Copy to clipboard* (material:content_copy[]). Add the information in the forum when you post a support request.

[#manage-imports]
== Managing imports

Learn how to manage existing imports.

[#import-rights]
=== Assigning rights for back end users

:rights-purpose: work with imports and mappings
:right-one: pass:quotes[*Data > Sync > Update*]
:right-two: pass:quotes[*Data > Sync > Show*]
:right-three: pass:quotes[*Data > Sync > Create*]
:right-four: pass:quotes[*Data > Sync > Delete*]
:right-five: pass:quotes[*Data > Sync > Mapping > Update*]
:right-six: pass:quotes[*Data > Sync > Mapping > Show*]
:right-seven: pass:quotes[*Data > Sync > Mapping > Create*]
:right-eight: pass:quotes[*Data > Sync > Mapping > Delete*]
:right-nine: pass:quotes[*Data > Data log*]

include::_includes:partial$rights.adoc[]

[#1730]
=== Restoring older/deleted import settings

Did you delete an import by mistake? Or somebody made changes to a well configured import that need to be reverted? You can do both using the backup functionality.

*_Important:_*

* These settings reset the imports to an earlier state. You _cannot reset data imported into the system_ doing this. That's possible too, xref:data:backup.adoc#[but in a different way].
* Backups are only created once a day during the night. When you import a backup, the data is reset to this state.
* All imports are reset. As such, you cannot reset only one import. +
*_Example:_* Somebody changed the settings for an item data import by mistake. However, an import for coupons was also created on the same day. When you run the backup of last night, both imports are reset to the state they were in last night. The import for item data is repaired. However, the import for coupons is deleted because it did not yet exist at the time the backup was created. The solution? Export the import settings of any imports that were created or updated since the last update. After the backup, you can then import these into your system.

[.instruction]
Restoring backups of imports:

. Go to *Setup » Settings » Hosting » Backup*. +
→ The backup overview opens.
. In the line of the backup that you want to restore, click on *Restore backup* (material:open_in_browser[]) on the right. +
→ The window *Restore backup* is shown.
. For the setting *Import backup*, select the option *Partially import data base*.
. Activate the option *ElasticSync*. +
*_Tip:_* The import tool used to be called *ElasticSync*. That is why this option still has this name.
. Click on *Restore backup*. +
→ All imports are reset to the state they were in at the time the backup was created. +
→ There is no going back!


[#1630]
=== Copying import settings

You can copy one or more imports. That way, you can use well configured imports to quickly create a new import.

[.instruction]
Copying import settings:

. Go to *Data » Import*. +
→ The import overview opens.
. In the column to the very left, check one or more imports.
. In the toolbar, click on *Copy import* (material:content_copy[]). +
→ The import is copied. +
→ The name of the copied import is `Copy of [name of original import]`.

[#import-export]
=== Exporting import settings

You can export imports to a JSON file. This allows you to save imports on your computer or share them with other people.

[.instruction]
Exporting import settings:

. Go to *Data » Import*. +
→ The import overview opens.
. Select one or multiple imports.
. Click on *Export format* (material:system_update_alt[]). +
→ The import settings are saved to your computer as a JSON file.

[#import-import]
=== Exporting import settings

Our support team might provide you with an import template. The manual also offers a few best practice files. Or a nice person published a well-configured import in the forum.

You can import these templates into plentymarkets.

[.collapseBox]
.Video: Importing import templates
--
This video shows how to use preconfigured imports in order to safe time when importing data.

*_Note:_* The term *ElasticSync* is outdated and has been replaced by *import*.

video::336295238[vimeo]
--

[.instruction]
Importing import templates:

. Save the import template on your computer. +
*_Tip:_* Import templates are always JSON files.
. Go to *Data » Import*. +
→ The import overview opens.
. Click on *Import format* (material:open_in_browser[]). +
→ A list of the files in your webspace is shown.
. Click on *Upload file* (material:upload[]).
. Click on the import template. +
→ The file is uploaded to the webspace.
. In plentymarkets, click on the file. +
→ You are asked to confirm: "Do you really want to start the import?"
. Click on *Yes* to confirm. +
→ Because the import template comes from a different client, you are asked to adjust settings.
. Click on *OK*. +
→ The import template is imported to plentymarkets.
. Open the import.
. Check the import settings.
. Specify <<#1400, matching fields>>.
. Create <<#1500, the mappings>>.
